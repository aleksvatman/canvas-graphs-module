(function(xt,_t){typeof exports=="object"&&typeof module<"u"?_t(exports):typeof define=="function"&&define.amd?define(["exports"],_t):(xt=typeof globalThis<"u"?globalThis:xt||self,_t(xt.DiagramSheet={}))})(this,function(xt){"use strict";function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kn={exports:{}},qt={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go;function Zc(){if(Go)return qt;Go=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var c in o)c!=="key"&&(i[c]=o[c])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:s,ref:o!==void 0?o:null,props:i}}return qt.Fragment=t,qt.jsx=n,qt.jsxs=n,qt}var Kt={},On={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo;function Qc(){if(qo)return re;qo=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function a(p){return p===null||typeof p!="object"?null:(p=f&&p[f]||p["@@iterator"],typeof p=="function"?p:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function _(p,E,A){this.props=p,this.context=E,this.refs=y,this.updater=A||h}_.prototype.isReactComponent={},_.prototype.setState=function(p,E){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,E,"setState")},_.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function x(){}x.prototype=_.prototype;function N(p,E,A){this.props=p,this.context=E,this.refs=y,this.updater=A||h}var m=N.prototype=new x;m.constructor=N,w(m,_.prototype),m.isPureReactComponent=!0;var v=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(p,E,A,z,Y,U){return A=U.ref,{$$typeof:e,type:p,key:E,ref:A!==void 0?A:null,props:U}}function D(p,E){return S(p.type,E,void 0,void 0,void 0,p.props)}function j(p){return typeof p=="object"&&p!==null&&p.$$typeof===e}function B(p){var E={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(A){return E[A]})}var $=/\/+/g;function F(p,E){return typeof p=="object"&&p!==null&&p.key!=null?B(""+p.key):E.toString(36)}function V(){}function b(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(V,V):(p.status="pending",p.then(function(E){p.status==="pending"&&(p.status="fulfilled",p.value=E)},function(E){p.status==="pending"&&(p.status="rejected",p.reason=E)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function P(p,E,A,z,Y){var U=typeof p;(U==="undefined"||U==="boolean")&&(p=null);var W=!1;if(p===null)W=!0;else switch(U){case"bigint":case"string":case"number":W=!0;break;case"object":switch(p.$$typeof){case e:case t:W=!0;break;case d:return W=p._init,P(W(p._payload),E,A,z,Y)}}if(W)return Y=Y(p),W=z===""?"."+F(p,0):z,v(Y)?(A="",W!=null&&(A=W.replace($,"$&/")+"/"),P(Y,E,A,"",function(Q){return Q})):Y!=null&&(j(Y)&&(Y=D(Y,A+(Y.key==null||p&&p.key===Y.key?"":(""+Y.key).replace($,"$&/")+"/")+W)),E.push(Y)),1;W=0;var G=z===""?".":z+":";if(v(p))for(var X=0;X<p.length;X++)z=p[X],U=G+F(z,X),W+=P(z,E,A,U,Y);else if(X=a(p),typeof X=="function")for(p=X.call(p),X=0;!(z=p.next()).done;)z=z.value,U=G+F(z,X++),W+=P(z,E,A,U,Y);else if(U==="object"){if(typeof p.then=="function")return P(b(p),E,A,z,Y);throw E=String(p),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return W}function O(p,E,A){if(p==null)return p;var z=[],Y=0;return P(p,z,"","",function(U){return E.call(A,U,Y++)}),z}function T(p){if(p._status===-1){var E=p._result;E=E(),E.then(function(A){(p._status===0||p._status===-1)&&(p._status=1,p._result=A)},function(A){(p._status===0||p._status===-1)&&(p._status=2,p._result=A)}),p._status===-1&&(p._status=0,p._result=E)}if(p._status===1)return p._result.default;throw p._result}var L=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)};function R(){}return re.Children={map:O,forEach:function(p,E,A){O(p,function(){E.apply(this,arguments)},A)},count:function(p){var E=0;return O(p,function(){E++}),E},toArray:function(p){return O(p,function(E){return E})||[]},only:function(p){if(!j(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},re.Component=_,re.Fragment=n,re.Profiler=o,re.PureComponent=N,re.StrictMode=r,re.Suspense=u,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,re.__COMPILER_RUNTIME={__proto__:null,c:function(p){return C.H.useMemoCache(p)}},re.cache=function(p){return function(){return p.apply(null,arguments)}},re.cloneElement=function(p,E,A){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var z=w({},p.props),Y=p.key,U=void 0;if(E!=null)for(W in E.ref!==void 0&&(U=void 0),E.key!==void 0&&(Y=""+E.key),E)!k.call(E,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&E.ref===void 0||(z[W]=E[W]);var W=arguments.length-2;if(W===1)z.children=A;else if(1<W){for(var G=Array(W),X=0;X<W;X++)G[X]=arguments[X+2];z.children=G}return S(p.type,Y,void 0,void 0,U,z)},re.createContext=function(p){return p={$$typeof:s,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:i,_context:p},p},re.createElement=function(p,E,A){var z,Y={},U=null;if(E!=null)for(z in E.key!==void 0&&(U=""+E.key),E)k.call(E,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Y[z]=E[z]);var W=arguments.length-2;if(W===1)Y.children=A;else if(1<W){for(var G=Array(W),X=0;X<W;X++)G[X]=arguments[X+2];Y.children=G}if(p&&p.defaultProps)for(z in W=p.defaultProps,W)Y[z]===void 0&&(Y[z]=W[z]);return S(p,U,void 0,void 0,null,Y)},re.createRef=function(){return{current:null}},re.forwardRef=function(p){return{$$typeof:c,render:p}},re.isValidElement=j,re.lazy=function(p){return{$$typeof:d,_payload:{_status:-1,_result:p},_init:T}},re.memo=function(p,E){return{$$typeof:l,type:p,compare:E===void 0?null:E}},re.startTransition=function(p){var E=C.T,A={};C.T=A;try{var z=p(),Y=C.S;Y!==null&&Y(A,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(R,L)}catch(U){L(U)}finally{C.T=E}},re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},re.use=function(p){return C.H.use(p)},re.useActionState=function(p,E,A){return C.H.useActionState(p,E,A)},re.useCallback=function(p,E){return C.H.useCallback(p,E)},re.useContext=function(p){return C.H.useContext(p)},re.useDebugValue=function(){},re.useDeferredValue=function(p,E){return C.H.useDeferredValue(p,E)},re.useEffect=function(p,E,A){var z=C.H;if(typeof A=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(p,E)},re.useId=function(){return C.H.useId()},re.useImperativeHandle=function(p,E,A){return C.H.useImperativeHandle(p,E,A)},re.useInsertionEffect=function(p,E){return C.H.useInsertionEffect(p,E)},re.useLayoutEffect=function(p,E){return C.H.useLayoutEffect(p,E)},re.useMemo=function(p,E){return C.H.useMemo(p,E)},re.useOptimistic=function(p,E){return C.H.useOptimistic(p,E)},re.useReducer=function(p,E,A){return C.H.useReducer(p,E,A)},re.useRef=function(p){return C.H.useRef(p)},re.useState=function(p){return C.H.useState(p)},re.useSyncExternalStore=function(p,E,A){return C.H.useSyncExternalStore(p,E,A)},re.useTransition=function(){return C.H.useTransition()},re.version="19.1.0",re}var Zt={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Zt.exports;var Ko;function Jc(){return Ko||(Ko=1,function(e,t){process.env.NODE_ENV!=="production"&&function(){function n(g,M){Object.defineProperty(i.prototype,g,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",M[0],M[1])}})}function r(g){return g===null||typeof g!="object"?null:(g=te&&g[te]||g["@@iterator"],typeof g=="function"?g:null)}function o(g,M){g=(g=g.constructor)&&(g.displayName||g.name)||"ReactClass";var q=g+"."+M;Z[q]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",M,g),Z[q]=!0)}function i(g,M,q){this.props=g,this.context=M,this.refs=we,this.updater=q||me}function s(){}function c(g,M,q){this.props=g,this.context=M,this.refs=we,this.updater=q||me}function u(g){return""+g}function l(g){try{u(g);var M=!1}catch{M=!0}if(M){M=console;var q=M.error,K=typeof Symbol=="function"&&Symbol.toStringTag&&g[Symbol.toStringTag]||g.constructor.name||"Object";return q.call(M,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",K),u(g)}}function d(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===Cn?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case p:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case W:return"Suspense";case G:return"SuspenseList";case se:return"Activity"}if(typeof g=="object")switch(typeof g.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),g.$$typeof){case R:return"Portal";case Y:return(g.displayName||"Context")+".Provider";case z:return(g._context.displayName||"Context")+".Consumer";case U:var M=g.render;return g=g.displayName,g||(g=M.displayName||M.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case X:return M=g.displayName||null,M!==null?M:d(g.type)||"Memo";case Q:M=g._payload,g=g._init;try{return d(g(M))}catch{}}return null}function f(g){if(g===p)return"<>";if(typeof g=="object"&&g!==null&&g.$$typeof===Q)return"<...>";try{var M=d(g);return M?"<"+M+">":"<...>"}catch{return"<...>"}}function a(){var g=ne.A;return g===null?null:g.getOwner()}function h(){return Error("react-stack-top-frame")}function w(g){if(rt.call(g,"key")){var M=Object.getOwnPropertyDescriptor(g,"key").get;if(M&&M.isReactWarning)return!1}return g.key!==void 0}function y(g,M){function q(){it||(it=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",M))}q.isReactWarning=!0,Object.defineProperty(g,"key",{get:q,configurable:!0})}function _(){var g=d(this.type);return Ue[g]||(Ue[g]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),g=this.props.ref,g!==void 0?g:null}function x(g,M,q,K,ee,ce,oe,fe){return q=ce.ref,g={$$typeof:L,type:g,key:M,props:ce,_owner:ee},(q!==void 0?q:null)!==null?Object.defineProperty(g,"ref",{enumerable:!1,get:_}):Object.defineProperty(g,"ref",{enumerable:!1,value:null}),g._store={},Object.defineProperty(g._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(g,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(g,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:oe}),Object.defineProperty(g,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:fe}),Object.freeze&&(Object.freeze(g.props),Object.freeze(g)),g}function N(g,M){return M=x(g.type,M,void 0,void 0,g._owner,g.props,g._debugStack,g._debugTask),g._store&&(M._store.validated=g._store.validated),M}function m(g){return typeof g=="object"&&g!==null&&g.$$typeof===L}function v(g){var M={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(q){return M[q]})}function C(g,M){return typeof g=="object"&&g!==null&&g.key!=null?(l(g.key),v(""+g.key)):M.toString(36)}function k(){}function S(g){switch(g.status){case"fulfilled":return g.value;case"rejected":throw g.reason;default:switch(typeof g.status=="string"?g.then(k,k):(g.status="pending",g.then(function(M){g.status==="pending"&&(g.status="fulfilled",g.value=M)},function(M){g.status==="pending"&&(g.status="rejected",g.reason=M)})),g.status){case"fulfilled":return g.value;case"rejected":throw g.reason}}throw g}function D(g,M,q,K,ee){var ce=typeof g;(ce==="undefined"||ce==="boolean")&&(g=null);var oe=!1;if(g===null)oe=!0;else switch(ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(g.$$typeof){case L:case R:oe=!0;break;case Q:return oe=g._init,D(oe(g._payload),M,q,K,ee)}}if(oe){oe=g,ee=ee(oe);var fe=K===""?"."+C(oe,0):K;return Vt(ee)?(q="",fe!=null&&(q=fe.replace(Wt,"$&/")+"/"),D(ee,M,q,"",function(ze){return ze})):ee!=null&&(m(ee)&&(ee.key!=null&&(oe&&oe.key===ee.key||l(ee.key)),q=N(ee,q+(ee.key==null||oe&&oe.key===ee.key?"":(""+ee.key).replace(Wt,"$&/")+"/")+fe),K!==""&&oe!=null&&m(oe)&&oe.key==null&&oe._store&&!oe._store.validated&&(q._store.validated=2),ee=q),M.push(ee)),1}if(oe=0,fe=K===""?".":K+":",Vt(g))for(var ae=0;ae<g.length;ae++)K=g[ae],ce=fe+C(K,ae),oe+=D(K,M,q,ce,ee);else if(ae=r(g),typeof ae=="function")for(ae===g.entries&&(Pr||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Pr=!0),g=ae.call(g),ae=0;!(K=g.next()).done;)K=K.value,ce=fe+C(K,ae++),oe+=D(K,M,q,ce,ee);else if(ce==="object"){if(typeof g.then=="function")return D(S(g),M,q,K,ee);throw M=String(g),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return oe}function j(g,M,q){if(g==null)return g;var K=[],ee=0;return D(g,K,"","",function(ce){return M.call(q,ce,ee++)}),K}function B(g){if(g._status===-1){var M=g._result;M=M(),M.then(function(q){(g._status===0||g._status===-1)&&(g._status=1,g._result=q)},function(q){(g._status===0||g._status===-1)&&(g._status=2,g._result=q)}),g._status===-1&&(g._status=0,g._result=M)}if(g._status===1)return M=g._result,M===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,M),"default"in M||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,M),M.default;throw g._result}function $(){var g=ne.H;return g===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),g}function F(){}function V(g){if(Xt===null)try{var M=("require"+Math.random()).slice(0,7);Xt=(e&&e[M]).call(e,"timers").setImmediate}catch{Xt=function(K){Dr===!1&&(Dr=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var ee=new MessageChannel;ee.port1.onmessage=K,ee.port2.postMessage(void 0)}}return Xt(g)}function b(g){return 1<g.length&&typeof AggregateError=="function"?new AggregateError(g):g[0]}function P(g,M){M!==Ut-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Ut=M}function O(g,M,q){var K=ne.actQueue;if(K!==null)if(K.length!==0)try{T(K),V(function(){return O(g,M,q)});return}catch(ee){ne.thrownErrors.push(ee)}else ne.actQueue=null;0<ne.thrownErrors.length?(K=b(ne.thrownErrors),ne.thrownErrors.length=0,q(K)):M(g)}function T(g){if(!Nn){Nn=!0;var M=0;try{for(;M<g.length;M++){var q=g[M];do{ne.didUsePromise=!1;var K=q(!1);if(K!==null){if(ne.didUsePromise){g[M]=q,g.splice(0,M);return}q=K}else break}while(!0)}g.length=0}catch(ee){g.splice(0,M+1),ne.thrownErrors.push(ee)}finally{Nn=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var L=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),te=Symbol.iterator,Z={},me={isMounted:function(){return!1},enqueueForceUpdate:function(g){o(g,"forceUpdate")},enqueueReplaceState:function(g){o(g,"replaceState")},enqueueSetState:function(g){o(g,"setState")}},le=Object.assign,we={};Object.freeze(we),i.prototype.isReactComponent={},i.prototype.setState=function(g,M){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,M,"setState")},i.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};var he={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},$e;for($e in he)he.hasOwnProperty($e)&&n($e,he[$e]);s.prototype=i.prototype,he=c.prototype=new s,he.constructor=c,le(he,i.prototype),he.isPureReactComponent=!0;var Vt=Array.isArray,Cn=Symbol.for("react.client.reference"),ne={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},rt=Object.prototype.hasOwnProperty,ot=console.createTask?console.createTask:function(){return null};he={"react-stack-bottom-frame":function(g){return g()}};var it,Yt,Ue={},st=he["react-stack-bottom-frame"].bind(he,h)(),Ft=ot(f(h)),Pr=!1,Wt=/\/+/g,Ir=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},Dr=!1,Xt=null,Ut=0,Gt=!1,Nn=!1,$r=typeof queueMicrotask=="function"?function(g){queueMicrotask(function(){return queueMicrotask(g)})}:V;he=Object.freeze({__proto__:null,c:function(g){return $().useMemoCache(g)}}),t.Children={map:j,forEach:function(g,M,q){j(g,function(){M.apply(this,arguments)},q)},count:function(g){var M=0;return j(g,function(){M++}),M},toArray:function(g){return j(g,function(M){return M})||[]},only:function(g){if(!m(g))throw Error("React.Children.only expected to receive a single React element child.");return g}},t.Component=i,t.Fragment=p,t.Profiler=A,t.PureComponent=c,t.StrictMode=E,t.Suspense=W,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,t.__COMPILER_RUNTIME=he,t.act=function(g){var M=ne.actQueue,q=Ut;Ut++;var K=ne.actQueue=M!==null?M:[],ee=!1;try{var ce=g()}catch(ae){ne.thrownErrors.push(ae)}if(0<ne.thrownErrors.length)throw P(M,q),g=b(ne.thrownErrors),ne.thrownErrors.length=0,g;if(ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var oe=ce;return $r(function(){ee||Gt||(Gt=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(ae,ze){ee=!0,oe.then(function(at){if(P(M,q),q===0){try{T(K),V(function(){return O(at,ae,ze)})}catch(Xo){ne.thrownErrors.push(Xo)}if(0<ne.thrownErrors.length){var Wo=b(ne.thrownErrors);ne.thrownErrors.length=0,ze(Wo)}}else ae(at)},function(at){P(M,q),0<ne.thrownErrors.length&&(at=b(ne.thrownErrors),ne.thrownErrors.length=0),ze(at)})}}}var fe=ce;if(P(M,q),q===0&&(T(K),K.length!==0&&$r(function(){ee||Gt||(Gt=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),ne.actQueue=null),0<ne.thrownErrors.length)throw g=b(ne.thrownErrors),ne.thrownErrors.length=0,g;return{then:function(ae,ze){ee=!0,q===0?(ne.actQueue=K,V(function(){return O(fe,ae,ze)})):ae(fe)}}},t.cache=function(g){return function(){return g.apply(null,arguments)}},t.captureOwnerStack=function(){var g=ne.getCurrentStack;return g===null?null:g()},t.cloneElement=function(g,M,q){if(g==null)throw Error("The argument must be a React element, but you passed "+g+".");var K=le({},g.props),ee=g.key,ce=g._owner;if(M!=null){var oe;e:{if(rt.call(M,"ref")&&(oe=Object.getOwnPropertyDescriptor(M,"ref").get)&&oe.isReactWarning){oe=!1;break e}oe=M.ref!==void 0}oe&&(ce=a()),w(M)&&(l(M.key),ee=""+M.key);for(fe in M)!rt.call(M,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&M.ref===void 0||(K[fe]=M[fe])}var fe=arguments.length-2;if(fe===1)K.children=q;else if(1<fe){oe=Array(fe);for(var ae=0;ae<fe;ae++)oe[ae]=arguments[ae+2];K.children=oe}for(K=x(g.type,ee,void 0,void 0,ce,K,g._debugStack,g._debugTask),ee=2;ee<arguments.length;ee++)ce=arguments[ee],m(ce)&&ce._store&&(ce._store.validated=1);return K},t.createContext=function(g){return g={$$typeof:Y,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null},g.Provider=g,g.Consumer={$$typeof:z,_context:g},g._currentRenderer=null,g._currentRenderer2=null,g},t.createElement=function(g,M,q){for(var K=2;K<arguments.length;K++){var ee=arguments[K];m(ee)&&ee._store&&(ee._store.validated=1)}if(K={},ee=null,M!=null)for(ae in Yt||!("__self"in M)||"key"in M||(Yt=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),w(M)&&(l(M.key),ee=""+M.key),M)rt.call(M,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(K[ae]=M[ae]);var ce=arguments.length-2;if(ce===1)K.children=q;else if(1<ce){for(var oe=Array(ce),fe=0;fe<ce;fe++)oe[fe]=arguments[fe+2];Object.freeze&&Object.freeze(oe),K.children=oe}if(g&&g.defaultProps)for(ae in ce=g.defaultProps,ce)K[ae]===void 0&&(K[ae]=ce[ae]);ee&&y(K,typeof g=="function"?g.displayName||g.name||"Unknown":g);var ae=1e4>ne.recentlyCreatedOwnerStacks++;return x(g,ee,void 0,void 0,a(),K,ae?Error("react-stack-top-frame"):st,ae?ot(f(g)):Ft)},t.createRef=function(){var g={current:null};return Object.seal(g),g},t.forwardRef=function(g){g!=null&&g.$$typeof===X?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof g!="function"?console.error("forwardRef requires a render function but was given %s.",g===null?"null":typeof g):g.length!==0&&g.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",g.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),g!=null&&g.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var M={$$typeof:U,render:g},q;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return q},set:function(K){q=K,g.name||g.displayName||(Object.defineProperty(g,"name",{value:K}),g.displayName=K)}}),M},t.isValidElement=m,t.lazy=function(g){return{$$typeof:Q,_payload:{_status:-1,_result:g},_init:B}},t.memo=function(g,M){g==null&&console.error("memo: The first argument must be a component. Instead received: %s",g===null?"null":typeof g),M={$$typeof:X,type:g,compare:M===void 0?null:M};var q;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return q},set:function(K){q=K,g.name||g.displayName||(Object.defineProperty(g,"name",{value:K}),g.displayName=K)}}),M},t.startTransition=function(g){var M=ne.T,q={};ne.T=q,q._updatedFibers=new Set;try{var K=g(),ee=ne.S;ee!==null&&ee(q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(F,Ir)}catch(ce){Ir(ce)}finally{M===null&&q._updatedFibers&&(g=q._updatedFibers.size,q._updatedFibers.clear(),10<g&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),ne.T=M}},t.unstable_useCacheRefresh=function(){return $().useCacheRefresh()},t.use=function(g){return $().use(g)},t.useActionState=function(g,M,q){return $().useActionState(g,M,q)},t.useCallback=function(g,M){return $().useCallback(g,M)},t.useContext=function(g){var M=$();return g.$$typeof===z&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),M.useContext(g)},t.useDebugValue=function(g,M){return $().useDebugValue(g,M)},t.useDeferredValue=function(g,M){return $().useDeferredValue(g,M)},t.useEffect=function(g,M,q){g==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var K=$();if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(g,M)},t.useId=function(){return $().useId()},t.useImperativeHandle=function(g,M,q){return $().useImperativeHandle(g,M,q)},t.useInsertionEffect=function(g,M){return g==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),$().useInsertionEffect(g,M)},t.useLayoutEffect=function(g,M){return g==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),$().useLayoutEffect(g,M)},t.useMemo=function(g,M){return $().useMemo(g,M)},t.useOptimistic=function(g,M){return $().useOptimistic(g,M)},t.useReducer=function(g,M,q){return $().useReducer(g,M,q)},t.useRef=function(g){return $().useRef(g)},t.useState=function(g){return $().useState(g)},t.useSyncExternalStore=function(g,M,q){return $().useSyncExternalStore(g,M,q)},t.useTransition=function(){return $().useTransition()},t.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(Zt,Zt.exports)),Zt.exports}var Zo;function Ge(){return Zo||(Zo=1,process.env.NODE_ENV==="production"?On.exports=Qc():On.exports=Jc()),On.exports}/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo;function eu(){return Qo||(Qo=1,process.env.NODE_ENV!=="production"&&function(){function e(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===B?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case y:return"Fragment";case x:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case j:return"Activity"}if(typeof p=="object")switch(typeof p.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),p.$$typeof){case w:return"Portal";case m:return(p.displayName||"Context")+".Provider";case N:return(p._context.displayName||"Context")+".Consumer";case v:var E=p.render;return p=p.displayName,p||(p=E.displayName||E.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case S:return E=p.displayName||null,E!==null?E:e(p.type)||"Memo";case D:E=p._payload,p=p._init;try{return e(p(E))}catch{}}return null}function t(p){return""+p}function n(p){try{t(p);var E=!1}catch{E=!0}if(E){E=console;var A=E.error,z=typeof Symbol=="function"&&Symbol.toStringTag&&p[Symbol.toStringTag]||p.constructor.name||"Object";return A.call(E,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",z),t(p)}}function r(p){if(p===y)return"<>";if(typeof p=="object"&&p!==null&&p.$$typeof===D)return"<...>";try{var E=e(p);return E?"<"+E+">":"<...>"}catch{return"<...>"}}function o(){var p=$.A;return p===null?null:p.getOwner()}function i(){return Error("react-stack-top-frame")}function s(p){if(F.call(p,"key")){var E=Object.getOwnPropertyDescriptor(p,"key").get;if(E&&E.isReactWarning)return!1}return p.key!==void 0}function c(p,E){function A(){P||(P=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",E))}A.isReactWarning=!0,Object.defineProperty(p,"key",{get:A,configurable:!0})}function u(){var p=e(this.type);return O[p]||(O[p]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),p=this.props.ref,p!==void 0?p:null}function l(p,E,A,z,Y,U,W,G){return A=U.ref,p={$$typeof:h,type:p,key:E,props:U,_owner:Y},(A!==void 0?A:null)!==null?Object.defineProperty(p,"ref",{enumerable:!1,get:u}):Object.defineProperty(p,"ref",{enumerable:!1,value:null}),p._store={},Object.defineProperty(p._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(p,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(p,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:W}),Object.defineProperty(p,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:G}),Object.freeze&&(Object.freeze(p.props),Object.freeze(p)),p}function d(p,E,A,z,Y,U,W,G){var X=E.children;if(X!==void 0)if(z)if(V(X)){for(z=0;z<X.length;z++)f(X[z]);Object.freeze&&Object.freeze(X)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(X);if(F.call(E,"key")){X=e(p);var Q=Object.keys(E).filter(function(te){return te!=="key"});z=0<Q.length?"{key: someKey, "+Q.join(": ..., ")+": ...}":"{key: someKey}",R[X+z]||(Q=0<Q.length?"{"+Q.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,z,X,Q,X),R[X+z]=!0)}if(X=null,A!==void 0&&(n(A),X=""+A),s(E)&&(n(E.key),X=""+E.key),"key"in E){A={};for(var se in E)se!=="key"&&(A[se]=E[se])}else A=E;return X&&c(A,typeof p=="function"?p.displayName||p.name||"Unknown":p),l(p,X,U,Y,o(),A,W,G)}function f(p){typeof p=="object"&&p!==null&&p.$$typeof===h&&p._store&&(p._store.validated=1)}var a=Ge(),h=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.client.reference"),$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.prototype.hasOwnProperty,V=Array.isArray,b=console.createTask?console.createTask:function(){return null};a={"react-stack-bottom-frame":function(p){return p()}};var P,O={},T=a["react-stack-bottom-frame"].bind(a,i)(),L=b(r(i)),R={};Kt.Fragment=y,Kt.jsx=function(p,E,A,z,Y){var U=1e4>$.recentlyCreatedOwnerStacks++;return d(p,E,A,!1,z,Y,U?Error("react-stack-top-frame"):T,U?b(r(p)):L)},Kt.jsxs=function(p,E,A,z,Y){var U=1e4>$.recentlyCreatedOwnerStacks++;return d(p,E,A,!0,z,Y,U?Error("react-stack-top-frame"):T,U?b(r(p)):L)}}()),Kt}var Jo;function tu(){return Jo||(Jo=1,process.env.NODE_ENV==="production"?kn.exports=Zc():kn.exports=eu()),kn.exports}var I=tu(),H=Ge();const Ne=_t(H);var Se=function(){return Se=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Se.apply(this,arguments)};function bt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;function nu(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ru=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ou=nu(function(e){return ru.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),pe="-ms-",Qt="-moz-",de="-webkit-",ei="comm",Rn="rule",jr="decl",iu="@import",ti="@keyframes",su="@layer",ni=Math.abs,Hr=String.fromCharCode,zr=Object.assign;function au(e,t){return _e(e,0)^45?(((t<<2^_e(e,0))<<2^_e(e,1))<<2^_e(e,2))<<2^_e(e,3):0}function ri(e){return e.trim()}function Be(e,t){return(e=t.exec(e))?e[0]:e}function ie(e,t,n){return e.replace(t,n)}function Tn(e,t,n){return e.indexOf(t,n)}function _e(e,t){return e.charCodeAt(t)|0}function Et(e,t,n){return e.slice(t,n)}function Le(e){return e.length}function oi(e){return e.length}function Jt(e,t){return t.push(e),e}function cu(e,t){return e.map(t).join("")}function ii(e,t){return e.filter(function(n){return!Be(n,t)})}var An=1,St=1,si=0,Te=0,ve=0,Ct="";function Mn(e,t,n,r,o,i,s,c){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:An,column:St,length:s,return:"",siblings:c}}function qe(e,t){return zr(Mn("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Nt(e){for(;e.root;)e=qe(e.root,{children:[e]});Jt(e,e.siblings)}function uu(){return ve}function lu(){return ve=Te>0?_e(Ct,--Te):0,St--,ve===10&&(St=1,An--),ve}function Ae(){return ve=Te<si?_e(Ct,Te++):0,St++,ve===10&&(St=1,An++),ve}function ct(){return _e(Ct,Te)}function Pn(){return Te}function In(e,t){return Et(Ct,e,t)}function Br(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fu(e){return An=St=1,si=Le(Ct=e),Te=0,[]}function du(e){return Ct="",e}function Vr(e){return ri(In(Te-1,Yr(e===91?e+2:e===40?e+1:e)))}function hu(e){for(;(ve=ct())&&ve<33;)Ae();return Br(e)>2||Br(ve)>3?"":" "}function pu(e,t){for(;--t&&Ae()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return In(e,Pn()+(t<6&&ct()==32&&Ae()==32))}function Yr(e){for(;Ae();)switch(ve){case e:return Te;case 34:case 39:e!==34&&e!==39&&Yr(ve);break;case 40:e===41&&Yr(e);break;case 92:Ae();break}return Te}function gu(e,t){for(;Ae()&&e+ve!==57;)if(e+ve===84&&ct()===47)break;return"/*"+In(t,Te-1)+"*"+Hr(e===47?e:Ae())}function mu(e){for(;!Br(ct());)Ae();return In(e,Te)}function yu(e){return du(Dn("",null,null,null,[""],e=fu(e),0,[0],e))}function Dn(e,t,n,r,o,i,s,c,u){for(var l=0,d=0,f=s,a=0,h=0,w=0,y=1,_=1,x=1,N=0,m="",v=o,C=i,k=r,S=m;_;)switch(w=N,N=Ae()){case 40:if(w!=108&&_e(S,f-1)==58){Tn(S+=ie(Vr(N),"&","&\f"),"&\f",ni(l?c[l-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:S+=Vr(N);break;case 9:case 10:case 13:case 32:S+=hu(w);break;case 92:S+=pu(Pn()-1,7);continue;case 47:switch(ct()){case 42:case 47:Jt(wu(gu(Ae(),Pn()),t,n,u),u);break;default:S+="/"}break;case 123*y:c[l++]=Le(S)*x;case 125*y:case 59:case 0:switch(N){case 0:case 125:_=0;case 59+d:x==-1&&(S=ie(S,/\f/g,"")),h>0&&Le(S)-f&&Jt(h>32?ci(S+";",r,n,f-1,u):ci(ie(S," ","")+";",r,n,f-2,u),u);break;case 59:S+=";";default:if(Jt(k=ai(S,t,n,l,d,o,c,m,v=[],C=[],f,i),i),N===123)if(d===0)Dn(S,t,k,k,v,i,f,c,C);else switch(a===99&&_e(S,3)===110?100:a){case 100:case 108:case 109:case 115:Dn(e,k,k,r&&Jt(ai(e,k,k,0,0,o,c,m,o,v=[],f,C),C),o,C,f,c,r?v:C);break;default:Dn(S,k,k,k,[""],C,0,c,C)}}l=d=h=0,y=x=1,m=S="",f=s;break;case 58:f=1+Le(S),h=w;default:if(y<1){if(N==123)--y;else if(N==125&&y++==0&&lu()==125)continue}switch(S+=Hr(N),N*y){case 38:x=d>0?1:(S+="\f",-1);break;case 44:c[l++]=(Le(S)-1)*x,x=1;break;case 64:ct()===45&&(S+=Vr(Ae())),a=ct(),d=f=Le(m=S+=mu(Pn())),N++;break;case 45:w===45&&Le(S)==2&&(y=0)}}return i}function ai(e,t,n,r,o,i,s,c,u,l,d,f){for(var a=o-1,h=o===0?i:[""],w=oi(h),y=0,_=0,x=0;y<r;++y)for(var N=0,m=Et(e,a+1,a=ni(_=s[y])),v=e;N<w;++N)(v=ri(_>0?h[N]+" "+m:ie(m,/&\f/g,h[N])))&&(u[x++]=v);return Mn(e,t,n,o===0?Rn:c,u,l,d,f)}function wu(e,t,n,r){return Mn(e,t,n,ei,Hr(uu()),Et(e,2,-2),0,r)}function ci(e,t,n,r,o){return Mn(e,t,n,jr,Et(e,0,r),Et(e,r+1,-1),r,o)}function ui(e,t,n){switch(au(e,t)){case 5103:return de+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return de+e+e;case 4789:return Qt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return de+e+Qt+e+pe+e+e;case 5936:switch(_e(e,t+11)){case 114:return de+e+pe+ie(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return de+e+pe+ie(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return de+e+pe+ie(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return de+e+pe+e+e;case 6165:return de+e+pe+"flex-"+e+e;case 5187:return de+e+ie(e,/(\w+).+(:[^]+)/,de+"box-$1$2"+pe+"flex-$1$2")+e;case 5443:return de+e+pe+"flex-item-"+ie(e,/flex-|-self/g,"")+(Be(e,/flex-|baseline/)?"":pe+"grid-row-"+ie(e,/flex-|-self/g,""))+e;case 4675:return de+e+pe+"flex-line-pack"+ie(e,/align-content|flex-|-self/g,"")+e;case 5548:return de+e+pe+ie(e,"shrink","negative")+e;case 5292:return de+e+pe+ie(e,"basis","preferred-size")+e;case 6060:return de+"box-"+ie(e,"-grow","")+de+e+pe+ie(e,"grow","positive")+e;case 4554:return de+ie(e,/([^-])(transform)/g,"$1"+de+"$2")+e;case 6187:return ie(ie(ie(e,/(zoom-|grab)/,de+"$1"),/(image-set)/,de+"$1"),e,"")+e;case 5495:case 3959:return ie(e,/(image-set\([^]*)/,de+"$1$`$1");case 4968:return ie(ie(e,/(.+:)(flex-)?(.*)/,de+"box-pack:$3"+pe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+de+e+e;case 4200:if(!Be(e,/flex-|baseline/))return pe+"grid-column-align"+Et(e,t)+e;break;case 2592:case 3360:return pe+ie(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,Be(r.props,/grid-\w+-end/)})?~Tn(e+(n=n[t].value),"span",0)?e:pe+ie(e,"-start","")+e+pe+"grid-row-span:"+(~Tn(n,"span",0)?Be(n,/\d+/):+Be(n,/\d+/)-+Be(e,/\d+/))+";":pe+ie(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Be(r.props,/grid-\w+-start/)})?e:pe+ie(ie(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ie(e,/(.+)-inline(.+)/,de+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Le(e)-1-t>6)switch(_e(e,t+1)){case 109:if(_e(e,t+4)!==45)break;case 102:return ie(e,/(.+:)(.+)-([^]+)/,"$1"+de+"$2-$3$1"+Qt+(_e(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Tn(e,"stretch",0)?ui(ie(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ie(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,c,u,l){return pe+o+":"+i+l+(s?pe+o+"-span:"+(c?u:+u-+i)+l:"")+e});case 4949:if(_e(e,t+6)===121)return ie(e,":",":"+de)+e;break;case 6444:switch(_e(e,_e(e,14)===45?18:11)){case 120:return ie(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+de+(_e(e,14)===45?"inline-":"")+"box$3$1"+de+"$2$3$1"+pe+"$2box$3")+e;case 100:return ie(e,":",":"+pe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(e,"scroll-","scroll-snap-")+e}return e}function $n(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function vu(e,t,n,r){switch(e.type){case su:if(e.children.length)break;case iu:case jr:return e.return=e.return||e.value;case ei:return"";case ti:return e.return=e.value+"{"+$n(e.children,r)+"}";case Rn:if(!Le(e.value=e.props.join(",")))return""}return Le(n=$n(e.children,r))?e.return=e.value+"{"+n+"}":""}function xu(e){var t=oi(e);return function(n,r,o,i){for(var s="",c=0;c<t;c++)s+=e[c](n,r,o,i)||"";return s}}function _u(e){return function(t){t.root||(t=t.return)&&e(t)}}function bu(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case jr:e.return=ui(e.value,e.length,n);return;case ti:return $n([qe(e,{value:ie(e.value,"@","@"+de)})],r);case Rn:if(e.length)return cu(n=e.props,function(o){switch(Be(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Nt(qe(e,{props:[ie(o,/:(read-\w+)/,":"+Qt+"$1")]})),Nt(qe(e,{props:[o]})),zr(e,{props:ii(n,r)});break;case"::placeholder":Nt(qe(e,{props:[ie(o,/:(plac\w+)/,":"+de+"input-$1")]})),Nt(qe(e,{props:[ie(o,/:(plac\w+)/,":"+Qt+"$1")]})),Nt(qe(e,{props:[ie(o,/:(plac\w+)/,pe+"input-$1")]})),Nt(qe(e,{props:[o]})),zr(e,{props:ii(n,r)});break}return""})}}var Eu={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ut=typeof process<"u"&&process.env!==void 0&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",li="active",fi="data-styled-version",Ln="6.1.17",Fr=`/*!sc*/
`,jn=typeof window<"u"&&"HTMLElement"in window,Su=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:process.env.NODE_ENV!=="production"),di=/invalid hook call/i,Hn=new Set,Cu=function(e,t){if(process.env.NODE_ENV!=="production"){var n=t?' with the id of "'.concat(t,'"'):"",r="The component ".concat(e).concat(n,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.
See https://styled-components.com/docs/basics#define-styled-components-outside-of-the-render-method for more info.
`,o=console.error;try{var i=!0;console.error=function(s){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];di.test(s)?(i=!1,Hn.delete(r)):o.apply(void 0,bt([s],c,!1))},H.useRef(),i&&!Hn.has(r)&&(console.warn(r),Hn.add(r))}catch(s){di.test(s.message)&&Hn.delete(r)}finally{console.error=o}}},zn=Object.freeze([]),kt=Object.freeze({});function Nu(e,t,n){return n===void 0&&(n=kt),e.theme!==n.theme&&e.theme||t||n.theme}var Wr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ku=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ou=/(^-|-$)/g;function hi(e){return e.replace(ku,"-").replace(Ou,"")}var Ru=/(a)(d)/gi,Bn=52,pi=function(e){return String.fromCharCode(e+(e>25?39:97))};function Xr(e){var t,n="";for(t=Math.abs(e);t>Bn;t=t/Bn|0)n=pi(t%Bn)+n;return(pi(t%Bn)+n).replace(Ru,"$1-$2")}var Ur,gi=5381,lt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mi=function(e){return lt(gi,e)};function Tu(e){return Xr(mi(e)>>>0)}function yi(e){return process.env.NODE_ENV!=="production"&&typeof e=="string"&&e||e.displayName||e.name||"Component"}function Gr(e){return typeof e=="string"&&(process.env.NODE_ENV==="production"||e.charAt(0)===e.charAt(0).toLowerCase())}var wi=typeof Symbol=="function"&&Symbol.for,vi=wi?Symbol.for("react.memo"):60115,Au=wi?Symbol.for("react.forward_ref"):60112,Mu={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pu={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xi={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Iu=((Ur={})[Au]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ur[vi]=xi,Ur);function _i(e){return("type"in(t=e)&&t.type.$$typeof)===vi?xi:"$$typeof"in e?Iu[e.$$typeof]:Mu;var t}var Du=Object.defineProperty,$u=Object.getOwnPropertyNames,bi=Object.getOwnPropertySymbols,Lu=Object.getOwnPropertyDescriptor,ju=Object.getPrototypeOf,Ei=Object.prototype;function Si(e,t,n){if(typeof t!="string"){if(Ei){var r=ju(t);r&&r!==Ei&&Si(e,r,n)}var o=$u(t);bi&&(o=o.concat(bi(t)));for(var i=_i(e),s=_i(t),c=0;c<o.length;++c){var u=o[c];if(!(u in Pu||n&&n[u]||s&&u in s||i&&u in i)){var l=Lu(t,u);try{Du(e,u,l)}catch{}}}}return e}function Ot(e){return typeof e=="function"}function qr(e){return typeof e=="object"&&"styledComponentId"in e}function ft(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ci(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function Rt(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Kr(e,t,n){if(n===void 0&&(n=!1),!n&&!Rt(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Kr(e[r],t[r]);else if(Rt(t))for(var r in t)e[r]=Kr(e[r],t[r]);return e}function Zr(e,t){Object.defineProperty(e,"toString",{value:t})}var Hu=process.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function zu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=[],o=1,i=e.length;o<i;o+=1)r.push(e[o]);return r.forEach(function(s){n=n.replace(/%[a-z]/,s)}),n}function Tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return process.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error(zu.apply(void 0,bt([Hu[e]],t,!1)).trim())}var Bu=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Tt(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var c=this.indexOfGroup(t+1),u=(s=0,n.length);s<u;s++)this.tag.insertRule(c,n[s])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(Fr);return n},e}(),Vu=1<<30,Vn=new Map,Yn=new Map,Fn=1,Wn=function(e){if(Vn.has(e))return Vn.get(e);for(;Yn.has(Fn);)Fn++;var t=Fn++;if(process.env.NODE_ENV!=="production"&&((0|t)<0||t>Vu))throw Tt(16,"".concat(t));return Vn.set(e,t),Yn.set(t,e),t},Yu=function(e,t){Fn=t+1,Vn.set(e,t),Yn.set(t,e)},Fu="style[".concat(ut,"][").concat(fi,'="').concat(Ln,'"]'),Wu=new RegExp("^".concat(ut,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Xu=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},Uu=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Fr),o=[],i=0,s=r.length;i<s;i++){var c=r[i].trim();if(c){var u=c.match(Wu);if(u){var l=0|parseInt(u[1],10),d=u[2];l!==0&&(Yu(d,l),Xu(e,d,u[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(c)}}},Ni=function(e){for(var t=document.querySelectorAll(Fu),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(ut)!==li&&(Uu(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function Gu(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ki=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(c){var u=Array.from(c.querySelectorAll("style[".concat(ut,"]")));return u[u.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(ut,li),r.setAttribute(fi,Ln);var s=Gu();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},qu=function(){function e(t){this.element=ki(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Tt(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),Ku=function(){function e(t){this.element=ki(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Zu=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Oi=jn,Qu={isServer:!jn,useCSSOMInjection:!Su},Ri=function(){function e(t,n,r){t===void 0&&(t=kt),n===void 0&&(n={});var o=this;this.options=Se(Se({},Qu),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&jn&&Oi&&(Oi=!1,Ni(this)),Zr(this,function(){return function(i){for(var s=i.getTag(),c=s.length,u="",l=function(f){var a=function(x){return Yn.get(x)}(f);if(a===void 0)return"continue";var h=i.names.get(a),w=s.getGroup(f);if(h===void 0||!h.size||w.length===0)return"continue";var y="".concat(ut,".g").concat(f,'[id="').concat(a,'"]'),_="";h!==void 0&&h.forEach(function(x){x.length>0&&(_+="".concat(x,","))}),u+="".concat(w).concat(y,'{content:"').concat(_,'"}').concat(Fr)},d=0;d<c;d++)l(d);return u}(o)})}return e.registerId=function(t){return Wn(t)},e.prototype.rehydrate=function(){!this.server&&jn&&Ni(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Se(Se({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Zu(o):r?new qu(o):new Ku(o)}(this.options),new Bu(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Wn(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Wn(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Wn(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ju=/&/g,el=/^\s*\/\/.*$/gm;function Ti(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ti(n.children,t)),n})}function tl(e){var t,n,r,o=kt,i=o.options,s=i===void 0?kt:i,c=o.plugins,u=c===void 0?zn:c,l=function(a,h,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(t):a},d=u.slice();d.push(function(a){a.type===Rn&&a.value.includes("&")&&(a.props[0]=a.props[0].replace(Ju,n).replace(r,l))}),s.prefix&&d.push(bu),d.push(vu);var f=function(a,h,w,y){h===void 0&&(h=""),w===void 0&&(w=""),y===void 0&&(y="&"),t=y,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var _=a.replace(el,""),x=yu(w||h?"".concat(w," ").concat(h," { ").concat(_," }"):_);s.namespace&&(x=Ti(x,s.namespace));var N=[];return $n(x,xu(d.concat(_u(function(m){return N.push(m)})))),N};return f.hash=u.length?u.reduce(function(a,h){return h.name||Tt(15),lt(a,h.name)},gi).toString():"",f}var nl=new Ri,Qr=tl(),Ai=Ne.createContext({shouldForwardProp:void 0,styleSheet:nl,stylis:Qr});Ai.Consumer,Ne.createContext(void 0);function Mi(){return H.useContext(Ai)}var Pi=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=Qr);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Zr(this,function(){throw Tt(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Qr),this.name+t.hash},e}(),rl=function(e){return e>="A"&&e<="Z"};function Ii(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;rl(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Di=function(e){return e==null||e===!1||e===""},$i=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!Di(i)&&(Array.isArray(i)&&i.isCss||Ot(i)?r.push("".concat(Ii(o),":"),i,";"):Rt(i)?r.push.apply(r,bt(bt(["".concat(o," {")],$i(i),!1),["}"],!1)):r.push("".concat(Ii(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Eu||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function dt(e,t,n,r){if(Di(e))return[];if(qr(e))return[".".concat(e.styledComponentId)];if(Ot(e)){if(!Ot(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return process.env.NODE_ENV==="production"||typeof o!="object"||Array.isArray(o)||o instanceof Pi||Rt(o)||o===null||console.error("".concat(yi(e)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),dt(o,t,n,r)}var i;return e instanceof Pi?n?(e.inject(n,r),[e.getName(r)]):[e]:Rt(e)?$i(e):Array.isArray(e)?Array.prototype.concat.apply(zn,e.map(function(s){return dt(s,t,n,r)})):[e.toString()]}function ol(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ot(n)&&!qr(n))return!1}return!0}var il=mi(Ln),sl=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=process.env.NODE_ENV==="production"&&(r===void 0||r.isStatic)&&ol(t),this.componentId=n,this.baseHash=lt(il,n),this.baseStyle=r,Ri.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ft(o,this.staticRulesId);else{var i=Ci(dt(this.rules,t,n,r)),s=Xr(lt(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var c=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,c)}o=ft(o,s),this.staticRulesId=s}else{for(var u=lt(this.baseHash,r.hash),l="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")l+=f,process.env.NODE_ENV!=="production"&&(u=lt(u,f));else if(f){var a=Ci(dt(f,t,n,r));u=lt(u,a+d),l+=a}}if(l){var h=Xr(u>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),o=ft(o,h)}}return o},e}(),Li=Ne.createContext(void 0);Li.Consumer;var Jr={},ji=new Set;function al(e,t,n){var r=qr(e),o=e,i=!Gr(e),s=t.attrs,c=s===void 0?zn:s,u=t.componentId,l=u===void 0?function(v,C){var k=typeof v!="string"?"sc":hi(v);Jr[k]=(Jr[k]||0)+1;var S="".concat(k,"-").concat(Tu(Ln+k+Jr[k]));return C?"".concat(C,"-").concat(S):S}(t.displayName,t.parentComponentId):u,d=t.displayName,f=d===void 0?function(v){return Gr(v)?"styled.".concat(v):"Styled(".concat(yi(v),")")}(e):d,a=t.displayName&&t.componentId?"".concat(hi(t.displayName),"-").concat(t.componentId):t.componentId||l,h=r&&o.attrs?o.attrs.concat(c).filter(Boolean):c,w=t.shouldForwardProp;if(r&&o.shouldForwardProp){var y=o.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;w=function(v,C){return y(v,C)&&_(v,C)}}else w=y}var x=new sl(n,a,r?o.componentStyle:void 0);function N(v,C){return function(k,S,D){var j=k.attrs,B=k.componentStyle,$=k.defaultProps,F=k.foldedComponentIds,V=k.styledComponentId,b=k.target,P=Ne.useContext(Li),O=Mi(),T=k.shouldForwardProp||O.shouldForwardProp;process.env.NODE_ENV!=="production"&&H.useDebugValue(V);var L=Nu(S,P,$)||kt,R=function(U,W,G){for(var X,Q=Se(Se({},W),{className:void 0,theme:G}),se=0;se<U.length;se+=1){var te=Ot(X=U[se])?X(Q):X;for(var Z in te)Q[Z]=Z==="className"?ft(Q[Z],te[Z]):Z==="style"?Se(Se({},Q[Z]),te[Z]):te[Z]}return W.className&&(Q.className=ft(Q.className,W.className)),Q}(j,S,L),p=R.as||b,E={};for(var A in R)R[A]===void 0||A[0]==="$"||A==="as"||A==="theme"&&R.theme===L||(A==="forwardedAs"?E.as=R.forwardedAs:T&&!T(A,p)||(E[A]=R[A],T||process.env.NODE_ENV!=="development"||ou(A)||ji.has(A)||!Wr.has(p)||(ji.add(A),console.warn('styled-components: it looks like an unknown prop "'.concat(A,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var z=function(U,W){var G=Mi(),X=U.generateAndInjectStyles(W,G.styleSheet,G.stylis);return process.env.NODE_ENV!=="production"&&H.useDebugValue(X),X}(B,R);process.env.NODE_ENV!=="production"&&k.warnTooManyClasses&&k.warnTooManyClasses(z);var Y=ft(F,V);return z&&(Y+=" "+z),R.className&&(Y+=" "+R.className),E[Gr(p)&&!Wr.has(p)?"class":"className"]=Y,D&&(E.ref=D),H.createElement(p,E)}(m,v,C)}N.displayName=f;var m=Ne.forwardRef(N);return m.attrs=h,m.componentStyle=x,m.displayName=f,m.shouldForwardProp=w,m.foldedComponentIds=r?ft(o.foldedComponentIds,o.styledComponentId):"",m.styledComponentId=a,m.target=r?o.target:e,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=r?function(C){for(var k=[],S=1;S<arguments.length;S++)k[S-1]=arguments[S];for(var D=0,j=k;D<j.length;D++)Kr(C,j[D],!0);return C}({},o.defaultProps,v):v}}),process.env.NODE_ENV!=="production"&&(Cu(f,a),m.warnTooManyClasses=function(v,C){var k={},S=!1;return function(D){if(!S&&(k[D]=!0,Object.keys(k).length>=200)){var j=C?' with the id of "'.concat(C,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(v).concat(j,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),S=!0,k={}}}}(f,a)),Zr(m,function(){return".".concat(m.styledComponentId)}),i&&Si(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function Hi(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var zi=function(e){return Object.assign(e,{isCss:!0})};function cl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ot(e)||Rt(e))return zi(dt(Hi(zn,bt([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?dt(r):zi(dt(Hi(r,t)))}function eo(e,t,n){if(n===void 0&&(n=kt),!t)throw Tt(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,cl.apply(void 0,bt([o],i,!1)))};return r.attrs=function(o){return eo(e,t,Se(Se({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return eo(e,t,Se(Se({},n),o))},r}var Bi=function(e){return eo(al,e)},en=Bi;Wr.forEach(function(e){en[e]=Bi(e)}),process.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var Xn="__sc-".concat(ut,"__");process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[Xn]||(window[Xn]=0),window[Xn]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[Xn]+=1);const ul={SheetWrapper:en.div`
  height: 100vh;
  width: 100%;
`};function xe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=xe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ll={value:()=>{}};function Un(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gn(n)}function Gn(e){this._=e}function fl(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gn.prototype=Un.prototype={constructor:Gn,on:function(e,t){var n=this._,r=fl(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=dl(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Vi(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Vi(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function dl(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Vi(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=ll,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var to="http://www.w3.org/1999/xhtml";const Yi={svg:"http://www.w3.org/2000/svg",xhtml:to,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yi.hasOwnProperty(t)?{space:Yi[t],local:e}:e}function hl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===to&&t.documentElement.namespaceURI===to?t.createElement(e):t.createElementNS(n,e)}}function pl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fi(e){var t=qn(e);return(t.local?pl:hl)(t)}function gl(){}function no(e){return e==null?gl:function(){return this.querySelector(e)}}function ml(e){typeof e!="function"&&(e=no(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=new Array(s),u,l,d=0;d<s;++d)(u=i[d])&&(l=e.call(u,u.__data__,d,i))&&("__data__"in u&&(l.__data__=u.__data__),c[d]=l);return new ke(r,this._parents)}function yl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wl(){return[]}function Wi(e){return e==null?wl:function(){return this.querySelectorAll(e)}}function vl(e){return function(){return yl(e.apply(this,arguments))}}function xl(e){typeof e=="function"?e=vl(e):e=Wi(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],c=s.length,u,l=0;l<c;++l)(u=s[l])&&(r.push(e.call(u,u.__data__,l,s)),o.push(u));return new ke(r,o)}function Xi(e){return function(){return this.matches(e)}}function Ui(e){return function(t){return t.matches(e)}}var _l=Array.prototype.find;function bl(e){return function(){return _l.call(this.children,e)}}function El(){return this.firstElementChild}function Sl(e){return this.select(e==null?El:bl(typeof e=="function"?e:Ui(e)))}var Cl=Array.prototype.filter;function Nl(){return Array.from(this.children)}function kl(e){return function(){return Cl.call(this.children,e)}}function Ol(e){return this.selectAll(e==null?Nl:kl(typeof e=="function"?e:Ui(e)))}function Rl(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=[],u,l=0;l<s;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&c.push(u);return new ke(r,this._parents)}function Gi(e){return new Array(e.length)}function Tl(){return new ke(this._enter||this._groups.map(Gi),this._parents)}function Kn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Kn.prototype={constructor:Kn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Al(e){return function(){return e}}function Ml(e,t,n,r,o,i){for(var s=0,c,u=t.length,l=i.length;s<l;++s)(c=t[s])?(c.__data__=i[s],r[s]=c):n[s]=new Kn(e,i[s]);for(;s<u;++s)(c=t[s])&&(o[s]=c)}function Pl(e,t,n,r,o,i,s){var c,u,l=new Map,d=t.length,f=i.length,a=new Array(d),h;for(c=0;c<d;++c)(u=t[c])&&(a[c]=h=s.call(u,u.__data__,c,t)+"",l.has(h)?o[c]=u:l.set(h,u));for(c=0;c<f;++c)h=s.call(e,i[c],c,i)+"",(u=l.get(h))?(r[c]=u,u.__data__=i[c],l.delete(h)):n[c]=new Kn(e,i[c]);for(c=0;c<d;++c)(u=t[c])&&l.get(a[c])===u&&(o[c]=u)}function Il(e){return e.__data__}function Dl(e,t){if(!arguments.length)return Array.from(this,Il);var n=t?Pl:Ml,r=this._parents,o=this._groups;typeof e!="function"&&(e=Al(e));for(var i=o.length,s=new Array(i),c=new Array(i),u=new Array(i),l=0;l<i;++l){var d=r[l],f=o[l],a=f.length,h=$l(e.call(d,d&&d.__data__,l,r)),w=h.length,y=c[l]=new Array(w),_=s[l]=new Array(w),x=u[l]=new Array(a);n(d,f,y,_,x,h,t);for(var N=0,m=0,v,C;N<w;++N)if(v=y[N]){for(N>=m&&(m=N+1);!(C=_[m])&&++m<w;);v._next=C||null}}return s=new ke(s,r),s._enter=c,s._exit=u,s}function $l(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ll(){return new ke(this._exit||this._groups.map(Gi),this._parents)}function jl(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Hl(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),c=new Array(o),u=0;u<s;++u)for(var l=n[u],d=r[u],f=l.length,a=c[u]=new Array(f),h,w=0;w<f;++w)(h=l[w]||d[w])&&(a[w]=h);for(;u<o;++u)c[u]=n[u];return new ke(c,this._parents)}function zl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Bl(e){e||(e=Vl);function t(f,a){return f&&a?e(f.__data__,a.__data__):!f-!a}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],c=s.length,u=o[i]=new Array(c),l,d=0;d<c;++d)(l=s[d])&&(u[d]=l);u.sort(t)}return new ke(o,this._parents).order()}function Vl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Fl(){return Array.from(this)}function Wl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Xl(){let e=0;for(const t of this)++e;return e}function Ul(){return!this.node()}function Gl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,c;i<s;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function ql(e){return function(){this.removeAttribute(e)}}function Kl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zl(e,t){return function(){this.setAttribute(e,t)}}function Ql(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ef(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function tf(e,t){var n=qn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Kl:ql:typeof t=="function"?n.local?ef:Jl:n.local?Ql:Zl)(n,t))}function qi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nf(e){return function(){this.style.removeProperty(e)}}function rf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function of(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sf(e,t,n){return arguments.length>1?this.each((t==null?nf:typeof t=="function"?of:rf)(e,t,n??"")):At(this.node(),e)}function At(e,t){return e.style.getPropertyValue(t)||qi(e).getComputedStyle(e,null).getPropertyValue(t)}function af(e){return function(){delete this[e]}}function cf(e,t){return function(){this[e]=t}}function uf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function lf(e,t){return arguments.length>1?this.each((t==null?af:typeof t=="function"?uf:cf)(e,t)):this.node()[e]}function Ki(e){return e.trim().split(/^|\s+/)}function ro(e){return e.classList||new Zi(e)}function Zi(e){this._node=e,this._names=Ki(e.getAttribute("class")||"")}Zi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qi(e,t){for(var n=ro(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Ji(e,t){for(var n=ro(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ff(e){return function(){Qi(this,e)}}function df(e){return function(){Ji(this,e)}}function hf(e,t){return function(){(t.apply(this,arguments)?Qi:Ji)(this,e)}}function pf(e,t){var n=Ki(e+"");if(arguments.length<2){for(var r=ro(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?hf:t?ff:df)(n,t))}function gf(){this.textContent=""}function mf(e){return function(){this.textContent=e}}function yf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function wf(e){return arguments.length?this.each(e==null?gf:(typeof e=="function"?yf:mf)(e)):this.node().textContent}function vf(){this.innerHTML=""}function xf(e){return function(){this.innerHTML=e}}function _f(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function bf(e){return arguments.length?this.each(e==null?vf:(typeof e=="function"?_f:xf)(e)):this.node().innerHTML}function Ef(){this.nextSibling&&this.parentNode.appendChild(this)}function Sf(){return this.each(Ef)}function Cf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nf(){return this.each(Cf)}function kf(e){var t=typeof e=="function"?e:Fi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Of(){return null}function Rf(e,t){var n=typeof e=="function"?e:Fi(e),r=t==null?Of:typeof t=="function"?t:no(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Tf(){var e=this.parentNode;e&&e.removeChild(this)}function Af(){return this.each(Tf)}function Mf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function If(e){return this.select(e?Pf:Mf)}function Df(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $f(e){return function(t){e.call(this,t,this.__data__)}}function Lf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Hf(e,t,n){return function(){var r=this.__on,o,i=$f(t);if(r){for(var s=0,c=r.length;s<c;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function zf(e,t,n){var r=Lf(e+""),o,i=r.length,s;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,l=c.length,d;u<l;++u)for(o=0,d=c[u];o<i;++o)if((s=r[o]).type===d.type&&s.name===d.name)return d.value}return}for(c=t?Hf:jf,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function es(e,t,n){var r=qi(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Bf(e,t){return function(){return es(this,e,t)}}function Vf(e,t){return function(){return es(this,e,t.apply(this,arguments))}}function Yf(e,t){return this.each((typeof t=="function"?Vf:Bf)(e,t))}function*Ff(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var ts=[null];function ke(e,t){this._groups=e,this._parents=t}function tn(){return new ke([[document.documentElement]],ts)}function Wf(){return this}ke.prototype=tn.prototype={constructor:ke,select:ml,selectAll:xl,selectChild:Sl,selectChildren:Ol,filter:Rl,data:Dl,enter:Tl,exit:Ll,join:jl,merge:Hl,selection:Wf,order:zl,sort:Bl,call:Yl,nodes:Fl,node:Wl,size:Xl,empty:Ul,each:Gl,attr:tf,style:sf,property:lf,classed:pf,text:wf,html:bf,raise:Sf,lower:Nf,append:kf,insert:Rf,remove:Af,clone:If,datum:Df,on:zf,dispatch:Yf,[Symbol.iterator]:Ff};function Oe(e){return typeof e=="string"?new ke([[document.querySelector(e)]],[document.documentElement]):new ke([[e]],ts)}function Xf(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Me(e,t){if(e=Xf(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Uf={passive:!1},nn={capture:!0,passive:!1};function oo(e){e.stopImmediatePropagation()}function Mt(e){e.preventDefault(),e.stopImmediatePropagation()}function ns(e){var t=e.document.documentElement,n=Oe(e).on("dragstart.drag",Mt,nn);"onselectstart"in t?n.on("selectstart.drag",Mt,nn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rs(e,t){var n=e.document.documentElement,r=Oe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mt,nn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zn=e=>()=>e;function io(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:c,dx:u,dy:l,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:d}})}io.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Gf(e){return!e.ctrlKey&&!e.button}function qf(){return this.parentNode}function Kf(e,t){return t??{x:e.x,y:e.y}}function Zf(){return navigator.maxTouchPoints||"ontouchstart"in this}function os(){var e=Gf,t=qf,n=Kf,r=Zf,o={},i=Un("start","drag","end"),s=0,c,u,l,d,f=0;function a(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",_).on("touchmove.drag",x,Uf).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,C){if(!(d||!e.call(this,v,C))){var k=m(this,t.call(this,v,C),v,C,"mouse");k&&(Oe(v.view).on("mousemove.drag",w,nn).on("mouseup.drag",y,nn),ns(v.view),oo(v),l=!1,c=v.clientX,u=v.clientY,k("start",v))}}function w(v){if(Mt(v),!l){var C=v.clientX-c,k=v.clientY-u;l=C*C+k*k>f}o.mouse("drag",v)}function y(v){Oe(v.view).on("mousemove.drag mouseup.drag",null),rs(v.view,l),Mt(v),o.mouse("end",v)}function _(v,C){if(e.call(this,v,C)){var k=v.changedTouches,S=t.call(this,v,C),D=k.length,j,B;for(j=0;j<D;++j)(B=m(this,S,v,C,k[j].identifier,k[j]))&&(oo(v),B("start",v,k[j]))}}function x(v){var C=v.changedTouches,k=C.length,S,D;for(S=0;S<k;++S)(D=o[C[S].identifier])&&(Mt(v),D("drag",v,C[S]))}function N(v){var C=v.changedTouches,k=C.length,S,D;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<k;++S)(D=o[C[S].identifier])&&(oo(v),D("end",v,C[S]))}function m(v,C,k,S,D,j){var B=i.copy(),$=Me(j||k,C),F,V,b;if((b=n.call(v,new io("beforestart",{sourceEvent:k,target:a,identifier:D,active:s,x:$[0],y:$[1],dx:0,dy:0,dispatch:B}),S))!=null)return F=b.x-$[0]||0,V=b.y-$[1]||0,function P(O,T,L){var R=$,p;switch(O){case"start":o[D]=P,p=s++;break;case"end":delete o[D],--s;case"drag":$=Me(L||T,C),p=s;break}B.call(O,v,new io(O,{sourceEvent:T,subject:b,target:a,identifier:D,active:p,x:$[0]+F,y:$[1]+V,dx:$[0]-R[0],dy:$[1]-R[1],dispatch:B}),S)}}return a.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Zn(!!v),a):e},a.container=function(v){return arguments.length?(t=typeof v=="function"?v:Zn(v),a):t},a.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Zn(v),a):n},a.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Zn(!!v),a):r},a.on=function(){var v=i.on.apply(i,arguments);return v===i?a:v},a.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,a):Math.sqrt(f)},a}function so(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function is(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rn(){}var on=.7,Qn=1/on,Pt="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qf=/^#([0-9a-f]{3,8})$/,Jf=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),ed=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),td=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${sn}\\)$`),nd=new RegExp(`^rgba\\(${je},${je},${je},${sn}\\)$`),rd=new RegExp(`^hsl\\(${sn},${je},${je}\\)$`),od=new RegExp(`^hsla\\(${sn},${je},${je},${sn}\\)$`),ss={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};so(rn,an,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:as,formatHex:as,formatHex8:id,formatHsl:sd,formatRgb:cs,toString:cs});function as(){return this.rgb().formatHex()}function id(){return this.rgb().formatHex8()}function sd(){return hs(this).formatHsl()}function cs(){return this.rgb().formatRgb()}function an(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?us(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jf.exec(e))?new Ce(t[1],t[2],t[3],1):(t=ed.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=td.exec(e))?Jn(t[1],t[2],t[3],t[4]):(t=nd.exec(e))?Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rd.exec(e))?ds(t[1],t[2]/100,t[3]/100,1):(t=od.exec(e))?ds(t[1],t[2]/100,t[3]/100,t[4]):ss.hasOwnProperty(e)?us(ss[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function us(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function Jn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ce(e,t,n,r)}function ad(e){return e instanceof rn||(e=an(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function ao(e,t,n,r){return arguments.length===1?ad(e):new Ce(e,t,n,r??1)}function Ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}so(Ce,ao,is(rn,{brighter(e){return e=e==null?Qn:Math.pow(Qn,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?on:Math.pow(on,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ce(ht(this.r),ht(this.g),ht(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ls,formatHex:ls,formatHex8:cd,formatRgb:fs,toString:fs}));function ls(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}`}function cd(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}${pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function fs(){const e=er(this.opacity);return`${e===1?"rgb(":"rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${e===1?")":`, ${e})`}`}function er(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ht(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pt(e){return e=ht(e),(e<16?"0":"")+e.toString(16)}function ds(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pe(e,t,n,r)}function hs(e){if(e instanceof Pe)return new Pe(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=an(e)),!e)return new Pe;if(e instanceof Pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,c=i-o,u=(i+o)/2;return c?(t===i?s=(n-r)/c+(n<r)*6:n===i?s=(r-t)/c+2:s=(t-n)/c+4,c/=u<.5?i+o:2-i-o,s*=60):c=u>0&&u<1?0:s,new Pe(s,c,u,e.opacity)}function ud(e,t,n,r){return arguments.length===1?hs(e):new Pe(e,t,n,r??1)}function Pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}so(Pe,ud,is(rn,{brighter(e){return e=e==null?Qn:Math.pow(Qn,e),new Pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?on:Math.pow(on,e),new Pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ce(co(e>=240?e-240:e+120,o,r),co(e,o,r),co(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Pe(ps(this.h),tr(this.s),tr(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=er(this.opacity);return`${e===1?"hsl(":"hsla("}${ps(this.h)}, ${tr(this.s)*100}%, ${tr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ps(e){return e=(e||0)%360,e<0?e+360:e}function tr(e){return Math.max(0,Math.min(1,e||0))}function co(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gs=e=>()=>e;function ld(e,t){return function(n){return e+n*t}}function fd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dd(e){return(e=+e)==1?ms:function(t,n){return n-t?fd(t,n,e):gs(isNaN(t)?n:t)}}function ms(e,t){var n=t-e;return n?ld(e,n):gs(isNaN(e)?t:e)}const ys=function e(t){var n=dd(t);function r(o,i){var s=n((o=ao(o)).r,(i=ao(i)).r),c=n(o.g,i.g),u=n(o.b,i.b),l=ms(o.opacity,i.opacity);return function(d){return o.r=s(d),o.g=c(d),o.b=u(d),o.opacity=l(d),o+""}}return r.gamma=e,r}(1);function Ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var uo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lo=new RegExp(uo.source,"g");function hd(e){return function(){return e}}function pd(e){return function(t){return e(t)+""}}function gd(e,t){var n=uo.lastIndex=lo.lastIndex=0,r,o,i,s=-1,c=[],u=[];for(e=e+"",t=t+"";(r=uo.exec(e))&&(o=lo.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[s]?c[s]+=i:c[++s]=i),(r=r[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,u.push({i:s,x:Ke(r,o)})),n=lo.lastIndex;return n<t.length&&(i=t.slice(n),c[s]?c[s]+=i:c[++s]=i),c.length<2?u[0]?pd(u[0].x):hd(t):(t=u.length,function(l){for(var d=0,f;d<t;++d)c[(f=u[d]).i]=f.x(l);return c.join("")})}var ws=180/Math.PI,fo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vs(e,t,n,r,o,i){var s,c,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*ws,skewX:Math.atan(u)*ws,scaleX:s,scaleY:c}}var nr;function md(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fo:vs(t.a,t.b,t.c,t.d,t.e,t.f)}function yd(e){return e==null||(nr||(nr=document.createElementNS("http://www.w3.org/2000/svg","g")),nr.setAttribute("transform",e),!(e=nr.transform.baseVal.consolidate()))?fo:(e=e.matrix,vs(e.a,e.b,e.c,e.d,e.e,e.f))}function xs(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,d,f,a,h,w){if(l!==f||d!==a){var y=h.push("translate(",null,t,null,n);w.push({i:y-4,x:Ke(l,f)},{i:y-2,x:Ke(d,a)})}else(f||a)&&h.push("translate("+f+t+a+n)}function s(l,d,f,a){l!==d?(l-d>180?d+=360:d-l>180&&(l+=360),a.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Ke(l,d)})):d&&f.push(o(f)+"rotate("+d+r)}function c(l,d,f,a){l!==d?a.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Ke(l,d)}):d&&f.push(o(f)+"skewX("+d+r)}function u(l,d,f,a,h,w){if(l!==f||d!==a){var y=h.push(o(h)+"scale(",null,",",null,")");w.push({i:y-4,x:Ke(l,f)},{i:y-2,x:Ke(d,a)})}else(f!==1||a!==1)&&h.push(o(h)+"scale("+f+","+a+")")}return function(l,d){var f=[],a=[];return l=e(l),d=e(d),i(l.translateX,l.translateY,d.translateX,d.translateY,f,a),s(l.rotate,d.rotate,f,a),c(l.skewX,d.skewX,f,a),u(l.scaleX,l.scaleY,d.scaleX,d.scaleY,f,a),l=d=null,function(h){for(var w=-1,y=a.length,_;++w<y;)f[(_=a[w]).i]=_.x(h);return f.join("")}}}var wd=xs(md,"px, ","px)","deg)"),vd=xs(yd,", ",")",")"),xd=1e-12;function _s(e){return((e=Math.exp(e))+1/e)/2}function _d(e){return((e=Math.exp(e))-1/e)/2}function bd(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ed=function e(t,n,r){function o(i,s){var c=i[0],u=i[1],l=i[2],d=s[0],f=s[1],a=s[2],h=d-c,w=f-u,y=h*h+w*w,_,x;if(y<xd)x=Math.log(a/l)/t,_=function(S){return[c+S*h,u+S*w,l*Math.exp(t*S*x)]};else{var N=Math.sqrt(y),m=(a*a-l*l+r*y)/(2*l*n*N),v=(a*a-l*l-r*y)/(2*a*n*N),C=Math.log(Math.sqrt(m*m+1)-m),k=Math.log(Math.sqrt(v*v+1)-v);x=(k-C)/t,_=function(S){var D=S*x,j=_s(C),B=l/(n*N)*(j*bd(t*D+C)-_d(C));return[c+B*h,u+B*w,l*j/_s(t*D+C)]}}return _.duration=x*1e3*t/Math.SQRT2,_}return o.rho=function(i){var s=Math.max(.001,+i),c=s*s,u=c*c;return e(s,c,u)},o}(Math.SQRT2,2,4);var It=0,cn=0,un=0,bs=1e3,rr,ln,or=0,gt=0,ir=0,fn=typeof performance=="object"&&performance.now?performance:Date,Es=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ho(){return gt||(Es(Sd),gt=fn.now()+ir)}function Sd(){gt=0}function sr(){this._call=this._time=this._next=null}sr.prototype=Ss.prototype={constructor:sr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ho():+n)+(t==null?0:+t),!this._next&&ln!==this&&(ln?ln._next=this:rr=this,ln=this),this._call=e,this._time=n,po()},stop:function(){this._call&&(this._call=null,this._time=1/0,po())}};function Ss(e,t,n){var r=new sr;return r.restart(e,t,n),r}function Cd(){ho(),++It;for(var e=rr,t;e;)(t=gt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--It}function Cs(){gt=(or=fn.now())+ir,It=cn=0;try{Cd()}finally{It=0,kd(),gt=0}}function Nd(){var e=fn.now(),t=e-or;t>bs&&(ir-=t,or=e)}function kd(){for(var e,t=rr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rr=n);ln=e,po(r)}function po(e){if(!It){cn&&(cn=clearTimeout(cn));var t=e-gt;t>24?(e<1/0&&(cn=setTimeout(Cs,e-fn.now()-ir)),un&&(un=clearInterval(un))):(un||(or=fn.now(),un=setInterval(Nd,bs)),It=1,Es(Cs))}}function Ns(e,t,n){var r=new sr;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Od=Un("start","end","cancel","interrupt"),Rd=[],ks=0,Os=1,go=2,ar=3,Rs=4,mo=5,cr=6;function ur(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Td(e,n,{name:t,index:r,group:o,on:Od,tween:Rd,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ks})}function yo(e,t){var n=Ie(e,t);if(n.state>ks)throw new Error("too late; already scheduled");return n}function He(e,t){var n=Ie(e,t);if(n.state>ar)throw new Error("too late; already running");return n}function Ie(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Td(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ss(i,0,n.time);function i(l){n.state=Os,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var d,f,a,h;if(n.state!==Os)return u();for(d in r)if(h=r[d],h.name===n.name){if(h.state===ar)return Ns(s);h.state===Rs?(h.state=cr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=cr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Ns(function(){n.state===ar&&(n.state=Rs,n.timer.restart(c,n.delay,n.time),c(l))}),n.state=go,n.on.call("start",e,e.__data__,n.index,n.group),n.state===go){for(n.state=ar,o=new Array(a=n.tween.length),d=0,f=-1;d<a;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function c(l){for(var d=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=mo,1),f=-1,a=o.length;++f<a;)o[f].call(e,d);n.state===mo&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=cr,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function lr(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>go&&r.state<mo,r.state=cr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function Ad(e){return this.each(function(){lr(this,e)})}function Md(e,t){var n,r;return function(){var o=He(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,c=r.length;s<c;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Pd(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=He(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var c={name:t,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===t){o[u]=c;break}u===l&&o.push(c)}i.tween=o}}function Id(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ie(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?Md:Pd)(n,e,t))}function wo(e,t,n){var r=e._id;return e.each(function(){var o=He(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Ie(o,r).value[t]}}function Ts(e,t){var n;return(typeof t=="number"?Ke:t instanceof an?ys:(n=an(t))?(t=n,ys):gd)(e,t)}function Dd(e){return function(){this.removeAttribute(e)}}function $d(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ld(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function jd(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Hd(e,t,n){var r,o,i;return function(){var s,c=n(this),u;return c==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=c+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c)))}}function zd(e,t,n){var r,o,i;return function(){var s,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=c+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c)))}}function Bd(e,t){var n=qn(e),r=n==="transform"?vd:Ts;return this.attrTween(e,typeof t=="function"?(n.local?zd:Hd)(n,r,wo(this,"attr."+e,t)):t==null?(n.local?$d:Dd)(n):(n.local?jd:Ld)(n,r,t))}function Vd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Yd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Fd(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Yd(e,i)),n}return o._value=t,o}function Wd(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Vd(e,i)),n}return o._value=t,o}function Xd(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=qn(e);return this.tween(n,(r.local?Fd:Wd)(r,t))}function Ud(e,t){return function(){yo(this,e).delay=+t.apply(this,arguments)}}function Gd(e,t){return t=+t,function(){yo(this,e).delay=t}}function qd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ud:Gd)(t,e)):Ie(this.node(),t).delay}function Kd(e,t){return function(){He(this,e).duration=+t.apply(this,arguments)}}function Zd(e,t){return t=+t,function(){He(this,e).duration=t}}function Qd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kd:Zd)(t,e)):Ie(this.node(),t).duration}function Jd(e,t){if(typeof t!="function")throw new Error;return function(){He(this,e).ease=t}}function eh(e){var t=this._id;return arguments.length?this.each(Jd(t,e)):Ie(this.node(),t).ease}function th(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;He(this,e).ease=n}}function nh(e){if(typeof e!="function")throw new Error;return this.each(th(this._id,e))}function rh(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=[],u,l=0;l<s;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&c.push(u);return new Ve(r,this._parents,this._name,this._id)}function oh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),c=0;c<i;++c)for(var u=t[c],l=n[c],d=u.length,f=s[c]=new Array(d),a,h=0;h<d;++h)(a=u[h]||l[h])&&(f[h]=a);for(;c<r;++c)s[c]=t[c];return new Ve(s,this._parents,this._name,this._id)}function ih(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function sh(e,t,n){var r,o,i=ih(t)?yo:He;return function(){var s=i(this,e),c=s.on;c!==r&&(o=(r=c).copy()).on(t,n),s.on=o}}function ah(e,t){var n=this._id;return arguments.length<2?Ie(this.node(),n).on.on(e):this.each(sh(n,e,t))}function ch(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function uh(){return this.on("end.remove",ch(this._id))}function lh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=no(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var c=r[s],u=c.length,l=i[s]=new Array(u),d,f,a=0;a<u;++a)(d=c[a])&&(f=e.call(d,d.__data__,a,c))&&("__data__"in d&&(f.__data__=d.__data__),l[a]=f,ur(l[a],t,n,a,l,Ie(d,n)));return new Ve(i,this._parents,t,n)}function fh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wi(e));for(var r=this._groups,o=r.length,i=[],s=[],c=0;c<o;++c)for(var u=r[c],l=u.length,d,f=0;f<l;++f)if(d=u[f]){for(var a=e.call(d,d.__data__,f,u),h,w=Ie(d,n),y=0,_=a.length;y<_;++y)(h=a[y])&&ur(h,t,n,y,a,w);i.push(a),s.push(d)}return new Ve(i,s,t,n)}var dh=tn.prototype.constructor;function hh(){return new dh(this._groups,this._parents)}function ph(e,t){var n,r,o;return function(){var i=At(this,e),s=(this.style.removeProperty(e),At(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function As(e){return function(){this.style.removeProperty(e)}}function gh(e,t,n){var r,o=n+"",i;return function(){var s=At(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function mh(e,t,n){var r,o,i;return function(){var s=At(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),At(this,e))),s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c))}}function yh(e,t){var n,r,o,i="style."+t,s="end."+i,c;return function(){var u=He(this,e),l=u.on,d=u.value[i]==null?c||(c=As(t)):void 0;(l!==n||o!==d)&&(r=(n=l).copy()).on(s,o=d),u.on=r}}function wh(e,t,n){var r=(e+="")=="transform"?wd:Ts;return t==null?this.styleTween(e,ph(e,r)).on("end.style."+e,As(e)):typeof t=="function"?this.styleTween(e,mh(e,r,wo(this,"style."+e,t))).each(yh(this._id,e)):this.styleTween(e,gh(e,r,t),n).on("end.style."+e,null)}function vh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function xh(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&vh(e,s,n)),r}return i._value=t,i}function _h(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xh(e,t,n??""))}function bh(e){return function(){this.textContent=e}}function Eh(e){return function(){var t=e(this);this.textContent=t??""}}function Sh(e){return this.tween("text",typeof e=="function"?Eh(wo(this,"text",e)):bh(e==null?"":e+""))}function Ch(e){return function(t){this.textContent=e.call(this,t)}}function Nh(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Ch(o)),t}return r._value=e,r}function kh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Nh(e))}function Oh(){for(var e=this._name,t=this._id,n=Ms(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],c=s.length,u,l=0;l<c;++l)if(u=s[l]){var d=Ie(u,t);ur(u,e,n,l,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ve(r,this._parents,e,n)}function Rh(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var c={value:s},u={value:function(){--o===0&&i()}};n.each(function(){var l=He(this,r),d=l.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),l.on=t}),o===0&&i()})}var Th=0;function Ve(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ms(){return++Th}var Ye=tn.prototype;Ve.prototype={constructor:Ve,select:lh,selectAll:fh,selectChild:Ye.selectChild,selectChildren:Ye.selectChildren,filter:rh,merge:oh,selection:hh,transition:Oh,call:Ye.call,nodes:Ye.nodes,node:Ye.node,size:Ye.size,empty:Ye.empty,each:Ye.each,on:ah,attr:Bd,attrTween:Xd,style:wh,styleTween:_h,text:Sh,textTween:kh,remove:uh,tween:Id,delay:qd,duration:Qd,ease:eh,easeVarying:nh,end:Rh,[Symbol.iterator]:Ye[Symbol.iterator]};function Ah(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Mh={time:null,delay:0,duration:250,ease:Ah};function Ph(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ih(e){var t,n;e instanceof Ve?(t=e._id,e=e._name):(t=Ms(),(n=Mh).time=ho(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],c=s.length,u,l=0;l<c;++l)(u=s[l])&&ur(u,e,t,l,s,n||Ph(u,t));return new Ve(r,this._parents,e,t)}tn.prototype.interrupt=Ad,tn.prototype.transition=Ih;const fr=e=>()=>e;function Dh(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Fe(e,t,n){this.k=e,this.x=t,this.y=n}Fe.prototype={constructor:Fe,scale:function(e){return e===1?this:new Fe(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Fe(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var dr=new Fe(1,0,0);Ps.prototype=Fe.prototype;function Ps(e){for(;!e.__zoom;)if(!(e=e.parentNode))return dr;return e.__zoom}function vo(e){e.stopImmediatePropagation()}function dn(e){e.preventDefault(),e.stopImmediatePropagation()}function $h(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Lh(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Is(){return this.__zoom||dr}function jh(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Hh(){return navigator.maxTouchPoints||"ontouchstart"in this}function zh(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Ds(){var e=$h,t=Lh,n=zh,r=jh,o=Hh,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Ed,l=Un("start","zoom","end"),d,f,a,h=500,w=150,y=0,_=10;function x(b){b.property("__zoom",Is).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",$).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(b,P,O,T){var L=b.selection?b.selection():b;L.property("__zoom",Is),b!==L?C(b,P,O,T):L.interrupt().each(function(){k(this,arguments).event(T).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},x.scaleBy=function(b,P,O,T){x.scaleTo(b,function(){var L=this.__zoom.k,R=typeof P=="function"?P.apply(this,arguments):P;return L*R},O,T)},x.scaleTo=function(b,P,O,T){x.transform(b,function(){var L=t.apply(this,arguments),R=this.__zoom,p=O==null?v(L):typeof O=="function"?O.apply(this,arguments):O,E=R.invert(p),A=typeof P=="function"?P.apply(this,arguments):P;return n(m(N(R,A),p,E),L,s)},O,T)},x.translateBy=function(b,P,O,T){x.transform(b,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),s)},null,T)},x.translateTo=function(b,P,O,T,L){x.transform(b,function(){var R=t.apply(this,arguments),p=this.__zoom,E=T==null?v(R):typeof T=="function"?T.apply(this,arguments):T;return n(dr.translate(E[0],E[1]).scale(p.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof O=="function"?-O.apply(this,arguments):-O),R,s)},T,L)};function N(b,P){return P=Math.max(i[0],Math.min(i[1],P)),P===b.k?b:new Fe(P,b.x,b.y)}function m(b,P,O){var T=P[0]-O[0]*b.k,L=P[1]-O[1]*b.k;return T===b.x&&L===b.y?b:new Fe(b.k,T,L)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function C(b,P,O,T){b.on("start.zoom",function(){k(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(T).end()}).tween("zoom",function(){var L=this,R=arguments,p=k(L,R).event(T),E=t.apply(L,R),A=O==null?v(E):typeof O=="function"?O.apply(L,R):O,z=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),Y=L.__zoom,U=typeof P=="function"?P.apply(L,R):P,W=u(Y.invert(A).concat(z/Y.k),U.invert(A).concat(z/U.k));return function(G){if(G===1)G=U;else{var X=W(G),Q=z/X[2];G=new Fe(Q,A[0]-X[0]*Q,A[1]-X[1]*Q)}p.zoom(null,G)}})}function k(b,P,O){return!O&&b.__zooming||new S(b,P)}function S(b,P){this.that=b,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,P),this.taps=0}S.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,P){return this.mouse&&b!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var P=Oe(this.that).datum();l.call(b,this.that,new Dh(b,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:l}),P)}};function D(b,...P){if(!e.apply(this,arguments))return;var O=k(this,P).event(b),T=this.__zoom,L=Math.max(i[0],Math.min(i[1],T.k*Math.pow(2,r.apply(this,arguments)))),R=Me(b);if(O.wheel)(O.mouse[0][0]!==R[0]||O.mouse[0][1]!==R[1])&&(O.mouse[1]=T.invert(O.mouse[0]=R)),clearTimeout(O.wheel);else{if(T.k===L)return;O.mouse=[R,T.invert(R)],lr(this),O.start()}dn(b),O.wheel=setTimeout(p,w),O.zoom("mouse",n(m(N(T,L),O.mouse[0],O.mouse[1]),O.extent,s));function p(){O.wheel=null,O.end()}}function j(b,...P){if(a||!e.apply(this,arguments))return;var O=b.currentTarget,T=k(this,P,!0).event(b),L=Oe(b.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",z,!0),R=Me(b,O),p=b.clientX,E=b.clientY;ns(b.view),vo(b),T.mouse=[R,this.__zoom.invert(R)],lr(this),T.start();function A(Y){if(dn(Y),!T.moved){var U=Y.clientX-p,W=Y.clientY-E;T.moved=U*U+W*W>y}T.event(Y).zoom("mouse",n(m(T.that.__zoom,T.mouse[0]=Me(Y,O),T.mouse[1]),T.extent,s))}function z(Y){L.on("mousemove.zoom mouseup.zoom",null),rs(Y.view,T.moved),dn(Y),T.event(Y).end()}}function B(b,...P){if(e.apply(this,arguments)){var O=this.__zoom,T=Me(b.changedTouches?b.changedTouches[0]:b,this),L=O.invert(T),R=O.k*(b.shiftKey?.5:2),p=n(m(N(O,R),T,L),t.apply(this,P),s);dn(b),c>0?Oe(this).transition().duration(c).call(C,p,T,b):Oe(this).call(x.transform,p,T,b)}}function $(b,...P){if(e.apply(this,arguments)){var O=b.touches,T=O.length,L=k(this,P,b.changedTouches.length===T).event(b),R,p,E,A;for(vo(b),p=0;p<T;++p)E=O[p],A=Me(E,this),A=[A,this.__zoom.invert(A),E.identifier],L.touch0?!L.touch1&&L.touch0[2]!==A[2]&&(L.touch1=A,L.taps=0):(L.touch0=A,R=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(L.taps<2&&(f=A[0],d=setTimeout(function(){d=null},h)),lr(this),L.start())}}function F(b,...P){if(this.__zooming){var O=k(this,P).event(b),T=b.changedTouches,L=T.length,R,p,E,A;for(dn(b),R=0;R<L;++R)p=T[R],E=Me(p,this),O.touch0&&O.touch0[2]===p.identifier?O.touch0[0]=E:O.touch1&&O.touch1[2]===p.identifier&&(O.touch1[0]=E);if(p=O.that.__zoom,O.touch1){var z=O.touch0[0],Y=O.touch0[1],U=O.touch1[0],W=O.touch1[1],G=(G=U[0]-z[0])*G+(G=U[1]-z[1])*G,X=(X=W[0]-Y[0])*X+(X=W[1]-Y[1])*X;p=N(p,Math.sqrt(G/X)),E=[(z[0]+U[0])/2,(z[1]+U[1])/2],A=[(Y[0]+W[0])/2,(Y[1]+W[1])/2]}else if(O.touch0)E=O.touch0[0],A=O.touch0[1];else return;O.zoom("touch",n(m(p,E,A),O.extent,s))}}function V(b,...P){if(this.__zooming){var O=k(this,P).event(b),T=b.changedTouches,L=T.length,R,p;for(vo(b),a&&clearTimeout(a),a=setTimeout(function(){a=null},h),R=0;R<L;++R)p=T[R],O.touch0&&O.touch0[2]===p.identifier?delete O.touch0:O.touch1&&O.touch1[2]===p.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(p=Me(p,this),Math.hypot(f[0]-p[0],f[1]-p[1])<_)){var E=Oe(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return x.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:fr(+b),x):r},x.filter=function(b){return arguments.length?(e=typeof b=="function"?b:fr(!!b),x):e},x.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:fr(!!b),x):o},x.extent=function(b){return arguments.length?(t=typeof b=="function"?b:fr([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),x):t},x.scaleExtent=function(b){return arguments.length?(i[0]=+b[0],i[1]=+b[1],x):[i[0],i[1]]},x.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(b){return arguments.length?(n=b,x):n},x.duration=function(b){return arguments.length?(c=+b,x):c},x.interpolate=function(b){return arguments.length?(u=b,x):u},x.on=function(){var b=l.on.apply(l,arguments);return b===l?x:b},x.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,x):Math.sqrt(y)},x.tapDistance=function(b){return arguments.length?(_=+b,x):_},x}const Re={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},hn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$s=["Enter"," ","Escape"];var mt;(function(e){e.Strict="strict",e.Loose="loose"})(mt||(mt={}));var yt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yt||(yt={}));var Dt;(function(e){e.Partial="partial",e.Full="full"})(Dt||(Dt={}));const Ls={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ze;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ze||(Ze={}));var Qe;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Qe||(Qe={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));const js={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top};function Hs(e){return e===null?null:e?"valid":"invalid"}const zs=e=>"id"in e&&"source"in e&&"target"in e,Bh=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),xo=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),pn=(e,t=[0,0])=>{const{width:n,height:r}=We(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},Vh=(e,t={nodeOrigin:[0,0]})=>{if(process.env.NODE_ENV==="development"&&!t.nodeLookup&&console.warn("Please use `getNodesBounds` from `useReactFlow`/`useSvelteFlow` hook to ensure correct values for sub flows. If not possible, you have to provide a nodeLookup to support sub flows."),e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):xo(o)?o:t.nodeLookup.get(o.id));const c=s?gr(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return hr(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return pr(n)},gn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=gr(r);n=hr(n,o)}}),pr(n)},Bs=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const c={...yn(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(const l of e.values()){const{measured:d,selectable:f=!0,hidden:a=!1}=l;if(s&&!f||a)continue;const h=d.width??l.width??l.initialWidth??null,w=d.height??l.height??l.initialHeight??null,y=mn(c,Lt(l)),_=(h??0)*(w??0),x=i&&y>0;(!l.internals.handleBounds||x||y>=_||l.dragging)&&u.push(l)}return u},Yh=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Fh(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function Wh({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const c=Fh(e,s),u=gn(c),l=bo(u,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Vs({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),c=s.parentId?n.get(s.parentId):void 0,{x:u,y:l}=c?c.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let f=o;if(s.extent==="parent"&&!s.expandParent)if(!c)i==null||i("005",Re.error005());else{const h=c.measured.width,w=c.measured.height;h&&w&&(f=[[u,l],[u+h,l+w]])}else c&&Ht(s.extent)&&(f=[[s.extent[0][0]+u,s.extent[0][1]+l],[s.extent[1][0]+u,s.extent[1][1]+l]]);const a=Ht(f)?wt(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Re.error015())),{position:{x:a.x-u+(s.measured.width??0)*d[0],y:a.y-l+(s.measured.height??0)*d[1]},positionAbsolute:a}}async function Xh({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(a=>a.id)),s=[];for(const a of n){if(a.deletable===!1)continue;const h=i.has(a.id),w=!h&&a.parentId&&s.find(y=>y.id===a.parentId);(h||w)&&s.push(a)}const c=new Set(t.map(a=>a.id)),u=r.filter(a=>a.deletable!==!1),d=Yh(s,u);for(const a of u)c.has(a.id)&&!d.find(w=>w.id===a.id)&&d.push(a);if(!o)return{edges:d,nodes:s};const f=await o({nodes:s,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:s}:{edges:[],nodes:[]}:f}const $t=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),wt=(e={x:0,y:0},t,n)=>({x:$t(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:$t(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Ys(e,t,n){const{width:r,height:o}=We(n),{x:i,y:s}=n.internals.positionAbsolute;return wt(e,[[i,s],[i+r,s+o]],t)}const Fs=(e,t,n)=>e<t?$t(Math.abs(e-t),1,t)/t:e>n?-$t(Math.abs(e-n),1,t)/t:0,Ws=(e,t,n=15,r=40)=>{const o=Fs(e.x,r,t.width-r)*n,i=Fs(e.y,r,t.height-r)*n;return[o,i]},hr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_o=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),pr=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Lt=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=xo(e)?e.internals.positionAbsolute:pn(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},gr=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=xo(e)?e.internals.positionAbsolute:pn(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Xs=(e,t)=>pr(hr(_o(e),_o(t))),mn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Us=e=>De(e.width)&&De(e.height)&&De(e.x)&&De(e.y),De=e=>!isNaN(e)&&isFinite(e),Gs=(e,t)=>{process.env.NODE_ENV==="development"&&console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},mr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),yn=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?mr(c,s):c},yr=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function jt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Uh(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=jt(e,n),o=jt(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=jt(e.top??e.y??0,n),o=jt(e.bottom??e.y??0,n),i=jt(e.left??e.x??0,t),s=jt(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Gh(e,t,n,r,o,i){const{x:s,y:c}=yr(e,[t,n,r]),{x:u,y:l}=yr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-u,f=i-l;return{left:Math.floor(s),top:Math.floor(c),right:Math.floor(d),bottom:Math.floor(f)}}const bo=(e,t,n,r,o,i)=>{const s=Uh(i,t,n),c=(t-s.x)/e.width,u=(n-s.y)/e.height,l=Math.min(c,u),d=$t(l,r,o),f=e.x+e.width/2,a=e.y+e.height/2,h=t/2-f*d,w=n/2-a*d,y=Gh(e,h,w,d,t,n),_={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:h-_.left+_.right,y:w-_.top+_.bottom,zoom:d}},wr=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ht(e){return e!==void 0&&e!=="parent"}function We(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function qs(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ks(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const c=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function Zs(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function qh(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function wn(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=Xe(e),c=yn({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:u,y:l}=n?mr(c,t):c;return{xSnapped:u,ySnapped:l,...c}}const Eo=e=>({width:e.offsetWidth,height:e.offsetHeight}),Qs=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Kh=["INPUT","SELECT","TEXTAREA"];function Js(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Kh.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ea=e=>"clientX"in e,Xe=(e,t)=>{var i,s;const n=ea(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},ta=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const c=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...Eo(s)}})};function na({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:c}){const u=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+c*.375+r*.125,d=Math.abs(u-e),f=Math.abs(l-t);return[u,l,d,f]}function vr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ra({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case J.Left:return[t-vr(t-r,i),n];case J.Right:return[t+vr(r-t,i),n];case J.Top:return[t,n-vr(n-o,i)];case J.Bottom:return[t,n+vr(o-n,i)]}}function oa({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,curvature:s=.25}){const[c,u]=ra({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,d]=ra({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,a,h,w]=na({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:u,targetControlX:l,targetControlY:d});return[`M${e},${t} C${c},${u} ${l},${d} ${r},${o}`,f,a,h,w]}function ia({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,c=r<t?r+s:r-s;return[i,c,o,s]}function Zh({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?s:0)}function Qh({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=hr(gr(e),gr(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return mn(s,pr(i))>0}const Jh=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,ep=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),sa=(e,t)=>{if(!e.source||!e.target)return Gs("006",Re.error006()),t;let n;return zs(e)?n={...e}:n={...e,id:Jh(e)},ep(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function So({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,c]=ia({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,c]}const aa={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},tp=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ca=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function np({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:o,offset:i}){const s=aa[t],c=aa[r],u={x:e.x+s.x*i,y:e.y+s.y*i},l={x:n.x+c.x*i,y:n.y+c.y*i},d=tp({source:u,sourcePosition:t,target:l}),f=d.x!==0?"x":"y",a=d[f];let h=[],w,y;const _={x:0,y:0},x={x:0,y:0},[N,m,v,C]=ia({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*c[f]===-1){w=o.x??N,y=o.y??m;const S=[{x:w,y:u.y},{x:w,y:l.y}],D=[{x:u.x,y},{x:l.x,y}];s[f]===a?h=f==="x"?S:D:h=f==="x"?D:S}else{const S=[{x:u.x,y:l.y}],D=[{x:l.x,y:u.y}];if(f==="x"?h=s.x===a?D:S:h=s.y===a?S:D,t===r){const V=Math.abs(e[f]-n[f]);if(V<=i){const b=Math.min(i-1,i-V);s[f]===a?_[f]=(u[f]>e[f]?-1:1)*b:x[f]=(l[f]>n[f]?-1:1)*b}}if(t!==r){const V=f==="x"?"y":"x",b=s[f]===c[V],P=u[V]>l[V],O=u[V]<l[V];(s[f]===1&&(!b&&P||b&&O)||s[f]!==1&&(!b&&O||b&&P))&&(h=f==="x"?S:D)}const j={x:u.x+_.x,y:u.y+_.y},B={x:l.x+x.x,y:l.y+x.y},$=Math.max(Math.abs(j.x-h[0].x),Math.abs(B.x-h[0].x)),F=Math.max(Math.abs(j.y-h[0].y),Math.abs(B.y-h[0].y));$>=F?(w=(j.x+B.x)/2,y=h[0].y):(w=h[0].x,y=(j.y+B.y)/2)}return[[e,{x:u.x+_.x,y:u.y+_.y},...h,{x:l.x+x.x,y:l.y+x.y},n],w,y,v,C]}function rp(e,t,n,r){const o=Math.min(ca(e,t)/2,ca(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*d}`}const c=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${s+o*u}Q ${i},${s} ${i+o*c},${s}`}function Co({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,borderRadius:s=5,centerX:c,centerY:u,offset:l=20}){const[d,f,a,h,w]=np({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:u},offset:l});return[d.reduce((_,x,N)=>{let m="";return N>0&&N<d.length-1?m=rp(d[N-1],x,d[N+1],s):m=`${N===0?"M":"L"}${x.x} ${x.y}`,_+=m,_},""),f,a,h,w]}function ua(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function op(e){var f;const{sourceNode:t,targetNode:n}=e;if(!ua(t)||!ua(n))return null;const r=t.internals.handleBounds||la(t.handles),o=n.internals.handleBounds||la(n.handles),i=fa((r==null?void 0:r.source)??[],e.sourceHandle),s=fa(e.connectionMode===mt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",Re.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||J.Bottom,u=(s==null?void 0:s.position)||J.Top,l=vn(t,i,c),d=vn(n,s,u);return{sourceX:l.x,sourceY:l.y,targetX:d.x,targetY:d.y,sourcePosition:c,targetPosition:u}}function la(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function vn(e,t,n=J.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:c}=t??We(e);if(r)return{x:o+s/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case J.Top:return{x:o+s/2,y:i};case J.Right:return{x:o+s,y:i+c/2};case J.Bottom:return{x:o+s/2,y:i+c};case J.Left:return{x:o,y:i+c/2}}}function fa(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function No(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function ip(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,c)=>([c.markerStart||r,c.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const l=No(u,t);i.has(l)||(s.push({id:l,color:u.color||n,...u}),i.add(l))}}),s),[]).sort((s,c)=>s.id.localeCompare(c.id))}const ko={nodeOrigin:[0,0],nodeExtent:hn,elevateNodesOnSelect:!0,defaults:{}},sp={...ko,checkEquality:!0};function Oo(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function ap(e,t,n){const r=Oo(ko,n);for(const o of e.values())if(o.parentId)To(o,e,t,r);else{const i=pn(o,r.nodeOrigin),s=Ht(o.extent)?o.extent:r.nodeExtent,c=wt(i,s,We(o));o.internals.positionAbsolute=c}}function Ro(e,t,n,r){var u,l;const o=Oo(sp,r);let i=e.length>0;const s=new Map(t),c=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const d of e){let f=s.get(d.id);if(o.checkEquality&&d===(f==null?void 0:f.internals.userNode))t.set(d.id,f);else{const a=pn(d,o.nodeOrigin),h=Ht(d.extent)?d.extent:o.nodeExtent,w=wt(a,h,We(d));f={...o.defaults,...d,measured:{width:(u=d.measured)==null?void 0:u.width,height:(l=d.measured)==null?void 0:l.height},internals:{positionAbsolute:w,handleBounds:d.measured?f==null?void 0:f.internals.handleBounds:void 0,z:da(d,c),userNode:d}},t.set(d.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),d.parentId&&To(f,t,n,r)}return i}function cp(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function To(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=Oo(ko,r),c=e.parentId,u=t.get(c);if(!u){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}cp(e,n);const l=o?1e3:0,{x:d,y:f,z:a}=up(e,u,i,s,l),{positionAbsolute:h}=e.internals,w=d!==h.x||f!==h.y;(w||a!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:f}:h,z:a}})}function da(e,t){return(De(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function up(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,c=We(e),u=pn(e,n),l=Ht(e.extent)?wt(u,e.extent,c):u;let d=wt({x:i+l.x,y:s+l.y},r,c);e.extent==="parent"&&(d=Ys(d,c,t));const f=da(e,o),a=t.internals.z??0;return{x:d.x,y:d.y,z:a>f?a:f}}function Ao(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const c of e){const u=t.get(c.parentId);if(!u)continue;const l=((s=i.get(c.parentId))==null?void 0:s.expandedRect)??Lt(u),d=Xs(l,c.rect);i.set(c.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:c,parent:u},l)=>{var m;const d=u.internals.positionAbsolute,f=We(u),a=u.origin??r,h=c.x<d.x?Math.round(Math.abs(d.x-c.x)):0,w=c.y<d.y?Math.round(Math.abs(d.y-c.y)):0,y=Math.max(f.width,Math.round(c.width)),_=Math.max(f.height,Math.round(c.height)),x=(y-f.width)*a[0],N=(_-f.height)*a[1];(h>0||w>0||x||N)&&(o.push({id:l,type:"position",position:{x:u.position.x-h+x,y:u.position.y-w+N}}),(m=n.get(l))==null||m.forEach(v=>{e.some(C=>C.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+w}})})),(f.width<c.width||f.height<c.height||h||w)&&o.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?a[0]*h-x:0),height:_+(w?a[1]*w-N:0)}})}),o}function lp(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!s)return{changes:[],updatedInternals:c};const u=[],l=window.getComputedStyle(s),{m22:d}=new window.DOMMatrixReadOnly(l.transform),f=[];for(const a of e.values()){const h=t.get(a.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),c=!0;continue}const w=Eo(a.nodeElement),y=h.measured.width!==w.width||h.measured.height!==w.height;if(!!(w.width&&w.height&&(y||!h.internals.handleBounds||a.force))){const x=a.nodeElement.getBoundingClientRect(),N=Ht(h.extent)?h.extent:i;let{positionAbsolute:m}=h.internals;h.parentId&&h.extent==="parent"?m=Ys(m,w,t.get(h.parentId)):N&&(m=wt(m,N,w));const v={...h,measured:w,internals:{...h.internals,positionAbsolute:m,handleBounds:{source:ta("source",a.nodeElement,x,d,h.id),target:ta("target",a.nodeElement,x,d,h.id)}}};t.set(h.id,v),h.parentId&&To(v,t,n,{nodeOrigin:o}),c=!0,y&&(u.push({id:h.id,type:"dimensions",dimensions:w}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:Lt(v,o)}))}}if(f.length>0){const a=Ao(f,t,n,o);u.push(...a)}return{changes:u,updatedInternals:c}}async function fp({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(c)}function ha(e,t,n,r,o,i){let s=o;const c=r.get(s)||new Map;r.set(s,c.set(n,t)),s=`${o}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),i){s=`${o}-${e}-${i}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function pa(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:c=null}=r,u={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:c},l=`${o}-${s}--${i}-${c}`,d=`${i}-${c}--${o}-${s}`;ha("source",u,d,e,o,s),ha("target",u,l,e,i,c),t.set(r.id,r)}}function ga(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:ga(n,t):!1}function ma(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function dp(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!ga(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function Mo({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,c,u;const o=[];for(const[l,d]of t){const f=(s=n.get(l))==null?void 0:s.internals.userNode;f&&o.push({...f,position:d.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:o[0],o]}function hp({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,c=new Map,u=!1,l={x:0,y:0},d=null,f=!1,a=null,h=!1;function w({noDragClassName:_,handleSelector:x,domNode:N,isSelectable:m,nodeId:v,nodeClickDistance:C=0}){a=Oe(N);function k({x:B,y:$},F){const{nodeLookup:V,nodeExtent:b,snapGrid:P,snapToGrid:O,nodeOrigin:T,onNodeDrag:L,onSelectionDrag:R,onError:p,updateNodePositions:E}=t();i={x:B,y:$};let A=!1,z={x:0,y:0,x2:0,y2:0};if(c.size>1&&b){const Y=gn(c);z=_o(Y)}for(const[Y,U]of c){if(!V.has(Y))continue;let W={x:B-U.distance.x,y:$-U.distance.y};O&&(W=mr(W,P));let G=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(c.size>1&&b&&!U.extent){const{positionAbsolute:se}=U.internals,te=se.x-z.x+b[0][0],Z=se.x+U.measured.width-z.x2+b[1][0],me=se.y-z.y+b[0][1],le=se.y+U.measured.height-z.y2+b[1][1];G=[[te,me],[Z,le]]}const{position:X,positionAbsolute:Q}=Vs({nodeId:Y,nextPosition:W,nodeLookup:V,nodeExtent:G,nodeOrigin:T,onError:p});A=A||U.position.x!==X.x||U.position.y!==X.y,U.position=X,U.internals.positionAbsolute=Q}if(A&&(E(c,!0),F&&(r||L||!v&&R))){const[Y,U]=Mo({nodeId:v,dragItems:c,nodeLookup:V});r==null||r(F,c,Y,U),L==null||L(F,Y,U),v||R==null||R(F,U)}}async function S(){if(!d)return;const{transform:B,panBy:$,autoPanSpeed:F,autoPanOnNodeDrag:V}=t();if(!V){u=!1,cancelAnimationFrame(s);return}const[b,P]=Ws(l,d,F);(b!==0||P!==0)&&(i.x=(i.x??0)-b/B[2],i.y=(i.y??0)-P/B[2],await $({x:b,y:P})&&k(i,null)),s=requestAnimationFrame(S)}function D(B){var A;const{nodeLookup:$,multiSelectionActive:F,nodesDraggable:V,transform:b,snapGrid:P,snapToGrid:O,selectNodesOnDrag:T,onNodeDragStart:L,onSelectionDragStart:R,unselectNodesAndEdges:p}=t();f=!0,(!T||!m)&&!F&&v&&((A=$.get(v))!=null&&A.selected||p()),m&&T&&v&&(e==null||e(v));const E=wn(B.sourceEvent,{transform:b,snapGrid:P,snapToGrid:O,containerBounds:d});if(i=E,c=dp($,V,E,v),c.size>0&&(n||L||!v&&R)){const[z,Y]=Mo({nodeId:v,dragItems:c,nodeLookup:$});n==null||n(B.sourceEvent,c,z,Y),L==null||L(B.sourceEvent,z,Y),v||R==null||R(B.sourceEvent,Y)}}const j=os().clickDistance(C).on("start",B=>{const{domNode:$,nodeDragThreshold:F,transform:V,snapGrid:b,snapToGrid:P}=t();d=($==null?void 0:$.getBoundingClientRect())||null,h=!1,F===0&&D(B),i=wn(B.sourceEvent,{transform:V,snapGrid:b,snapToGrid:P,containerBounds:d}),l=Xe(B.sourceEvent,d)}).on("drag",B=>{const{autoPanOnNodeDrag:$,transform:F,snapGrid:V,snapToGrid:b,nodeDragThreshold:P,nodeLookup:O}=t(),T=wn(B.sourceEvent,{transform:F,snapGrid:V,snapToGrid:b,containerBounds:d});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||v&&!O.has(v))&&(h=!0),!h){if(!u&&$&&f&&(u=!0,S()),!f){const L=T.xSnapped-(i.x??0),R=T.ySnapped-(i.y??0);Math.sqrt(L*L+R*R)>P&&D(B)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&c&&f&&(l=Xe(B.sourceEvent,d),k(T,B.sourceEvent))}}).on("end",B=>{if(!(!f||h)&&(u=!1,f=!1,cancelAnimationFrame(s),c.size>0)){const{nodeLookup:$,updateNodePositions:F,onNodeDragStop:V,onSelectionDragStop:b}=t();if(F(c,!1),o||V||!v&&b){const[P,O]=Mo({nodeId:v,dragItems:c,nodeLookup:$,dragging:!1});o==null||o(B.sourceEvent,c,P,O),V==null||V(B.sourceEvent,P,O),v||b==null||b(B.sourceEvent,O)}}}).filter(B=>{const $=B.target;return!B.button&&(!_||!ma($,`.${_}`,N))&&(!x||ma($,x,N))});a.call(j)}function y(){a==null||a.on(".drag",null)}return{update:w,destroy:y}}function pp(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())mn(o,Lt(i))>0&&r.push(i);return r}const gp=250;function mp(e,t,n,r){var c,u;let o=[],i=1/0;const s=pp(e,n,t+gp);for(const l of s){const d=[...((c=l.internals.handleBounds)==null?void 0:c.source)??[],...((u=l.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:a,y:h}=vn(l,f,f.position,!0),w=Math.sqrt(Math.pow(a-e.x,2)+Math.pow(h-e.y,2));w>t||(w<i?(o=[{...f,x:a,y:h}],i=w):w===i&&o.push({...f,x:a,y:h}))}}if(!o.length)return null;if(o.length>1){const l=r.type==="source"?"target":"source";return o.find(d=>d.type===l)??o[0]}return o[0]}function ya(e,t,n,r,o,i=!1){var l,d,f;const s=r.get(e);if(!s)return null;const c=o==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?c==null?void 0:c.find(a=>a.id===n):c==null?void 0:c[0])??null;return u&&i?{...u,...vn(s,u,u.position,!0)}:u}function wa(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function yp(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const va=()=>!0;function wp(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:c,nodeLookup:u,lib:l,autoPanOnConnect:d,flowId:f,panBy:a,cancelConnection:h,onConnectStart:w,onConnect:y,onConnectEnd:_,isValidConnection:x=va,onReconnectEnd:N,updateConnection:m,getTransform:v,getFromHandle:C,autoPanSpeed:k}){const S=Qs(e.target);let D=0,j;const{x:B,y:$}=Xe(e),F=S==null?void 0:S.elementFromPoint(B,$),V=wa(i,F),b=c==null?void 0:c.getBoundingClientRect();if(!b||!V)return;const P=ya(o,V,r,u,t);if(!P)return;let O=Xe(e,b),T=!1,L=null,R=!1,p=null;function E(){if(!d||!b)return;const[Q,se]=Ws(O,b,k);a({x:Q,y:se}),D=requestAnimationFrame(E)}const A={...P,nodeId:o,type:V,position:P.position},z=u.get(o),U={inProgress:!0,isValid:null,from:vn(z,A,J.Left,!0),fromHandle:A,fromPosition:A.position,fromNode:z,to:O,toHandle:null,toPosition:js[A.position],toNode:null};m(U);let W=U;w==null||w(e,{nodeId:o,handleId:r,handleType:V});function G(Q){if(!C()||!A){X(Q);return}const se=v();O=Xe(Q,b),j=mp(yn(O,se,!1,[1,1]),n,u,A),T||(E(),T=!0);const te=xa(Q,{handle:j,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:x,doc:S,lib:l,flowId:f,nodeLookup:u});p=te.handleDomNode,L=te.connection,R=yp(!!j,te.isValid);const Z={...W,isValid:R,to:j&&R?yr({x:j.x,y:j.y},se):O,toHandle:te.toHandle,toPosition:R&&te.toHandle?te.toHandle.position:js[A.position],toNode:te.toHandle?u.get(te.toHandle.nodeId):null};R&&j&&W.toHandle&&Z.toHandle&&W.toHandle.type===Z.toHandle.type&&W.toHandle.nodeId===Z.toHandle.nodeId&&W.toHandle.id===Z.toHandle.id&&W.to.x===Z.to.x&&W.to.y===Z.to.y||(m(Z),W=Z)}function X(Q){(j||p)&&L&&R&&(y==null||y(L));const{inProgress:se,...te}=W,Z={...te,toPosition:W.toHandle?W.toPosition:null};_==null||_(Q,Z),i&&(N==null||N(Q,Z)),h(),cancelAnimationFrame(D),T=!1,R=!1,L=null,p=null,S.removeEventListener("mousemove",G),S.removeEventListener("mouseup",X),S.removeEventListener("touchmove",G),S.removeEventListener("touchend",X)}S.addEventListener("mousemove",G),S.addEventListener("mouseup",X),S.addEventListener("touchmove",G),S.addEventListener("touchend",X)}function xa(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:c,flowId:u,isValidConnection:l=va,nodeLookup:d}){const f=i==="target",a=t?s.querySelector(`.${c}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:w}=Xe(e),y=s.elementFromPoint(h,w),_=y!=null&&y.classList.contains(`${c}-flow__handle`)?y:a,x={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const N=wa(void 0,_),m=_.getAttribute("data-nodeid"),v=_.getAttribute("data-handleid"),C=_.classList.contains("connectable"),k=_.classList.contains("connectableend");if(!m||!N)return x;const S={source:f?m:r,sourceHandle:f?v:o,target:f?r:m,targetHandle:f?o:v};x.connection=S;const j=C&&k&&(n===mt.Strict?f&&N==="source"||!f&&N==="target":m!==r||v!==o);x.isValid=j&&l(S),x.toHandle=ya(m,N,v,d,n,!1)}return x}const Po={onPointerDown:wp,isValid:xa};function vp({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Oe(e);function i({translateExtent:c,width:u,height:l,zoomStep:d=10,pannable:f=!0,zoomable:a=!0,inversePan:h=!1}){const w=m=>{const v=n();if(m.sourceEvent.type!=="wheel"||!t)return;const C=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*d,k=v[2]*Math.pow(2,C);t.scaleTo(k)};let y=[0,0];const _=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(y=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},x=m=>{const v=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const C=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],k=[C[0]-y[0],C[1]-y[1]];y=C;const S=r()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),D={x:v[0]-k[0]*S,y:v[1]-k[1]*S},j=[[0,0],[u,l]];t.setViewportConstrained({x:D.x,y:D.y,zoom:v[2]},j,c)},N=Ds().on("start",_).on("zoom",f?x:null).on("zoom.wheel",a?w:null);o.call(N,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:Me}}const xp=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,xr=e=>({x:e.x,y:e.y,zoom:e.k}),Io=({x:e,y:t,zoom:n})=>dr.translate(e,t).scale(n),zt=(e,t)=>e.target.closest(`.${t}`),_a=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Do=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},ba=e=>{const t=e.ctrlKey&&wr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function _p({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:l}){return d=>{if(zt(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&s){const _=Me(d),x=ba(d),N=f*Math.pow(2,x);r.scaleTo(n,N,_,d);return}const a=d.deltaMode===1?20:1;let h=o===yt.Vertical?0:d.deltaX*a,w=o===yt.Horizontal?0:d.deltaY*a;!wr()&&d.shiftKey&&o!==yt.Vertical&&(h=d.deltaY*a,w=0),r.translateBy(n,-(h/f)*i,-(w/f)*i,{internal:!0});const y=xr(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c==null||c(d,y)),e.isPanScrolling&&(u==null||u(d,y),e.panScrollTimeout=setTimeout(()=>{l==null||l(d,y),e.isPanScrolling=!1},150))}}function bp({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,c=zt(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),s||c)return null;r.preventDefault(),n.call(this,r,o)}}function Ep({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=xr(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function Sp({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,c;e.usedRightMouseButton=!!(n&&_a(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,xr(i.transform)))}}function Cp({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var c;if(!((c=s.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&_a(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&xp(e.prevViewport,s.transform))){const u=xr(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function Np({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:c,noPanClassName:u,lib:l}){return d=>{var w;const f=e||t,a=n&&d.ctrlKey;if(d.button===1&&d.type==="mousedown"&&(zt(d,`${l}-flow__node`)||zt(d,`${l}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||zt(d,c)&&d.type==="wheel"||zt(d,u)&&(d.type!=="wheel"||o&&d.type==="wheel"&&!e)||!n&&d.ctrlKey&&d.type==="wheel")return!1;if(!n&&d.type==="touchstart"&&((w=d.touches)==null?void 0:w.length)>1)return d.preventDefault(),!1;if(!f&&!o&&!a&&d.type==="wheel"||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||d.type==="wheel")&&h}}function kp({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:c,onPanZoomEnd:u,onDraggingChange:l}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),a=Ds().clickDistance(!De(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=Oe(e).call(a);m({x:i.x,y:i.y,zoom:$t(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const w=h.on("wheel.zoom"),y=h.on("dblclick.zoom");a.wheelDelta(ba);function _(F,V){return h?new Promise(b=>{a==null||a.transform(Do(h,V==null?void 0:V.duration,()=>b(!0)),F)}):Promise.resolve(!1)}function x({noWheelClassName:F,noPanClassName:V,onPaneContextMenu:b,userSelectionActive:P,panOnScroll:O,panOnDrag:T,panOnScrollMode:L,panOnScrollSpeed:R,preventScrolling:p,zoomOnPinch:E,zoomOnScroll:A,zoomOnDoubleClick:z,zoomActivationKeyPressed:Y,lib:U,onTransformChange:W}){P&&!d.isZoomingOrPanning&&N();const X=O&&!Y&&!P?_p({zoomPanValues:d,noWheelClassName:F,d3Selection:h,d3Zoom:a,panOnScrollMode:L,panOnScrollSpeed:R,zoomOnPinch:E,onPanZoomStart:c,onPanZoom:s,onPanZoomEnd:u}):bp({noWheelClassName:F,preventScrolling:p,d3ZoomHandler:w});if(h.on("wheel.zoom",X,{passive:!1}),!P){const se=Ep({zoomPanValues:d,onDraggingChange:l,onPanZoomStart:c});a.on("start",se);const te=Sp({zoomPanValues:d,panOnDrag:T,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:W});a.on("zoom",te);const Z=Cp({zoomPanValues:d,panOnDrag:T,panOnScroll:O,onPaneContextMenu:b,onPanZoomEnd:u,onDraggingChange:l});a.on("end",Z)}const Q=Np({zoomActivationKeyPressed:Y,panOnDrag:T,zoomOnScroll:A,panOnScroll:O,zoomOnDoubleClick:z,zoomOnPinch:E,userSelectionActive:P,noPanClassName:V,noWheelClassName:F,lib:U});a.filter(Q),z?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function N(){a.on("zoom",null)}async function m(F,V,b){const P=Io(F),O=a==null?void 0:a.constrain()(P,V,b);return O&&await _(O),new Promise(T=>T(O))}async function v(F,V){const b=Io(F);return await _(b,V),new Promise(P=>P(b))}function C(F){if(h){const V=Io(F),b=h.property("__zoom");(b.k!==F.zoom||b.x!==F.x||b.y!==F.y)&&(a==null||a.transform(h,V,null,{sync:!0}))}}function k(){const F=h?Ps(h.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function S(F,V){return h?new Promise(b=>{a==null||a.scaleTo(Do(h,V==null?void 0:V.duration,()=>b(!0)),F)}):Promise.resolve(!1)}function D(F,V){return h?new Promise(b=>{a==null||a.scaleBy(Do(h,V==null?void 0:V.duration,()=>b(!0)),F)}):Promise.resolve(!1)}function j(F){a==null||a.scaleExtent(F)}function B(F){a==null||a.translateExtent(F)}function $(F){const V=!De(F)||F<0?0:F;a==null||a.clickDistance(V)}return{update:x,destroy:N,setViewport:v,setViewportConstrained:m,getViewport:k,scaleTo:S,scaleBy:D,setScaleExtent:j,setTranslateExtent:B,syncViewport:C,setClickDistance:$}}var xn;(function(e){e.Line="line",e.Handle="handle"})(xn||(xn={}));function Op({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,c=n-r,u=[s>0?1:s<0?-1:0,c>0?1:c<0?-1:0];return s&&o&&(u[0]=u[0]*-1),c&&i&&(u[1]=u[1]*-1),u}function Rp(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Je(e,t){return Math.max(0,t-e)}function et(e,t){return Math.max(0,e-t)}function _r(e,t,n){return Math.max(0,t-e,e-n)}function Ea(e,t){return e?!t:t}function Tp(e,t,n,r,o,i,s,c){let{affectsX:u,affectsY:l}=t;const{isHorizontal:d,isVertical:f}=t,a=d&&f,{xSnapped:h,ySnapped:w}=n,{minWidth:y,maxWidth:_,minHeight:x,maxHeight:N}=r,{x:m,y:v,width:C,height:k,aspectRatio:S}=e;let D=Math.floor(d?h-e.pointerX:0),j=Math.floor(f?w-e.pointerY:0);const B=C+(u?-D:D),$=k+(l?-j:j),F=-i[0]*C,V=-i[1]*k;let b=_r(B,y,_),P=_r($,x,N);if(s){let L=0,R=0;u&&D<0?L=Je(m+D+F,s[0][0]):!u&&D>0&&(L=et(m+B+F,s[1][0])),l&&j<0?R=Je(v+j+V,s[0][1]):!l&&j>0&&(R=et(v+$+V,s[1][1])),b=Math.max(b,L),P=Math.max(P,R)}if(c){let L=0,R=0;u&&D>0?L=et(m+D,c[0][0]):!u&&D<0&&(L=Je(m+B,c[1][0])),l&&j>0?R=et(v+j,c[0][1]):!l&&j<0&&(R=Je(v+$,c[1][1])),b=Math.max(b,L),P=Math.max(P,R)}if(o){if(d){const L=_r(B/S,x,N)*S;if(b=Math.max(b,L),s){let R=0;!u&&!l||u&&!l&&a?R=et(v+V+B/S,s[1][1])*S:R=Je(v+V+(u?D:-D)/S,s[0][1])*S,b=Math.max(b,R)}if(c){let R=0;!u&&!l||u&&!l&&a?R=Je(v+B/S,c[1][1])*S:R=et(v+(u?D:-D)/S,c[0][1])*S,b=Math.max(b,R)}}if(f){const L=_r($*S,y,_)/S;if(P=Math.max(P,L),s){let R=0;!u&&!l||l&&!u&&a?R=et(m+$*S+F,s[1][0])/S:R=Je(m+(l?j:-j)*S+F,s[0][0])/S,P=Math.max(P,R)}if(c){let R=0;!u&&!l||l&&!u&&a?R=Je(m+$*S,c[1][0])/S:R=et(m+(l?j:-j)*S,c[0][0])/S,P=Math.max(P,R)}}}j=j+(j<0?P:-P),D=D+(D<0?b:-b),o&&(a?B>$*S?j=(Ea(u,l)?-D:D)/S:D=(Ea(u,l)?-j:j)*S:d?(j=D/S,l=u):(D=j*S,u=l));const O=u?m+D:m,T=l?v+j:v;return{width:C+(u?-D:D),height:k+(l?-j:j),x:i[0]*D*(u?-1:1)+O,y:i[1]*j*(l?-1:1)+T}}const Sa={width:0,height:0,x:0,y:0},Ap={...Sa,pointerX:0,pointerY:0,aspectRatio:1};function Mp(e){return[[0,0],[e.measured.width,e.measured.height]]}function Pp(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,c=n[0]*i,u=n[1]*s;return[[r-c,o-u],[r+i-c,o+s-u]]}function Ip({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Oe(e);function s({controlPosition:u,boundaries:l,keepAspectRatio:d,resizeDirection:f,onResizeStart:a,onResize:h,onResizeEnd:w,shouldResize:y}){let _={...Sa},x={...Ap};const N=Rp(u);let m,v=null,C=[],k,S,D;const j=os().on("start",B=>{const{nodeLookup:$,transform:F,snapGrid:V,snapToGrid:b,nodeOrigin:P,paneDomNode:O}=n();if(m=$.get(t),!m)return;v=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:L}=wn(B.sourceEvent,{transform:F,snapGrid:V,snapToGrid:b,containerBounds:v});_={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},x={..._,pointerX:T,pointerY:L,aspectRatio:_.width/_.height},k=void 0,m.parentId&&(m.extent==="parent"||m.expandParent)&&(k=$.get(m.parentId),S=k&&m.extent==="parent"?Mp(k):void 0),C=[],D=void 0;for(const[R,p]of $)if(p.parentId===t&&(C.push({id:R,position:{...p.position},extent:p.extent}),p.extent==="parent"||p.expandParent)){const E=Pp(p,m,p.origin??P);D?D=[[Math.min(E[0][0],D[0][0]),Math.min(E[0][1],D[0][1])],[Math.max(E[1][0],D[1][0]),Math.max(E[1][1],D[1][1])]]:D=E}a==null||a(B,{..._})}).on("drag",B=>{const{transform:$,snapGrid:F,snapToGrid:V,nodeOrigin:b}=n(),P=wn(B.sourceEvent,{transform:$,snapGrid:F,snapToGrid:V,containerBounds:v}),O=[];if(!m)return;const{x:T,y:L,width:R,height:p}=_,E={},A=m.origin??b,{width:z,height:Y,x:U,y:W}=Tp(x,N,P,l,d,A,S,D),G=z!==R,X=Y!==p,Q=U!==T&&G,se=W!==L&&X;if(!Q&&!se&&!G&&!X)return;if((Q||se||A[0]===1||A[1]===1)&&(E.x=Q?U:_.x,E.y=se?W:_.y,_.x=E.x,_.y=E.y,C.length>0)){const le=U-T,we=W-L;for(const he of C)he.position={x:he.position.x-le+A[0]*(z-R),y:he.position.y-we+A[1]*(Y-p)},O.push(he)}if((G||X)&&(E.width=G&&(!f||f==="horizontal")?z:_.width,E.height=X&&(!f||f==="vertical")?Y:_.height,_.width=E.width,_.height=E.height),k&&m.expandParent){const le=A[0]*(E.width??0);E.x&&E.x<le&&(_.x=le,x.x=x.x-(E.x-le));const we=A[1]*(E.height??0);E.y&&E.y<we&&(_.y=we,x.y=x.y-(E.y-we))}const te=Op({width:_.width,prevWidth:R,height:_.height,prevHeight:p,affectsX:N.affectsX,affectsY:N.affectsY}),Z={..._,direction:te};(y==null?void 0:y(B,Z))!==!1&&(h==null||h(B,Z),r(E,O))}).on("end",B=>{w==null||w(B,{..._}),o==null||o({..._})});i.call(j)}function c(){i.on(".drag",null)}return{update:s,destroy:c}}var br={exports:{}},$o={},Er={exports:{}},Lo={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca;function Dp(){if(Ca)return Lo;Ca=1;var e=Ge();function t(f,a){return f===a&&(f!==0||1/f===1/a)||f!==f&&a!==a}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function c(f,a){var h=a(),w=r({inst:{value:h,getSnapshot:a}}),y=w[0].inst,_=w[1];return i(function(){y.value=h,y.getSnapshot=a,u(y)&&_({inst:y})},[f,h,a]),o(function(){return u(y)&&_({inst:y}),f(function(){u(y)&&_({inst:y})})},[f]),s(h),h}function u(f){var a=f.getSnapshot;f=f.value;try{var h=a();return!n(f,h)}catch{return!0}}function l(f,a){return a()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return Lo.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Lo}var jo={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na;function $p(){return Na||(Na=1,process.env.NODE_ENV!=="production"&&function(){function e(h,w){return h===w&&(h!==0||1/h===1/w)||h!==h&&w!==w}function t(h,w){d||o.startTransition===void 0||(d=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var y=w();if(!f){var _=w();i(y,_)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}_=s({inst:{value:y,getSnapshot:w}});var x=_[0].inst,N=_[1];return u(function(){x.value=y,x.getSnapshot=w,n(x)&&N({inst:x})},[h,y,w]),c(function(){return n(x)&&N({inst:x}),h(function(){n(x)&&N({inst:x})})},[h]),l(y),y}function n(h){var w=h.getSnapshot;h=h.value;try{var y=w();return!i(h,y)}catch{return!0}}function r(h,w){return w()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var o=Ge(),i=typeof Object.is=="function"?Object.is:e,s=o.useState,c=o.useEffect,u=o.useLayoutEffect,l=o.useDebugValue,d=!1,f=!1,a=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:t;jo.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:a,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),jo}var ka;function Oa(){return ka||(ka=1,process.env.NODE_ENV==="production"?Er.exports=Dp():Er.exports=$p()),Er.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra;function Lp(){if(Ra)return $o;Ra=1;var e=Ge(),t=Oa();function n(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return $o.useSyncExternalStoreWithSelector=function(l,d,f,a,h){var w=i(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=c(function(){function x(k){if(!N){if(N=!0,m=k,k=a(k),h!==void 0&&y.hasValue){var S=y.value;if(h(S,k))return v=S}return v=k}if(S=v,r(m,k))return S;var D=a(k);return h!==void 0&&h(S,D)?(m=k,S):(m=k,v=D)}var N=!1,m,v,C=f===void 0?null:f;return[function(){return x(d())},C===null?void 0:function(){return x(C())}]},[d,f,a,h]);var _=o(l,w[0],w[1]);return s(function(){y.hasValue=!0,y.value=_},[_]),u(_),_},$o}var Ho={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta;function jp(){return Ta||(Ta=1,process.env.NODE_ENV!=="production"&&function(){function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=Ge(),n=Oa(),r=typeof Object.is=="function"?Object.is:e,o=n.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;Ho.useSyncExternalStoreWithSelector=function(l,d,f,a,h){var w=i(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=c(function(){function x(k){if(!N){if(N=!0,m=k,k=a(k),h!==void 0&&y.hasValue){var S=y.value;if(h(S,k))return v=S}return v=k}if(S=v,r(m,k))return S;var D=a(k);return h!==void 0&&h(S,D)?(m=k,S):(m=k,v=D)}var N=!1,m,v,C=f===void 0?null:f;return[function(){return x(d())},C===null?void 0:function(){return x(C())}]},[d,f,a,h]);var _=o(l,w[0],w[1]);return s(function(){y.hasValue=!0,y.value=_},[_]),u(_),_},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Ho}var Aa;function Hp(){return Aa||(Aa=1,process.env.NODE_ENV==="production"?br.exports=Lp():br.exports=jp()),br.exports}var zp=Hp();const Bp=_t(zp),Vp={},Ma=e=>{let t;const n=new Set,r=(d,f)=>{const a=typeof d=="function"?d(t):d;if(!Object.is(a,t)){const h=t;t=f??(typeof a!="object"||a===null)?a:Object.assign({},t,a),n.forEach(w=>w(t,h))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>l,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Vp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,u);return u},Yp=e=>e?Ma(e):Ma,{useDebugValue:Fp}=Ne,{useSyncExternalStoreWithSelector:Wp}=Bp,Xp=e=>e;function Pa(e,t=Xp,n){const r=Wp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Fp(r),r}const Ia=(e,t)=>{const n=Yp(e),r=(o,i=t)=>Pa(n,o,i);return Object.assign(r,n),r},Up=(e,t)=>e?Ia(e,t):Ia;function ye(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Sr={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da;function Gp(){if(Da)return be;Da=1;var e=Ge();function t(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(u,l,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:u,containerInfo:l,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,be.createPortal=function(u,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(t(299));return i(u,l,null,d)},be.flushSync=function(u){var l=s.T,d=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=l,r.p=d,r.d.f()}},be.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(u,l))},be.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},be.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin),a=typeof l.integrity=="string"?l.integrity:void 0,h=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;d==="style"?r.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:f,integrity:a,fetchPriority:h}):d==="script"&&r.d.X(u,{crossOrigin:f,integrity:a,fetchPriority:h,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},be.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var d=c(l.as,l.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(u)},be.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin);r.d.L(u,d,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},be.preloadModule=function(u,l){if(typeof u=="string")if(l){var d=c(l.as,l.crossOrigin);r.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(u)},be.requestFormReset=function(u){r.d.r(u)},be.unstable_batchedUpdates=function(u,l){return u(l)},be.useFormState=function(u,l,d){return s.H.useFormState(u,l,d)},be.useFormStatus=function(){return s.H.useHostTransitionStatus()},be.version="19.1.0",be}var Ee={};/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a;function qp(){return $a||($a=1,process.env.NODE_ENV!=="production"&&function(){function e(){}function t(f){return""+f}function n(f,a,h){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{t(w);var y=!1}catch{y=!0}return y&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol=="function"&&Symbol.toStringTag&&w[Symbol.toStringTag]||w.constructor.name||"Object"),t(w)),{$$typeof:l,key:w==null?null:""+w,children:f,containerInfo:a,implementation:h}}function r(f,a){if(f==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}function o(f){return f===null?"`null`":f===void 0?"`undefined`":f===""?"an empty string":'something with type "'+typeof f+'"'}function i(f){return f===null?"`null`":f===void 0?"`undefined`":f===""?"an empty string":typeof f=="string"?JSON.stringify(f):typeof f=="number"?"`"+f+"`":'something with type "'+typeof f+'"'}function s(){var f=d.H;return f===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),f}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var c=Ge(),u={d:{f:e,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal"),d=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ee.createPortal=function(f,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error("Target container is not a DOM element.");return n(f,a,null,h)},Ee.flushSync=function(f){var a=d.T,h=u.p;try{if(d.T=null,u.p=2,f)return f()}finally{d.T=a,u.p=h,u.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},Ee.preconnect=function(f,a){typeof f=="string"&&f?a!=null&&typeof a!="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",i(a)):a!=null&&typeof a.crossOrigin!="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",o(a.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(f)),typeof f=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,u.d.C(f,a))},Ee.prefetchDNS=function(f){if(typeof f!="string"||!f)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(f));else if(1<arguments.length){var a=arguments[1];typeof a=="object"&&a.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(a)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(a))}typeof f=="string"&&u.d.D(f)},Ee.preinit=function(f,a){if(typeof f=="string"&&f?a==null||typeof a!="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",i(a)):a.as!=="style"&&a.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',i(a.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(f)),typeof f=="string"&&a&&typeof a.as=="string"){var h=a.as,w=r(h,a.crossOrigin),y=typeof a.integrity=="string"?a.integrity:void 0,_=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;h==="style"?u.d.S(f,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:w,integrity:y,fetchPriority:_}):h==="script"&&u.d.X(f,{crossOrigin:w,integrity:y,fetchPriority:_,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},Ee.preinitModule=function(f,a){var h="";if(typeof f=="string"&&f||(h+=" The `href` argument encountered was "+o(f)+"."),a!==void 0&&typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":a&&"as"in a&&a.as!=="script"&&(h+=" The `as` option encountered was "+i(a.as)+"."),h)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",h);else switch(h=a&&typeof a.as=="string"?a.as:"script",h){case"script":break;default:h=i(h),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',h,f)}typeof f=="string"&&(typeof a=="object"&&a!==null?(a.as==null||a.as==="script")&&(h=r(a.as,a.crossOrigin),u.d.M(f,{crossOrigin:h,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})):a==null&&u.d.M(f))},Ee.preload=function(f,a){var h="";if(typeof f=="string"&&f||(h+=" The `href` argument encountered was "+o(f)+"."),a==null||typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":typeof a.as=="string"&&a.as||(h+=" The `as` option encountered was "+o(a.as)+"."),h&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',h),typeof f=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){h=a.as;var w=r(h,a.crossOrigin);u.d.L(f,h,{crossOrigin:w,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},Ee.preloadModule=function(f,a){var h="";typeof f=="string"&&f||(h+=" The `href` argument encountered was "+o(f)+"."),a!==void 0&&typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":a&&"as"in a&&typeof a.as!="string"&&(h+=" The `as` option encountered was "+o(a.as)+"."),h&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',h),typeof f=="string"&&(a?(h=r(a.as,a.crossOrigin),u.d.m(f,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:h,integrity:typeof a.integrity=="string"?a.integrity:void 0})):u.d.m(f))},Ee.requestFormReset=function(f){u.d.r(f)},Ee.unstable_batchedUpdates=function(f,a){return f(a)},Ee.useFormState=function(f,a,h){return s().useFormState(f,a,h)},Ee.useFormStatus=function(){return s().useHostTransitionStatus()},Ee.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Ee}var La;function Kp(){if(La)return Sr.exports;La=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function")){if(process.env.NODE_ENV!=="production")throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}return process.env.NODE_ENV==="production"?(e(),Sr.exports=Gp()):Sr.exports=qp(),Sr.exports}Kp();const Cr=H.createContext(null),Zp=Cr.Provider,ja=Re.error001();function ue(e,t){const n=H.useContext(Cr);if(n===null)throw new Error(ja);return Pa(n,e,t)}function ge(){const e=H.useContext(Cr);if(e===null)throw new Error(ja);return H.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ha={display:"none"},Qp={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},za="react-flow__node-desc",Ba="react-flow__edge-desc",Jp="react-flow__aria-live",eg=e=>e.ariaLiveMessage;function tg({rfId:e}){const t=ue(eg);return I.jsx("div",{id:`${Jp}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Qp,children:t})}function ng({rfId:e,disableKeyboardA11y:t}){return I.jsxs(I.Fragment,{children:[I.jsxs("div",{id:`${za}-${e}`,style:Ha,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),I.jsx("div",{id:`${Ba}-${e}`,style:Ha,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&I.jsx(tg,{rfId:e})]})}const rg=e=>e.userSelectionActive?"none":"all",Nr=H.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=ue(rg),c=`${e}`.split("-");return I.jsx("div",{className:xe(["react-flow__panel",n,...c]),style:{...r,pointerEvents:s},ref:i,...o,children:t})});Nr.displayName="Panel";function og({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:I.jsx(Nr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:I.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ig=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},kr=e=>e.id;function sg(e,t){return ye(e.selectedNodes.map(kr),t.selectedNodes.map(kr))&&ye(e.selectedEdges.map(kr),t.selectedEdges.map(kr))}function ag({onSelectionChange:e}){const t=ge(),{selectedNodes:n,selectedEdges:r}=ue(ig,sg);return H.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const cg=e=>!!e.onSelectionChangeHandlers;function ug({onSelectionChange:e}){const t=ue(cg);return e||t?I.jsx(ag,{onSelectionChange:e}):null}const Va=[0,0],lg={x:0,y:0,zoom:1},Ya=[...["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],"rfId"],fg=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Fa={translateExtent:hn,nodeOrigin:Va,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function dg(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:c,setDefaultNodesAndEdges:u,setPaneClickDistance:l}=ue(fg,ye),d=ge();H.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{f.current=Fa,c()}),[]);const f=H.useRef(Fa);return H.useEffect(()=>{for(const a of Ya){const h=e[a],w=f.current[a];h!==w&&(typeof e[a]>"u"||(a==="nodes"?t(h):a==="edges"?n(h):a==="minZoom"?r(h):a==="maxZoom"?o(h):a==="translateExtent"?i(h):a==="nodeExtent"?s(h):a==="paneClickDistance"?l(h):a==="fitView"?d.setState({fitViewQueued:h}):a==="fitViewOptions"?d.setState({fitViewOptions:h}):d.setState({[a]:h})))}f.current=e},Ya.map(a=>e[a])),null}function Wa(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hg(e){var r;const[t,n]=H.useState(e==="system"?null:e);return H.useEffect(()=>{if(e!=="system"){n(e);return}const o=Wa(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Wa())!=null&&r.matches?"dark":"light"}const Xa=typeof document<"u"?document:null;function _n(e=null,t={target:Xa,actInsideInputWithModifier:!0}){const[n,r]=H.useState(!1),o=H.useRef(!1),i=H.useRef(new Set([])),[s,c]=H.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=l.reduce((f,a)=>f.concat(...a),[]);return[l,d]}return[[],[]]},[e]);return H.useEffect(()=>{const u=(t==null?void 0:t.target)||Xa;if(e!==null){const l=a=>{var y,_;if(o.current=a.ctrlKey||a.metaKey||a.shiftKey||a.altKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Js(a))return!1;const w=Ga(a.code,c);if(i.current.add(a[w]),Ua(s,i.current,!1)){const x=((_=(y=a.composedPath)==null?void 0:y.call(a))==null?void 0:_[0])||a.target,N=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(o.current||!N)&&a.preventDefault(),r(!0)}},d=a=>{const h=Ga(a.code,c);Ua(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(a[h]),a.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",l),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u==null||u.removeEventListener("keydown",l),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function Ua(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Ga(e,t){return t.includes(e)?"code":"key"}const pg=()=>{const e=ge();return H.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:i,maxZoom:s,panZoom:c}=e.getState(),u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,l=o/2-t*u,d=i/2-n*u;return c?(await c.setViewport({x:l,y:d,zoom:u},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:c}=e.getState(),u=bo(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(u,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:c,y:u}=s.getBoundingClientRect(),l={x:t.x-c,y:t.y-u},d=n.snapGrid??o,f=n.snapToGrid??i;return yn(l,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=yr(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function qa(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const c={...i};for(const u of s)gg(u,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function gg(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Ka(e,t){return qa(e,t)}function Za(e,t){return qa(e,t)}function vt(e,t){return{id:e,type:"select",selected:t}}function Bt(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(vt(i.id,s)))}return r}function Qa({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const c=t.get(s.id),u=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Ja(e){return{id:e.id,type:"remove"}}const ec=e=>Bh(e),mg=e=>zs(e);function tc(e){return H.forwardRef(e)}const yg=typeof window<"u"?H.useLayoutEffect:H.useEffect;function nc(e){const[t,n]=H.useState(BigInt(0)),[r]=H.useState(()=>wg(()=>n(o=>o+BigInt(1))));return yg(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function wg(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const rc=H.createContext(null);function vg({children:e}){const t=ge(),n=H.useCallback(c=>{const{nodes:u=[],setNodes:l,hasDefaultNodes:d,onNodesChange:f,nodeLookup:a,fitViewQueued:h}=t.getState();let w=u;for(const y of c)w=typeof y=="function"?y(w):y;if(d)l(w);else{const y=Qa({items:w,lookup:a});y.length>0?f==null||f(y):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:x,setNodes:N}=t.getState();_&&N(x)})}},[]),r=nc(n),o=H.useCallback(c=>{const{edges:u=[],setEdges:l,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:a}=t.getState();let h=u;for(const w of c)h=typeof w=="function"?w(h):w;d?l(h):f&&f(Qa({items:h,lookup:a}))},[]),i=nc(o),s=H.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return I.jsx(rc.Provider,{value:s,children:e})}function xg(){const e=H.useContext(rc);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _g=e=>!!e.panZoom;function zo(){const e=pg(),t=ge(),n=xg(),r=ue(_g),o=H.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},c=f=>{n.edgeQueue.push(f)},u=f=>{var x,N;const{nodeLookup:a,nodeOrigin:h}=t.getState(),w=ec(f)?f:a.get(f.id),y=w.parentId?Ks(w.position,w.measured,w.parentId,a,h):w.position,_={...w,position:y,width:((x=w.measured)==null?void 0:x.width)??w.width,height:((N=w.measured)==null?void 0:N.height)??w.height};return Lt(_)},l=(f,a,h={replace:!1})=>{s(w=>w.map(y=>{if(y.id===f){const _=typeof a=="function"?a(y):a;return h.replace&&ec(_)?_:{...y,..._}}return y}))},d=(f,a,h={replace:!1})=>{c(w=>w.map(y=>{if(y.id===f){const _=typeof a=="function"?a(y):a;return h.replace&&mg(_)?_:{...y,..._}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var a;return(a=i(f))==null?void 0:a.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(a=>({...a}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:c,addNodes:f=>{const a=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...a])},addEdges:f=>{const a=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...a])},toObject:()=>{const{nodes:f=[],edges:a=[],transform:h}=t.getState(),[w,y,_]=h;return{nodes:f.map(x=>({...x})),edges:a.map(x=>({...x})),viewport:{x:w,y,zoom:_}}},deleteElements:async({nodes:f=[],edges:a=[]})=>{const{nodes:h,edges:w,onNodesDelete:y,onEdgesDelete:_,triggerNodeChanges:x,triggerEdgeChanges:N,onDelete:m,onBeforeDelete:v}=t.getState(),{nodes:C,edges:k}=await Xh({nodesToRemove:f,edgesToRemove:a,nodes:h,edges:w,onBeforeDelete:v}),S=k.length>0,D=C.length>0;if(S){const j=k.map(Ja);_==null||_(k),N(j)}if(D){const j=C.map(Ja);y==null||y(C),x(j)}return(D||S)&&(m==null||m({nodes:C,edges:k})),{deletedNodes:C,deletedEdges:k}},getIntersectingNodes:(f,a=!0,h)=>{const w=Us(f),y=w?f:u(f),_=h!==void 0;return y?(h||t.getState().nodes).filter(x=>{const N=t.getState().nodeLookup.get(x.id);if(N&&!w&&(x.id===f.id||!N.internals.positionAbsolute))return!1;const m=Lt(_?x:N),v=mn(m,y);return a&&v>0||v>=y.width*y.height}):[]},isNodeIntersecting:(f,a,h=!0)=>{const y=Us(f)?f:u(f);if(!y)return!1;const _=mn(y,a);return h&&_>0||_>=y.width*y.height},updateNode:l,updateNodeData:(f,a,h={replace:!1})=>{l(f,w=>{const y=typeof a=="function"?a(w):a;return h.replace?{...w,data:y}:{...w,data:{...w.data,...y}}},h)},updateEdge:d,updateEdgeData:(f,a,h={replace:!1})=>{d(f,w=>{const y=typeof a=="function"?a(w):a;return h.replace?{...w,data:y}:{...w,data:{...w.data,...y}}},h)},getNodesBounds:f=>{const{nodeLookup:a,nodeOrigin:h}=t.getState();return Vh(f,{nodeLookup:a,nodeOrigin:h})},getHandleConnections:({type:f,id:a,nodeId:h})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${h}-${f}${a?`-${a}`:""}`))==null?void 0:w.values())??[])},getNodeConnections:({type:f,handleId:a,nodeId:h})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${h}${f?a?`-${f}-${a}`:`-${f}`:""}`))==null?void 0:w.values())??[])},fitView:async f=>{const a=t.getState().fitViewResolver??qh();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:a}),n.nodeQueue.push(h=>[...h]),a.promise}}},[]);return H.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const oc=e=>e.selected,bg={actInsideInputWithModifier:!1},Eg=typeof window<"u"?window:void 0;function Sg({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ge(),{deleteElements:r}=zo(),o=_n(e,bg),i=_n(t,{target:Eg});H.useEffect(()=>{if(o){const{edges:s,nodes:c}=n.getState();r({nodes:c.filter(oc),edges:s.filter(oc)}),n.setState({nodesSelectionActive:!1})}},[o]),H.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Cg(e){const t=ge();H.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Eo(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",Re.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Or={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ng=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function kg({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=yt.Free,zoomOnDoubleClick:s=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:l,minZoom:d,maxZoom:f,zoomActivationKeyCode:a,preventScrolling:h=!0,children:w,noWheelClassName:y,noPanClassName:_,onViewportChange:x,isControlledViewport:N,paneClickDistance:m}){const v=ge(),C=H.useRef(null),{userSelectionActive:k,lib:S}=ue(Ng,ye),D=_n(a),j=H.useRef();Cg(C);const B=H.useCallback($=>{x==null||x({x:$[0],y:$[1],zoom:$[2]}),N||v.setState({transform:$})},[x,N]);return H.useEffect(()=>{if(C.current){j.current=kp({domNode:C.current,minZoom:d,maxZoom:f,translateExtent:l,viewport:u,paneClickDistance:m,onDraggingChange:b=>v.setState({paneDragging:b}),onPanZoomStart:(b,P)=>{const{onViewportChangeStart:O,onMoveStart:T}=v.getState();T==null||T(b,P),O==null||O(P)},onPanZoom:(b,P)=>{const{onViewportChange:O,onMove:T}=v.getState();T==null||T(b,P),O==null||O(P)},onPanZoomEnd:(b,P)=>{const{onViewportChangeEnd:O,onMoveEnd:T}=v.getState();T==null||T(b,P),O==null||O(P)}});const{x:$,y:F,zoom:V}=j.current.getViewport();return v.setState({panZoom:j.current,transform:[$,F,V],domNode:C.current.closest(".react-flow")}),()=>{var b;(b=j.current)==null||b.destroy()}}},[]),H.useEffect(()=>{var $;($=j.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:c,zoomActivationKeyPressed:D,preventScrolling:h,noPanClassName:_,userSelectionActive:k,noWheelClassName:y,lib:S,onTransformChange:B})},[e,t,n,r,o,i,s,c,D,h,_,k,y,S,B]),I.jsx("div",{className:"react-flow__renderer",ref:C,style:Or,children:w})}const Og=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Rg(){const{userSelectionActive:e,userSelectionRect:t}=ue(Og,ye);return e&&t?I.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Bo=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Tg=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Ag({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Dt.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:a,children:h}){const w=ge(),{userSelectionActive:y,elementsSelectable:_,dragging:x,connectionInProgress:N}=ue(Tg,ye),m=_&&(e||y),v=H.useRef(null),C=H.useRef(),k=H.useRef(new Set),S=H.useRef(new Set),D=H.useRef(!1),j=H.useRef(!1),B=T=>{if(D.current||N){D.current=!1;return}c==null||c(T),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},$=T=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){T.preventDefault();return}u==null||u(T)},F=l?T=>l(T):void 0,V=T=>{var A,z;const{resetSelectedElements:L,domNode:R}=w.getState();if(C.current=R==null?void 0:R.getBoundingClientRect(),!_||!e||T.button!==0||T.target!==v.current||!C.current)return;(z=(A=T.target)==null?void 0:A.setPointerCapture)==null||z.call(A,T.pointerId),j.current=!0,D.current=!1;const{x:p,y:E}=Xe(T.nativeEvent,C.current);L(),w.setState({userSelectionRect:{width:0,height:0,startX:p,startY:E,x:p,y:E}}),i==null||i(T)},b=T=>{const{userSelectionRect:L,transform:R,nodeLookup:p,edgeLookup:E,connectionLookup:A,triggerNodeChanges:z,triggerEdgeChanges:Y,defaultEdgeOptions:U}=w.getState();if(!C.current||!L)return;D.current=!0;const{x:W,y:G}=Xe(T.nativeEvent,C.current),{startX:X,startY:Q}=L,se={startX:X,startY:Q,x:W<X?W:X,y:G<Q?G:Q,width:Math.abs(W-X),height:Math.abs(G-Q)},te=k.current,Z=S.current;k.current=new Set(Bs(p,se,R,n===Dt.Partial,!0).map(le=>le.id)),S.current=new Set;const me=(U==null?void 0:U.selectable)??!0;for(const le of k.current){const we=A.get(le);if(we)for(const{edgeId:he}of we.values()){const $e=E.get(he);$e&&($e.selectable??me)&&S.current.add(he)}}if(!Zs(te,k.current)){const le=Bt(p,k.current,!0);z(le)}if(!Zs(Z,S.current)){const le=Bt(E,S.current);Y(le)}w.setState({userSelectionRect:se,userSelectionActive:!0,nodesSelectionActive:!1})},P=T=>{var R,p;if(T.button!==0||!j.current)return;(p=(R=T.target)==null?void 0:R.releasePointerCapture)==null||p.call(R,T.pointerId);const{userSelectionRect:L}=w.getState();!y&&L&&T.target===v.current&&(B==null||B(T)),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),s==null||s(T),(t||o)&&(D.current=!1),j.current=!1},O=r===!0||Array.isArray(r)&&r.includes(0);return I.jsxs("div",{className:xe(["react-flow__pane",{draggable:O,dragging:x,selection:e}]),onClick:m?void 0:Bo(B,v),onContextMenu:Bo($,v),onWheel:Bo(F,v),onPointerEnter:m?void 0:d,onPointerDown:m?V:f,onPointerMove:m?b:f,onPointerUp:m?P:void 0,onPointerLeave:a,ref:v,style:Or,children:[h,I.jsx(Rg,{})]})}function Vo({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:c,onError:u}=t.getState(),l=c.get(e);if(!l){u==null||u("012",Re.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function ic({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const c=ge(),[u,l]=H.useState(!1),d=H.useRef();return H.useEffect(()=>{d.current=hp({getStoreItems:()=>c.getState(),onNodeMouseDown:f=>{Vo({id:f,store:c,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),H.useEffect(()=>{var f,a;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(a=d.current)==null||a.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=d.current)==null||h.destroy()}},[n,r,t,i,e,o]),u}const Mg=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function sc(){const e=ge();return H.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:c,updateNodePositions:u,nodeLookup:l,nodeOrigin:d}=e.getState(),f=new Map,a=Mg(s),h=o?i[0]:5,w=o?i[1]:5,y=n.direction.x*h*n.factor,_=n.direction.y*w*n.factor;for(const[,x]of l){if(!a(x))continue;let N={x:x.internals.positionAbsolute.x+y,y:x.internals.positionAbsolute.y+_};o&&(N=mr(N,i));const{position:m,positionAbsolute:v}=Vs({nodeId:x.id,nextPosition:N,nodeLookup:l,nodeExtent:r,nodeOrigin:d,onError:c});x.position=m,x.internals.positionAbsolute=v,f.set(x.id,x)}u(f)},[])}const Yo=H.createContext(null),Pg=Yo.Provider;Yo.Consumer;const ac=()=>H.useContext(Yo),Ig=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Dg=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:c,toHandle:u,isValid:l}=s,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:d,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===mt.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:d&&l}};function $g({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:c,children:u,className:l,onMouseDown:d,onTouchStart:f,...a},h){var P,O;const w=s||null,y=e==="target",_=ge(),x=ac(),{connectOnClick:N,noPanClassName:m,rfId:v}=ue(Ig,ye),{connectingFrom:C,connectingTo:k,clickConnecting:S,isPossibleEndHandle:D,connectionInProcess:j,clickConnectionInProcess:B,valid:$}=ue(Dg(x,w,e),ye);x||(O=(P=_.getState()).onError)==null||O.call(P,"010",Re.error010());const F=T=>{const{defaultEdgeOptions:L,onConnect:R,hasDefaultEdges:p}=_.getState(),E={...L,...T};if(p){const{edges:A,setEdges:z}=_.getState();z(sa(E,A))}R==null||R(E),c==null||c(E)},V=T=>{if(!x)return;const L=ea(T.nativeEvent);if(o&&(L&&T.button===0||!L)){const R=_.getState();Po.onPointerDown(T.nativeEvent,{autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:y,handleId:w,nodeId:x,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:F,isValidConnection:n||R.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed})}L?d==null||d(T):f==null||f(T)},b=T=>{const{onClickConnectStart:L,onClickConnectEnd:R,connectionClickStartHandle:p,connectionMode:E,isValidConnection:A,lib:z,rfId:Y,nodeLookup:U,connection:W}=_.getState();if(!x||!p&&!o)return;if(!p){L==null||L(T.nativeEvent,{nodeId:x,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:x,type:e,id:w}});return}const G=Qs(T.target),X=n||A,{connection:Q,isValid:se}=Po.isValid(T.nativeEvent,{handle:{nodeId:x,id:w,type:e},connectionMode:E,fromNodeId:p.nodeId,fromHandleId:p.id||null,fromType:p.type,isValidConnection:X,flowId:Y,doc:G,lib:z,nodeLookup:U});se&&Q&&F(Q);const te=structuredClone(W);delete te.inProgress,te.toPosition=te.toHandle?te.toHandle.position:null,R==null||R(T,te),_.setState({connectionClickStartHandle:null})};return I.jsx("div",{"data-handleid":w,"data-nodeid":x,"data-handlepos":t,"data-id":`${v}-${x}-${w}-${e}`,className:xe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,l,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:i,clickconnecting:S,connectingfrom:C,connectingto:k,valid:$,connectionindicator:r&&(!j||D)&&(j||B?i:o)}]),onMouseDown:V,onTouchStart:V,onClick:N?b:void 0,ref:h,...a,children:u})}const tt=H.memo(tc($g));function Lg({data:e,isConnectable:t,sourcePosition:n=J.Bottom}){return I.jsxs(I.Fragment,{children:[e==null?void 0:e.label,I.jsx(tt,{type:"source",position:n,isConnectable:t})]})}function jg({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:r=J.Bottom}){return I.jsxs(I.Fragment,{children:[I.jsx(tt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,I.jsx(tt,{type:"source",position:r,isConnectable:t})]})}function Hg(){return null}function zg({data:e,isConnectable:t,targetPosition:n=J.Top}){return I.jsxs(I.Fragment,{children:[I.jsx(tt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Rr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cc={input:Lg,default:jg,output:zg,group:Hg};function Bg(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const Vg=e=>{const{width:t,height:n,x:r,y:o}=gn(e.nodeLookup,{filter:i=>!!i.selected});return{width:De(t)?t:null,height:De(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Yg({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ge(),{width:o,height:i,transformString:s,userSelectionActive:c}=ue(Vg,ye),u=sc(),l=H.useRef(null);if(H.useEffect(()=>{var a;n||(a=l.current)==null||a.focus({preventScroll:!0})},[n]),ic({nodeRef:l}),c||!o||!i)return null;const d=e?a=>{const h=r.getState().nodes.filter(w=>w.selected);e(a,h)}:void 0,f=a=>{Object.prototype.hasOwnProperty.call(Rr,a.key)&&(a.preventDefault(),u({direction:Rr[a.key],factor:a.shiftKey?4:1}))};return I.jsx("div",{className:xe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:I.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const uc=typeof window<"u"?window:void 0,Fg=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function lc({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:l,selectionOnDrag:d,selectionMode:f,onSelectionStart:a,onSelectionEnd:h,multiSelectionKeyCode:w,panActivationKeyCode:y,zoomActivationKeyCode:_,elementsSelectable:x,zoomOnScroll:N,zoomOnPinch:m,panOnScroll:v,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:S,panOnDrag:D,defaultViewport:j,translateExtent:B,minZoom:$,maxZoom:F,preventScrolling:V,onSelectionContextMenu:b,noWheelClassName:P,noPanClassName:O,disableKeyboardA11y:T,onViewportChange:L,isControlledViewport:R}){const{nodesSelectionActive:p,userSelectionActive:E}=ue(Fg),A=_n(l,{target:uc}),z=_n(y,{target:uc}),Y=z||D,U=z||v,W=d&&Y!==!0,G=A||E||W;return Sg({deleteKeyCode:u,multiSelectionKeyCode:w}),I.jsx(kg,{onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:N,zoomOnPinch:m,panOnScroll:U,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:S,panOnDrag:!A&&Y,defaultViewport:j,translateExtent:B,minZoom:$,maxZoom:F,zoomActivationKeyCode:_,preventScrolling:V,noWheelClassName:P,noPanClassName:O,onViewportChange:L,isControlledViewport:R,paneClickDistance:c,children:I.jsxs(Ag,{onSelectionStart:a,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!G,selectionMode:f,selectionKeyPressed:A,selectionOnDrag:W,children:[e,p&&I.jsx(Yg,{onSelectionContextMenu:b,noPanClassName:O,disableKeyboardA11y:T})]})})}lc.displayName="FlowRenderer";const Wg=H.memo(lc),Xg=e=>t=>e?Bs(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Ug(e){return ue(H.useCallback(Xg(e),[e]),ye)}const Gg=e=>e.updateNodeInternals;function qg(){const e=ue(Gg),[t]=H.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return H.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Kg({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ge(),i=H.useRef(null),s=H.useRef(null),c=H.useRef(e.sourcePosition),u=H.useRef(e.targetPosition),l=H.useRef(t),d=n&&!!e.internals.handleBounds;return H.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[d,e.hidden]),H.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),H.useEffect(()=>{if(i.current){const f=l.current!==t,a=c.current!==e.sourcePosition,h=u.current!==e.targetPosition;(f||a||h)&&(l.current=t,c.current=e.sourcePosition,u.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Zg({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:c,elementsSelectable:u,nodesConnectable:l,nodesFocusable:d,resizeObserver:f,noDragClassName:a,noPanClassName:h,disableKeyboardA11y:w,rfId:y,nodeTypes:_,nodeClickDistance:x,onError:N}){const{node:m,internals:v,isParent:C}=ue(G=>{const X=G.nodeLookup.get(e),Q=G.parentLookup.has(e);return{node:X,internals:X.internals,isParent:Q}},ye);let k=m.type||"default",S=(_==null?void 0:_[k])||cc[k];S===void 0&&(N==null||N("003",Re.error003(k)),k="default",S=cc.default);const D=!!(m.draggable||c&&typeof m.draggable>"u"),j=!!(m.selectable||u&&typeof m.selectable>"u"),B=!!(m.connectable||l&&typeof m.connectable>"u"),$=!!(m.focusable||d&&typeof m.focusable>"u"),F=ge(),V=qs(m),b=Kg({node:m,nodeType:k,hasDimensions:V,resizeObserver:f}),P=ic({nodeRef:b,disabled:m.hidden||!D,noDragClassName:a,handleSelector:m.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:x}),O=sc();if(m.hidden)return null;const T=We(m),L=Bg(m),R=j||D||t||n||r||o,p=n?G=>n(G,{...v.userNode}):void 0,E=r?G=>r(G,{...v.userNode}):void 0,A=o?G=>o(G,{...v.userNode}):void 0,z=i?G=>i(G,{...v.userNode}):void 0,Y=s?G=>s(G,{...v.userNode}):void 0,U=G=>{const{selectNodesOnDrag:X,nodeDragThreshold:Q}=F.getState();j&&(!X||!D||Q>0)&&Vo({id:e,store:F,nodeRef:b}),t&&t(G,{...v.userNode})},W=G=>{if(!(Js(G.nativeEvent)||w))if($s.includes(G.key)&&j){const X=G.key==="Escape";Vo({id:e,store:F,unselect:X,nodeRef:b})}else D&&m.selected&&Object.prototype.hasOwnProperty.call(Rr,G.key)&&(G.preventDefault(),F.setState({ariaLiveMessage:`Moved selected node ${G.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~v.positionAbsolute.x}, y: ${~~v.positionAbsolute.y}`}),O({direction:Rr[G.key],factor:G.shiftKey?4:1}))};return I.jsx("div",{className:xe(["react-flow__node",`react-flow__node-${k}`,{[h]:D},m.className,{selected:m.selected,selectable:j,parent:C,draggable:D,dragging:P}]),ref:b,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:V?"visible":"hidden",...m.style,...L},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:p,onMouseMove:E,onMouseLeave:A,onContextMenu:z,onClick:U,onDoubleClick:Y,onKeyDown:$?W:void 0,tabIndex:$?0:void 0,role:$?"button":void 0,"aria-describedby":w?void 0:`${za}-${y}`,"aria-label":m.ariaLabel,children:I.jsx(Pg,{value:e,children:I.jsx(S,{id:e,data:m.data,type:k,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:m.selected??!1,selectable:j,draggable:D,deletable:m.deletable??!0,isConnectable:B,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:P,dragHandle:m.dragHandle,zIndex:v.z,parentId:m.parentId,...T})})})}const Qg=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function fc(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=ue(Qg,ye),s=Ug(e.onlyRenderVisibleElements),c=qg();return I.jsx("div",{className:"react-flow__nodes",style:Or,children:s.map(u=>I.jsx(Zg,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}fc.displayName="NodeRenderer";const Jg=H.memo(fc);function em(e){return ue(H.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&Qh({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ye)}const tm=({color:e="none",strokeWidth:t=1})=>I.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),nm=({color:e="none",strokeWidth:t=1})=>I.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),dc={[Qe.Arrow]:tm,[Qe.ArrowClosed]:nm};function rm(e){const t=ge();return H.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(dc,e)?dc[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Re.error009(e)),null)},[e])}const om=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:c="auto-start-reverse"})=>{const u=rm(t);return u?I.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:I.jsx(u,{color:n,strokeWidth:s})}):null},hc=({defaultColor:e,rfId:t})=>{const n=ue(i=>i.edges),r=ue(i=>i.defaultEdgeOptions),o=H.useMemo(()=>ip(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?I.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:I.jsx("defs",{children:o.map(i=>I.jsx(om,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};hc.displayName="MarkerDefinitions";var im=H.memo(hc);function pc({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:c=2,children:u,className:l,...d}){const[f,a]=H.useState({x:1,y:0,width:0,height:0}),h=xe(["react-flow__edge-textwrapper",l]),w=H.useRef(null);return H.useEffect(()=>{if(w.current){const y=w.current.getBBox();a({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?I.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[o&&I.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),I.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:w,style:r,children:n}),u]}):null}pc.displayName="EdgeText";const sm=H.memo(pc);function bn({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:l=20,...d}){return I.jsxs(I.Fragment,{children:[I.jsx("path",{...d,d:e,fill:"none",className:xe(["react-flow__edge-path",d.className])}),l&&I.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}),r&&De(t)&&De(n)?I.jsx(sm,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function gc({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===J.Left||e===J.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function mc({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top}){const[s,c]=gc({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,l]=gc({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,f,a,h]=na({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:l});return[`M${e},${t} C${s},${c} ${u},${l} ${r},${o}`,d,f,a,h]}function yc(e){return H.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:c,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:h,style:w,markerEnd:y,markerStart:_,interactionWidth:x})=>{const[N,m,v]=mc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:c}),C=e.isInternal?void 0:t;return I.jsx(bn,{id:C,path:N,labelX:m,labelY:v,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:h,style:w,markerEnd:y,markerStart:_,interactionWidth:x})})}const am=yc({isInternal:!1}),wc=yc({isInternal:!0});am.displayName="SimpleBezierEdge",wc.displayName="SimpleBezierEdgeInternal";function vc(e){return H.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:a,sourcePosition:h=J.Bottom,targetPosition:w=J.Top,markerEnd:y,markerStart:_,pathOptions:x,interactionWidth:N})=>{const[m,v,C]=Co({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:w,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),k=e.isInternal?void 0:t;return I.jsx(bn,{id:k,path:m,labelX:v,labelY:C,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:a,markerEnd:y,markerStart:_,interactionWidth:N})})}const xc=vc({isInternal:!1}),_c=vc({isInternal:!0});xc.displayName="SmoothStepEdge",_c.displayName="SmoothStepEdgeInternal";function bc(e){return H.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return I.jsx(xc,{...n,id:r,pathOptions:H.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const cm=bc({isInternal:!1}),Ec=bc({isInternal:!0});cm.displayName="StepEdge",Ec.displayName="StepEdgeInternal";function Sc(e){return H.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:a,markerEnd:h,markerStart:w,interactionWidth:y})=>{const[_,x,N]=So({sourceX:n,sourceY:r,targetX:o,targetY:i}),m=e.isInternal?void 0:t;return I.jsx(bn,{id:m,path:_,labelX:x,labelY:N,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:a,markerEnd:h,markerStart:w,interactionWidth:y})})}const um=Sc({isInternal:!1}),Cc=Sc({isInternal:!0});um.displayName="StraightEdge",Cc.displayName="StraightEdgeInternal";function Nc(e){return H.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=J.Bottom,targetPosition:c=J.Top,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:h,style:w,markerEnd:y,markerStart:_,pathOptions:x,interactionWidth:N})=>{const[m,v,C]=oa({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:c,curvature:x==null?void 0:x.curvature}),k=e.isInternal?void 0:t;return I.jsx(bn,{id:k,path:m,labelX:v,labelY:C,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:h,style:w,markerEnd:y,markerStart:_,interactionWidth:N})})}const lm=Nc({isInternal:!1}),kc=Nc({isInternal:!0});lm.displayName="BezierEdge",kc.displayName="BezierEdgeInternal";const Oc={default:kc,straight:Cc,step:Ec,smoothstep:_c,simplebezier:wc},Rc={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},fm=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,dm=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,Tc="react-flow__edgeupdater";function Ac({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:c}){return I.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:xe([Tc,`${Tc}-${c}`]),cx:fm(t,r,e),cy:dm(n,r,e),r,stroke:"transparent",fill:"transparent"})}function hm({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:c,targetPosition:u,onReconnect:l,onReconnectStart:d,onReconnectEnd:f,setReconnecting:a,setUpdateHover:h}){const w=ge(),y=(v,C)=>{if(v.button!==0)return;const{autoPanOnConnect:k,domNode:S,isValidConnection:D,connectionMode:j,connectionRadius:B,lib:$,onConnectStart:F,onConnectEnd:V,cancelConnection:b,nodeLookup:P,rfId:O,panBy:T,updateConnection:L}=w.getState(),R=C.type==="target";a(!0),d==null||d(v,n,C.type);const p=(A,z)=>{a(!1),f==null||f(A,n,C.type,z)},E=A=>l==null?void 0:l(n,A);Po.onPointerDown(v.nativeEvent,{autoPanOnConnect:k,connectionMode:j,connectionRadius:B,domNode:S,handleId:C.id,nodeId:C.nodeId,nodeLookup:P,isTarget:R,edgeUpdaterType:C.type,lib:$,flowId:O,cancelConnection:b,panBy:T,isValidConnection:D,onConnect:E,onConnectStart:F,onConnectEnd:V,onReconnectEnd:p,updateConnection:L,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},_=v=>y(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=v=>y(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),N=()=>h(!0),m=()=>h(!1);return I.jsxs(I.Fragment,{children:[(e===!0||e==="source")&&I.jsx(Ac,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:_,onMouseEnter:N,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&I.jsx(Ac,{position:u,centerX:i,centerY:s,radius:t,onMouseDown:x,onMouseEnter:N,onMouseOut:m,type:"target"})]})}function pm({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:l,reconnectRadius:d,onReconnect:f,onReconnectStart:a,onReconnectEnd:h,rfId:w,edgeTypes:y,noPanClassName:_,onError:x,disableKeyboardA11y:N}){let m=ue(Z=>Z.edgeLookup.get(e));const v=ue(Z=>Z.defaultEdgeOptions);m=v?{...v,...m}:m;let C=m.type||"default",k=(y==null?void 0:y[C])||Oc[C];k===void 0&&(x==null||x("011",Re.error011(C)),C="default",k=Oc.default);const S=!!(m.focusable||t&&typeof m.focusable>"u"),D=typeof f<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),j=!!(m.selectable||r&&typeof m.selectable>"u"),B=H.useRef(null),[$,F]=H.useState(!1),[V,b]=H.useState(!1),P=ge(),{zIndex:O,sourceX:T,sourceY:L,targetX:R,targetY:p,sourcePosition:E,targetPosition:A}=ue(H.useCallback(Z=>{const me=Z.nodeLookup.get(m.source),le=Z.nodeLookup.get(m.target);if(!me||!le)return{zIndex:m.zIndex,...Rc};const we=op({id:e,sourceNode:me,targetNode:le,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:Z.connectionMode,onError:x});return{zIndex:Zh({selected:m.selected,zIndex:m.zIndex,sourceNode:me,targetNode:le,elevateOnSelect:Z.elevateEdgesOnSelect}),...we||Rc}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),ye),z=H.useMemo(()=>m.markerStart?`url('#${No(m.markerStart,w)}')`:void 0,[m.markerStart,w]),Y=H.useMemo(()=>m.markerEnd?`url('#${No(m.markerEnd,w)}')`:void 0,[m.markerEnd,w]);if(m.hidden||T===null||L===null||R===null||p===null)return null;const U=Z=>{var he;const{addSelectedEdges:me,unselectNodesAndEdges:le,multiSelectionActive:we}=P.getState();j&&(P.setState({nodesSelectionActive:!1}),m.selected&&we?(le({nodes:[],edges:[m]}),(he=B.current)==null||he.blur()):me([e])),o&&o(Z,m)},W=i?Z=>{i(Z,{...m})}:void 0,G=s?Z=>{s(Z,{...m})}:void 0,X=c?Z=>{c(Z,{...m})}:void 0,Q=u?Z=>{u(Z,{...m})}:void 0,se=l?Z=>{l(Z,{...m})}:void 0,te=Z=>{var me;if(!N&&$s.includes(Z.key)&&j){const{unselectNodesAndEdges:le,addSelectedEdges:we}=P.getState();Z.key==="Escape"?((me=B.current)==null||me.blur(),le({edges:[m]})):we([e])}};return I.jsx("svg",{style:{zIndex:O},children:I.jsxs("g",{className:xe(["react-flow__edge",`react-flow__edge-${C}`,m.className,_,{selected:m.selected,animated:m.animated,inactive:!j&&!o,updating:$,selectable:j}]),onClick:U,onDoubleClick:W,onContextMenu:G,onMouseEnter:X,onMouseMove:Q,onMouseLeave:se,onKeyDown:S?te:void 0,tabIndex:S?0:void 0,role:S?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":S?`${Ba}-${w}`:void 0,ref:B,children:[!V&&I.jsx(k,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:j,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:T,sourceY:L,targetX:R,targetY:p,sourcePosition:E,targetPosition:A,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:z,markerEnd:Y,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),D&&I.jsx(hm,{edge:m,isReconnectable:D,reconnectRadius:d,onReconnect:f,onReconnectStart:a,onReconnectEnd:h,sourceX:T,sourceY:L,targetX:R,targetY:p,sourcePosition:E,targetPosition:A,setUpdateHover:F,setReconnecting:b})]})})}const gm=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Mc({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:a,onReconnectStart:h,onReconnectEnd:w,disableKeyboardA11y:y}){const{edgesFocusable:_,edgesReconnectable:x,elementsSelectable:N,onError:m}=ue(gm,ye),v=em(t);return I.jsxs("div",{className:"react-flow__edges",children:[I.jsx(im,{defaultColor:e,rfId:n}),v.map(C=>I.jsx(pm,{id:C,edgesFocusable:_,edgesReconnectable:x,elementsSelectable:N,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:l,onClick:d,reconnectRadius:f,onDoubleClick:a,onReconnectStart:h,onReconnectEnd:w,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:y},C))]})}Mc.displayName="EdgeRenderer";const mm=H.memo(Mc),ym=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wm({children:e}){const t=ue(ym);return I.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function vm(e){const t=zo(),n=H.useRef(!1);H.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xm=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function _m(e){const t=ue(xm),n=ge();return H.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function bm(e){return e.connection.inProgress?{...e.connection,to:yn(e.connection.to,e.transform)}:{...e.connection}}function Em(e){return bm}function Sm(e){const t=Em();return ue(t,ye)}const Cm=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Nm({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:c,inProgress:u}=ue(Cm,ye);return!(i&&o&&u)?null:I.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:I.jsx("g",{className:xe(["react-flow__connection",Hs(c)]),children:I.jsx(Pc,{style:t,type:n,CustomComponent:r,isValid:c})})})}const Pc=({style:e,type:t=Ze.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:c,fromPosition:u,to:l,toNode:d,toHandle:f,toPosition:a}=Sm();if(!o)return;if(n)return I.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:c,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:u,toPosition:a,connectionStatus:Hs(r),toNode:d,toHandle:f});let h="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:l.x,targetY:l.y,targetPosition:a};switch(t){case Ze.Bezier:[h]=oa(w);break;case Ze.SimpleBezier:[h]=mc(w);break;case Ze.Step:[h]=Co({...w,borderRadius:0});break;case Ze.SmoothStep:[h]=Co(w);break;default:[h]=So(w)}return I.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};Pc.displayName="ConnectionLine";const km={};function Ic(e=km){const t=H.useRef(e),n=ge();H.useEffect(()=>{var r,o;if(process.env.NODE_ENV==="development"){const i=new Set([...Object.keys(t.current),...Object.keys(e)]);for(const s of i)if(t.current[s]!==e[s]){(o=(r=n.getState()).onError)==null||o.call(r,"002",Re.error002());break}t.current=e}},[e])}function Om(){const e=ge(),t=H.useRef(!1);H.useEffect(()=>{var n,r;if(process.env.NODE_ENV==="development"&&!t.current){const o=document.querySelector(".react-flow__pane");o&&window.getComputedStyle(o).zIndex!=="1"&&((r=(n=e.getState()).onError)==null||r.call(n,"013",Re.error013("react"))),t.current=!0}},[])}function Dc({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:a,onSelectionEnd:h,connectionLineType:w,connectionLineStyle:y,connectionLineComponent:_,connectionLineContainerStyle:x,selectionKeyCode:N,selectionOnDrag:m,selectionMode:v,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:S,deleteKeyCode:D,onlyRenderVisibleElements:j,elementsSelectable:B,defaultViewport:$,translateExtent:F,minZoom:V,maxZoom:b,preventScrolling:P,defaultMarkerColor:O,zoomOnScroll:T,zoomOnPinch:L,panOnScroll:R,panOnScrollSpeed:p,panOnScrollMode:E,zoomOnDoubleClick:A,panOnDrag:z,onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:G,onPaneScroll:X,onPaneContextMenu:Q,paneClickDistance:se,nodeClickDistance:te,onEdgeContextMenu:Z,onEdgeMouseEnter:me,onEdgeMouseMove:le,onEdgeMouseLeave:we,reconnectRadius:he,onReconnect:$e,onReconnectStart:Vt,onReconnectEnd:Cn,noDragClassName:ne,noWheelClassName:rt,noPanClassName:ot,disableKeyboardA11y:it,nodeExtent:Yt,rfId:Ue,viewport:st,onViewportChange:Ft}){return Ic(e),Ic(t),Om(),vm(n),_m(st),I.jsx(Wg,{onPaneClick:Y,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:G,onPaneContextMenu:Q,onPaneScroll:X,paneClickDistance:se,deleteKeyCode:D,selectionKeyCode:N,selectionOnDrag:m,selectionMode:v,onSelectionStart:a,onSelectionEnd:h,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:S,elementsSelectable:B,zoomOnScroll:T,zoomOnPinch:L,zoomOnDoubleClick:A,panOnScroll:R,panOnScrollSpeed:p,panOnScrollMode:E,panOnDrag:z,defaultViewport:$,translateExtent:F,minZoom:V,maxZoom:b,onSelectionContextMenu:f,preventScrolling:P,noDragClassName:ne,noWheelClassName:rt,noPanClassName:ot,disableKeyboardA11y:it,onViewportChange:Ft,isControlledViewport:!!st,children:I.jsxs(wm,{children:[I.jsx(mm,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:$e,onReconnectStart:Vt,onReconnectEnd:Cn,onlyRenderVisibleElements:j,onEdgeContextMenu:Z,onEdgeMouseEnter:me,onEdgeMouseMove:le,onEdgeMouseLeave:we,reconnectRadius:he,defaultMarkerColor:O,noPanClassName:ot,disableKeyboardA11y:it,rfId:Ue}),I.jsx(Nm,{style:y,type:w,component:_,containerStyle:x}),I.jsx("div",{className:"react-flow__edgelabel-renderer"}),I.jsx(Jg,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:d,nodeClickDistance:te,onlyRenderVisibleElements:j,noPanClassName:ot,noDragClassName:ne,disableKeyboardA11y:it,nodeExtent:Yt,rfId:Ue}),I.jsx("div",{className:"react-flow__viewport-portal"})]})})}Dc.displayName="GraphView";const Rm=H.memo(Dc),$c=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u=.5,maxZoom:l=2,nodeOrigin:d,nodeExtent:f}={})=>{const a=new Map,h=new Map,w=new Map,y=new Map,_=r??t??[],x=n??e??[],N=d??[0,0],m=f??hn;pa(w,y,_);const v=Ro(x,a,h,{nodeOrigin:N,nodeExtent:m,elevateNodesOnSelect:!1});let C=[0,0,1];if(s&&o&&i){const k=gn(a,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:S,y:D,zoom:j}=bo(k,o,i,u,l,(c==null?void 0:c.padding)??.1);C=[S,D,j]}return{rfId:"1",width:0,height:0,transform:C,nodes:x,nodesInitialized:v,nodeLookup:a,parentLookup:h,edges:_,edgeLookup:y,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:l,translateExtent:hn,nodeExtent:m,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:mt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:c,fitViewResolver:null,connection:{...Ls},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Gs,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Tm=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u,maxZoom:l,nodeOrigin:d,nodeExtent:f})=>Up((a,h)=>{async function w(){const{nodeLookup:y,panZoom:_,fitViewOptions:x,fitViewResolver:N,width:m,height:v,minZoom:C,maxZoom:k}=h();_&&(await Wh({nodes:y,width:m,height:v,panZoom:_,minZoom:C,maxZoom:k},x),N==null||N.resolve(!0),a({fitViewResolver:null}))}return{...$c({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u,maxZoom:l,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:_,parentLookup:x,nodeOrigin:N,elevateNodesOnSelect:m,fitViewQueued:v}=h(),C=Ro(y,_,x,{nodeOrigin:N,nodeExtent:f,elevateNodesOnSelect:m,checkEquality:!0});v&&C?(w(),a({nodes:y,nodesInitialized:C,fitViewQueued:!1,fitViewOptions:void 0})):a({nodes:y,nodesInitialized:C})},setEdges:y=>{const{connectionLookup:_,edgeLookup:x}=h();pa(_,x,y),a({edges:y})},setDefaultNodesAndEdges:(y,_)=>{if(y){const{setNodes:x}=h();x(y),a({hasDefaultNodes:!0})}if(_){const{setEdges:x}=h();x(_),a({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:_,nodeLookup:x,parentLookup:N,domNode:m,nodeOrigin:v,nodeExtent:C,debug:k,fitViewQueued:S}=h(),{changes:D,updatedInternals:j}=lp(y,x,N,m,v,C);j&&(ap(x,N,{nodeOrigin:v,nodeExtent:C}),S?(w(),a({fitViewQueued:!1,fitViewOptions:void 0})):a({}),(D==null?void 0:D.length)>0&&(k&&console.log("React Flow: trigger node changes",D),_==null||_(D)))},updateNodePositions:(y,_=!1)=>{const x=[],N=[],{nodeLookup:m,triggerNodeChanges:v}=h();for(const[C,k]of y){const S=m.get(C),D=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(k!=null&&k.position)),j={id:C,type:"position",position:D?{x:Math.max(0,k.position.x),y:Math.max(0,k.position.y)}:k.position,dragging:_};D&&S.parentId&&x.push({id:C,parentId:S.parentId,rect:{...k.internals.positionAbsolute,width:k.measured.width??0,height:k.measured.height??0}}),N.push(j)}if(x.length>0){const{parentLookup:C,nodeOrigin:k}=h(),S=Ao(x,m,C,k);N.push(...S)}v(N)},triggerNodeChanges:y=>{const{onNodesChange:_,setNodes:x,nodes:N,hasDefaultNodes:m,debug:v}=h();if(y!=null&&y.length){if(m){const C=Ka(y,N);x(C)}v&&console.log("React Flow: trigger node changes",y),_==null||_(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:_,setEdges:x,edges:N,hasDefaultEdges:m,debug:v}=h();if(y!=null&&y.length){if(m){const C=Za(y,N);x(C)}v&&console.log("React Flow: trigger edge changes",y),_==null||_(y)}},addSelectedNodes:y=>{const{multiSelectionActive:_,edgeLookup:x,nodeLookup:N,triggerNodeChanges:m,triggerEdgeChanges:v}=h();if(_){const C=y.map(k=>vt(k,!0));m(C);return}m(Bt(N,new Set([...y]),!0)),v(Bt(x))},addSelectedEdges:y=>{const{multiSelectionActive:_,edgeLookup:x,nodeLookup:N,triggerNodeChanges:m,triggerEdgeChanges:v}=h();if(_){const C=y.map(k=>vt(k,!0));v(C);return}v(Bt(x,new Set([...y]))),m(Bt(N,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:_}={})=>{const{edges:x,nodes:N,nodeLookup:m,triggerNodeChanges:v,triggerEdgeChanges:C}=h(),k=y||N,S=_||x,D=k.map(B=>{const $=m.get(B.id);return $&&($.selected=!1),vt(B.id,!1)}),j=S.map(B=>vt(B.id,!1));v(D),C(j)},setMinZoom:y=>{const{panZoom:_,maxZoom:x}=h();_==null||_.setScaleExtent([y,x]),a({minZoom:y})},setMaxZoom:y=>{const{panZoom:_,minZoom:x}=h();_==null||_.setScaleExtent([x,y]),a({maxZoom:y})},setTranslateExtent:y=>{var _;(_=h().panZoom)==null||_.setTranslateExtent(y),a({translateExtent:y})},setPaneClickDistance:y=>{var _;(_=h().panZoom)==null||_.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:_,triggerNodeChanges:x,triggerEdgeChanges:N,elementsSelectable:m}=h();if(!m)return;const v=_.reduce((k,S)=>S.selected?[...k,vt(S.id,!1)]:k,[]),C=y.reduce((k,S)=>S.selected?[...k,vt(S.id,!1)]:k,[]);x(v),N(C)},setNodeExtent:y=>{const{nodes:_,nodeLookup:x,parentLookup:N,nodeOrigin:m,elevateNodesOnSelect:v,nodeExtent:C}=h();y[0][0]===C[0][0]&&y[0][1]===C[0][1]&&y[1][0]===C[1][0]&&y[1][1]===C[1][1]||(Ro(_,x,N,{nodeOrigin:m,nodeExtent:y,elevateNodesOnSelect:v,checkEquality:!1}),a({nodeExtent:y}))},panBy:y=>{const{transform:_,width:x,height:N,panZoom:m,translateExtent:v}=h();return fp({delta:y,panZoom:m,transform:_,translateExtent:v,width:x,height:N})},cancelConnection:()=>{a({connection:{...Ls}})},updateConnection:y=>{a({connection:y})},reset:()=>a({...$c()})}},Object.is);function Am({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:c,initialFitViewOptions:u,fitView:l,nodeOrigin:d,nodeExtent:f,children:a}){const[h]=H.useState(()=>Tm({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,minZoom:s,maxZoom:c,fitViewOptions:u,nodeOrigin:d,nodeExtent:f}));return I.jsx(Zp,{value:h,children:I.jsx(vg,{children:a})})}function Mm({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:c,fitViewOptions:u,minZoom:l,maxZoom:d,nodeOrigin:f,nodeExtent:a}){return H.useContext(Cr)?I.jsx(I.Fragment,{children:e}):I.jsx(Am,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:c,initialFitViewOptions:u,initialMinZoom:l,initialMaxZoom:d,nodeOrigin:f,nodeExtent:a,children:e})}const Pm={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Im({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:c,onEdgeClick:u,onInit:l,onMove:d,onMoveStart:f,onMoveEnd:a,onConnect:h,onConnectStart:w,onConnectEnd:y,onClickConnectStart:_,onClickConnectEnd:x,onNodeMouseEnter:N,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:C,onNodeDoubleClick:k,onNodeDragStart:S,onNodeDrag:D,onNodeDragStop:j,onNodesDelete:B,onEdgesDelete:$,onDelete:F,onSelectionChange:V,onSelectionDragStart:b,onSelectionDrag:P,onSelectionDragStop:O,onSelectionContextMenu:T,onSelectionStart:L,onSelectionEnd:R,onBeforeDelete:p,connectionMode:E,connectionLineType:A=Ze.Bezier,connectionLineStyle:z,connectionLineComponent:Y,connectionLineContainerStyle:U,deleteKeyCode:W="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:X=!1,selectionMode:Q=Dt.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:te=wr()?"Meta":"Control",zoomActivationKeyCode:Z=wr()?"Meta":"Control",snapToGrid:me,snapGrid:le,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:he,nodesDraggable:$e,nodesConnectable:Vt,nodesFocusable:Cn,nodeOrigin:ne=Va,edgesFocusable:rt,edgesReconnectable:ot,elementsSelectable:it=!0,defaultViewport:Yt=lg,minZoom:Ue=.5,maxZoom:st=2,translateExtent:Ft=hn,preventScrolling:Pr=!0,nodeExtent:Wt,defaultMarkerColor:Ir="#b1b1b7",zoomOnScroll:Dr=!0,zoomOnPinch:Xt=!0,panOnScroll:Ut=!1,panOnScrollSpeed:Gt=.5,panOnScrollMode:Nn=yt.Free,zoomOnDoubleClick:$r=!0,panOnDrag:g=!0,onPaneClick:M,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:ee,onPaneScroll:ce,onPaneContextMenu:oe,paneClickDistance:fe=0,nodeClickDistance:ae=0,children:ze,onReconnect:at,onReconnectStart:Wo,onReconnectEnd:Xo,onEdgeContextMenu:Ay,onEdgeDoubleClick:My,onEdgeMouseEnter:Py,onEdgeMouseMove:Iy,onEdgeMouseLeave:Dy,reconnectRadius:$y=10,onNodesChange:Ly,onEdgesChange:jy,noDragClassName:Hy="nodrag",noWheelClassName:zy="nowheel",noPanClassName:Wc="nopan",fitView:Xc,fitViewOptions:Uc,connectOnClick:By,attributionPosition:Vy,proOptions:Yy,defaultEdgeOptions:Fy,elevateNodesOnSelect:Wy,elevateEdgesOnSelect:Xy,disableKeyboardA11y:Gc=!1,autoPanOnConnect:Uy,autoPanOnNodeDrag:Gy,autoPanSpeed:qy,connectionRadius:Ky,isValidConnection:Zy,onError:Qy,style:Jy,id:qc,nodeDragThreshold:e0,viewport:t0,onViewportChange:n0,width:r0,height:o0,colorMode:i0="light",debug:s0,onScroll:Lr,...a0},c0){const Uo=qc||"1",u0=hg(i0),l0=H.useCallback(Kc=>{Kc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Lr==null||Lr(Kc)},[Lr]);return I.jsx("div",{"data-testid":"rf__wrapper",...a0,onScroll:l0,style:{...Jy,...Pm},ref:c0,className:xe(["react-flow",o,u0]),id:qc,children:I.jsxs(Mm,{nodes:e,edges:t,width:r0,height:o0,fitView:Xc,fitViewOptions:Uc,minZoom:Ue,maxZoom:st,nodeOrigin:ne,nodeExtent:Wt,children:[I.jsx(Rm,{onInit:l,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:N,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:C,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:A,connectionLineStyle:z,connectionLineComponent:Y,connectionLineContainerStyle:U,selectionKeyCode:G,selectionOnDrag:X,selectionMode:Q,deleteKeyCode:W,multiSelectionKeyCode:te,panActivationKeyCode:se,zoomActivationKeyCode:Z,onlyRenderVisibleElements:we,defaultViewport:Yt,translateExtent:Ft,minZoom:Ue,maxZoom:st,preventScrolling:Pr,zoomOnScroll:Dr,zoomOnPinch:Xt,zoomOnDoubleClick:$r,panOnScroll:Ut,panOnScrollSpeed:Gt,panOnScrollMode:Nn,panOnDrag:g,onPaneClick:M,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:ee,onPaneScroll:ce,onPaneContextMenu:oe,paneClickDistance:fe,nodeClickDistance:ae,onSelectionContextMenu:T,onSelectionStart:L,onSelectionEnd:R,onReconnect:at,onReconnectStart:Wo,onReconnectEnd:Xo,onEdgeContextMenu:Ay,onEdgeDoubleClick:My,onEdgeMouseEnter:Py,onEdgeMouseMove:Iy,onEdgeMouseLeave:Dy,reconnectRadius:$y,defaultMarkerColor:Ir,noDragClassName:Hy,noWheelClassName:zy,noPanClassName:Wc,rfId:Uo,disableKeyboardA11y:Gc,nodeExtent:Wt,viewport:t0,onViewportChange:n0}),I.jsx(dg,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:w,onConnectEnd:y,onClickConnectStart:_,onClickConnectEnd:x,nodesDraggable:$e,nodesConnectable:Vt,nodesFocusable:Cn,edgesFocusable:rt,edgesReconnectable:ot,elementsSelectable:it,elevateNodesOnSelect:Wy,elevateEdgesOnSelect:Xy,minZoom:Ue,maxZoom:st,nodeExtent:Wt,onNodesChange:Ly,onEdgesChange:jy,snapToGrid:me,snapGrid:le,connectionMode:E,translateExtent:Ft,connectOnClick:By,defaultEdgeOptions:Fy,fitView:Xc,fitViewOptions:Uc,onNodesDelete:B,onEdgesDelete:$,onDelete:F,onNodeDragStart:S,onNodeDrag:D,onNodeDragStop:j,onSelectionDrag:P,onSelectionDragStart:b,onSelectionDragStop:O,onMove:d,onMoveStart:f,onMoveEnd:a,noPanClassName:Wc,nodeOrigin:ne,rfId:Uo,autoPanOnConnect:Uy,autoPanOnNodeDrag:Gy,autoPanSpeed:qy,onError:Qy,connectionRadius:Ky,isValidConnection:Zy,selectNodesOnDrag:he,nodeDragThreshold:e0,onBeforeDelete:p,paneClickDistance:fe,debug:s0}),I.jsx(ug,{onSelectionChange:V}),ze,I.jsx(og,{proOptions:Yy,position:Vy}),I.jsx(ng,{rfId:Uo,disableKeyboardA11y:Gc})]})})}var Dm=tc(Im);function $m(e){const[t,n]=H.useState(e),r=H.useCallback(o=>n(i=>Ka(o,i)),[]);return[t,n,r]}function Lm(e){const[t,n]=H.useState(e),r=H.useCallback(o=>n(i=>Za(o,i)),[]);return[t,n,r]}function jm({dimensions:e,lineWidth:t,variant:n,className:r}){return I.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:xe(["react-flow__background-pattern",n,r])})}function Hm({radius:e,className:t}){return I.jsx("circle",{cx:e,cy:e,r:e,className:xe(["react-flow__background-pattern","dots",t])})}var nt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(nt||(nt={}));const zm={[nt.Dots]:1,[nt.Lines]:1,[nt.Cross]:6},Bm=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Lc({id:e,variant:t=nt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:c,style:u,className:l,patternClassName:d}){const f=H.useRef(null),{transform:a,patternId:h}=ue(Bm,ye),w=r||zm[t],y=t===nt.Dots,_=t===nt.Cross,x=Array.isArray(n)?n:[n,n],N=[x[0]*a[2]||1,x[1]*a[2]||1],m=w*a[2],v=Array.isArray(i)?i:[i,i],C=_?[m,m]:N,k=[v[0]*a[2]||1+C[0]/2,v[1]*a[2]||1+C[1]/2],S=`${h}${e||""}`;return I.jsxs("svg",{className:xe(["react-flow__background",l]),style:{...u,...Or,"--xy-background-color-props":c,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[I.jsx("pattern",{id:S,x:a[0]%N[0],y:a[1]%N[1],width:N[0],height:N[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:y?I.jsx(Hm,{radius:m/2,className:d}):I.jsx(jm,{dimensions:C,lineWidth:o,variant:t,className:d})}),I.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}Lc.displayName="Background";const Vm=H.memo(Lc);function Ym(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:I.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Fm(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:I.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Wm(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:I.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Xm(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:I.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Um(){return I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:I.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Tr({children:e,className:t,...n}){return I.jsx("button",{type:"button",className:xe(["react-flow__controls-button",t]),...n,children:e})}const Gm=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function jc({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:c,onInteractiveChange:u,className:l,children:d,position:f="bottom-left",orientation:a="vertical","aria-label":h="React Flow controls"}){const w=ge(),{isInteractive:y,minZoomReached:_,maxZoomReached:x}=ue(Gm,ye),{zoomIn:N,zoomOut:m,fitView:v}=zo(),C=()=>{N(),i==null||i()},k=()=>{m(),s==null||s()},S=()=>{v(o),c==null||c()},D=()=>{w.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u==null||u(!y)},j=a==="horizontal"?"horizontal":"vertical";return I.jsxs(Nr,{className:xe(["react-flow__controls",j,l]),position:f,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&I.jsxs(I.Fragment,{children:[I.jsx(Tr,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:I.jsx(Ym,{})}),I.jsx(Tr,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_,children:I.jsx(Fm,{})})]}),n&&I.jsx(Tr,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view",children:I.jsx(Wm,{})}),r&&I.jsx(Tr,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity",children:y?I.jsx(Um,{}):I.jsx(Xm,{})}),d]})}jc.displayName="Controls",H.memo(jc);function qm({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:c,strokeWidth:u,className:l,borderRadius:d,shapeRendering:f,selected:a,onClick:h}){const{background:w,backgroundColor:y}=i||{},_=s||w||y;return I.jsx("rect",{className:xe(["react-flow__minimap-node",{selected:a},l]),x:t,y:n,rx:d,ry:d,width:r,height:o,style:{fill:_,stroke:c,strokeWidth:u},shapeRendering:f,onClick:h?x=>h(x,e):void 0})}const Km=H.memo(qm),Zm=e=>e.nodes.map(t=>t.id),Fo=e=>e instanceof Function?e:()=>e;function Qm({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=Km,onClick:s}){const c=ue(Zm,ye),u=Fo(t),l=Fo(e),d=Fo(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return I.jsx(I.Fragment,{children:c.map(a=>I.jsx(ey,{id:a,nodeColorFunc:u,nodeStrokeColorFunc:l,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:f},a))})}function Jm({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:c,onClick:u}){const{node:l,x:d,y:f,width:a,height:h}=ue(w=>{const{internals:y}=w.nodeLookup.get(e),_=y.userNode,{x,y:N}=y.positionAbsolute,{width:m,height:v}=We(_);return{node:_,x,y:N,width:m,height:v}},ye);return!l||l.hidden||!qs(l)?null:I.jsx(c,{x:d,y:f,width:a,height:h,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:o,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:u,id:l.id})}const ey=H.memo(Jm);var ty=H.memo(Qm);const ny=200,ry=150,oy=e=>!e.hidden,iy=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Xs(gn(e.nodeLookup,{filter:oy}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},sy="react-flow__minimap-desc";function Hc({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:c,bgColor:u,maskColor:l,maskStrokeColor:d,maskStrokeWidth:f,position:a="bottom-right",onClick:h,onNodeClick:w,pannable:y=!1,zoomable:_=!1,ariaLabel:x="React Flow mini map",inversePan:N,zoomStep:m=10,offsetScale:v=5}){const C=ge(),k=H.useRef(null),{boundingRect:S,viewBB:D,rfId:j,panZoom:B,translateExtent:$,flowWidth:F,flowHeight:V}=ue(iy,ye),b=(e==null?void 0:e.width)??ny,P=(e==null?void 0:e.height)??ry,O=S.width/b,T=S.height/P,L=Math.max(O,T),R=L*b,p=L*P,E=v*L,A=S.x-(R-S.width)/2-E,z=S.y-(p-S.height)/2-E,Y=R+E*2,U=p+E*2,W=`${sy}-${j}`,G=H.useRef(0),X=H.useRef();G.current=L,H.useEffect(()=>{if(k.current&&B)return X.current=vp({domNode:k.current,panZoom:B,getTransform:()=>C.getState().transform,getViewScale:()=>G.current}),()=>{var te;(te=X.current)==null||te.destroy()}},[B]),H.useEffect(()=>{var te;(te=X.current)==null||te.update({translateExtent:$,width:F,height:V,inversePan:N,pannable:y,zoomStep:m,zoomable:_})},[y,_,N,m,$,F,V]);const Q=h?te=>{var le;const[Z,me]=((le=X.current)==null?void 0:le.pointer(te))||[0,0];h(te,{x:Z,y:me})}:void 0,se=w?H.useCallback((te,Z)=>{const me=C.getState().nodeLookup.get(Z).internals.userNode;w(te,me)},[]):void 0;return I.jsx(Nr,{position:a,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:xe(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:I.jsxs("svg",{width:b,height:P,viewBox:`${A} ${z} ${Y} ${U}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":W,ref:k,onClick:Q,children:[x&&I.jsx("title",{id:W,children:x}),I.jsx(ty,{onClick:se,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:c}),I.jsx("path",{className:"react-flow__minimap-mask",d:`M${A-E},${z-E}h${Y+E*2}v${U+E*2}h${-Y-E*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Hc.displayName="MiniMap",H.memo(Hc);function ay({nodeId:e,position:t,variant:n=xn.Handle,className:r,style:o={},children:i,color:s,minWidth:c=10,minHeight:u=10,maxWidth:l=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:a,shouldResize:h,onResizeStart:w,onResize:y,onResizeEnd:_}){const x=ac(),N=typeof e=="string"?e:x,m=ge(),v=H.useRef(null),C=n===xn.Line?"right":"bottom-right",k=t??C,S=H.useRef(null);H.useEffect(()=>{if(!(!v.current||!N))return S.current||(S.current=Ip({domNode:v.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:$,transform:F,snapGrid:V,snapToGrid:b,nodeOrigin:P,domNode:O}=m.getState();return{nodeLookup:$,transform:F,snapGrid:V,snapToGrid:b,nodeOrigin:P,paneDomNode:O}},onChange:($,F)=>{const{triggerNodeChanges:V,nodeLookup:b,parentLookup:P,nodeOrigin:O}=m.getState(),T=[],L={x:$.x,y:$.y},R=b.get(N);if(R&&R.expandParent&&R.parentId){const p=R.origin??O,E=$.width??R.measured.width??0,A=$.height??R.measured.height??0,z={id:R.id,parentId:R.parentId,rect:{width:E,height:A,...Ks({x:$.x??R.position.x,y:$.y??R.position.y},{width:E,height:A},R.parentId,b,p)}},Y=Ao([z],b,P,O);T.push(...Y),L.x=$.x?Math.max(p[0]*E,$.x):void 0,L.y=$.y?Math.max(p[1]*A,$.y):void 0}if(L.x!==void 0&&L.y!==void 0){const p={id:N,type:"position",position:{...L}};T.push(p)}if($.width!==void 0&&$.height!==void 0){const E={id:N,type:"dimensions",resizing:!0,setAttributes:a?a==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};T.push(E)}for(const p of F){const E={...p,type:"position"};T.push(E)}V(T)},onEnd:({width:$,height:F})=>{const V={id:N,type:"dimensions",resizing:!1,dimensions:{width:$,height:F}};m.getState().triggerNodeChanges([V])}})),S.current.update({controlPosition:k,boundaries:{minWidth:c,minHeight:u,maxWidth:l,maxHeight:d},keepAspectRatio:f,resizeDirection:a,onResizeStart:w,onResize:y,onResizeEnd:_,shouldResize:h}),()=>{var $;($=S.current)==null||$.destroy()}},[k,c,u,l,d,f,w,y,_,h]);const D=k.split("-"),j=n===xn.Line?"borderColor":"backgroundColor",B=s?{...o,[j]:s}:o;return I.jsx("div",{className:xe(["react-flow__resize-control","nodrag",...D,n,r]),ref:v,style:B,children:i})}H.memo(ay);const cy=en.div`
  width: 60px;
  max-width: 130px;
  background-color: ${e=>e.$bgColor?e.$bgColor:"white"};
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  padding: 5px 10px;
  color:rgb(112, 111, 111);
  font-size: 12px;
  border-radius: 3px;
  box-shadow: 0px 0px 2px 0px rgba(95, 95, 95, 0.75);
  gap: 2px;

  .react-flow__node.selected & {
    outline: 1px solid rgb(112, 111, 111);
  }

  .react-flow__handle {
    background-color: lightblue;
    border-color: lightblue;
    min-height: 4px;
    height: 4px;
    min-width: 4px;
    width: 4px;
    visibility: hidden;
  }


  &:hover {
    .react-flow__handle {
      visibility: visible;
    }
  }
`,uy=en.div`
  margin: 0;
  font-size: 12px;
  line-height: 1;
`,ly=en.p`
  font-size: 8px;
  margin: 0;
  text-align: center;
  line-height: 1;
`,En={NodeContainer:cy,NodeIcon:uy,NodeLabel:ly};var zc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bc=Ne.createContext&&Ne.createContext(zc),fy=["attr","size","title"];function dy(e,t){if(e==null)return{};var n=hy(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hy(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}function Vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vc(Object(n),!0).forEach(function(r){py(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function py(e,t,n){return t=gy(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e){var t=my(e,"string");return typeof t=="symbol"?t:t+""}function my(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yc(e){return e&&e.map((t,n)=>Ne.createElement(t.tag,Mr({key:n},t.attr),Yc(t.child)))}function Sn(e){return t=>Ne.createElement(yy,Ar({attr:Mr({},e.attr)},t),Yc(e.child))}function yy(e){var t=n=>{var{attr:r,size:o,title:i}=e,s=dy(e,fy),c=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),Ne.createElement("svg",Ar({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Mr(Mr({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Ne.createElement("title",null,i),e.children)};return Bc!==void 0?Ne.createElement(Bc.Consumer,null,n=>t(n)):t(zc)}function wy(e){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m18 16 4-4-4-4"},child:[]},{tag:"path",attr:{d:"m6 8-4 4 4 4"},child:[]},{tag:"path",attr:{d:"m14.5 4-5 16"},child:[]}]})(e)}function vy(e){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M3 5V19A9 3 0 0 0 21 19V5"},child:[]},{tag:"path",attr:{d:"M3 12A9 3 0 0 0 21 12"},child:[]}]})(e)}function Fc(e){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"},child:[]},{tag:"path",attr:{d:"M14 2v4a2 2 0 0 0 2 2h4"},child:[]}]})(e)}function xy(e){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function _y(e){return Sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"},child:[]}]})(e)}function by(e){const t={LuDatabase:I.jsx(vy,{}),LuFile:I.jsx(Fc,{}),LuCodeXml:I.jsx(wy,{}),LuStar:I.jsx(_y,{}),LuInbox:I.jsx(xy,{})};return t[e]?t[e]:I.jsx(Fc,{})}function Ey({data:e}){return!e.label||!e.id?I.jsx(En.NodeContainer,{children:I.jsx(En.NodeLabel,{children:"Wrong created node"})}):I.jsxs(En.NodeContainer,{$bgColor:e.bgColor,children:[I.jsx(tt,{type:"source",position:J.Top,id:`${e.id}-top`}),e.icon&&I.jsx(En.NodeIcon,{children:by(e.icon)}),I.jsx(En.NodeLabel,{children:e.label}),I.jsx(tt,{type:"source",position:J.Bottom,id:`${e.id}-bottom`}),I.jsx(tt,{type:"source",position:J.Left,id:`${e.id}-left`}),I.jsx(tt,{type:"source",position:J.Right,id:`${e.id}-right`})]})}function Sy({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,markerEnd:i}){const[s]=So({sourceX:t,sourceY:n,targetX:r,targetY:o+2});return I.jsx(I.Fragment,{children:I.jsx(bn,{id:e,path:s,markerEnd:i})})}const Cy=[{id:"1",position:{x:0,y:0},data:{label:"obj 1",id:"1",icon:"LuDatabase"},type:"custom-node"},{id:"2",position:{x:0,y:100},data:{label:"obj 2",id:"2",icon:"LuFile"},type:"custom-node"},{id:"3",position:{x:200,y:150},data:{label:"obj 3",id:"3",icon:"LuCodeXml"},type:"custom-node"},{id:"4",position:{x:200,y:250},data:{label:"obj 4",id:"4",icon:"LuStar"},type:"custom-node"},{id:"5",position:{x:300,y:350},data:{label:"obj 5",id:"5",icon:"LuInbox"},type:"custom-node"}],Ny=[{id:"e1-2",source:"1",target:"2",sourceHandle:"1-bottom",targetHandle:"2-top",type:"straight-arrow",markerEnd:{type:Qe.Arrow}},{id:"e1-3",source:"1",sourceHandle:"1-right",target:"3",type:"straight-arrow",markerEnd:{type:Qe.Arrow}}],ky=[1,2],Oy={"custom-node":Ey},Ry={"straight-arrow":Sy};function Ty({nodeColor:e,importedJSON:t,setCurrentJSON:n}){const[r,o,i]=$m(Cy),[s,c,u]=Lm(Ny);H.useEffect(()=>{if(!n)return;const d=JSON.parse(JSON.stringify(s)),f={elements:r,connections:d.map(a=>(delete a.markerEnd,a))};n(JSON.stringify(f))},[r,s,n]),H.useEffect(()=>{e&&o(d=>d.map(a=>({...a,data:{...a.data,bgColor:e}})))},[e,o]),H.useEffect(()=>{if(!t)return;const d=JSON.parse(JSON.parse(t));if(Array.isArray(d.connections)&&Array.isArray(d.elements)){const f=d.connections.map(a=>(a.markerEnd={type:Qe.Arrow},a));o(d.elements),c(f)}else alert("Wrong file, structure or format. Should be JSON and contain 2 arrays of objects: 'elements' & 'connections'.")},[t,c,o]);const l=H.useCallback(d=>{const f={...d,type:"straight-arrow",markerEnd:{type:Qe.Arrow}};c(a=>sa(f,a))},[c]);return I.jsx(ul.SheetWrapper,{children:I.jsx(Dm,{nodes:r,edges:s,onNodesChange:i,onEdgesChange:u,onConnect:l,nodeTypes:Oy,edgeTypes:Ry,fitView:!0,panOnScroll:!0,selectionOnDrag:!0,panOnDrag:ky,selectionMode:Dt.Partial,connectionMode:mt.Loose,deleteKeyCode:["Delete","Backspace"],children:I.jsx(Vm,{id:"1",color:"#f7f7f7",bgColor:"#f7f7f7"})})})}xt.DiagramSheet=Ty,Object.defineProperty(xt,Symbol.toStringTag,{value:"Module"})});
