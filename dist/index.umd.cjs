(function(Ve,A){typeof exports=="object"&&typeof module<"u"?A(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],A):(Ve=typeof globalThis<"u"?globalThis:Ve||self,A(Ve.DiagramSheet={},Ve.react))})(this,function(Ve,A){"use strict";function _c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var en={exports:{}},St={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo;function Sc(){if(bo)return St;bo=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var c in o)c!=="key"&&(i[c]=o[c])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:s,ref:o!==void 0?o:null,props:i}}return St.Fragment=t,St.jsx=n,St.jsxs=n,St}var Et={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o;function Ec(){return _o||(_o=1,process.env.NODE_ENV!=="production"&&function(){function e(_){if(_==null)return null;if(typeof _=="function")return _.$$typeof===j?null:_.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case p:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case E:return"SuspenseList";case D:return"Activity"}if(typeof _=="object")switch(typeof _.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),_.$$typeof){case m:return"Portal";case g:return(_.displayName||"Context")+".Provider";case S:return(_._context.displayName||"Context")+".Consumer";case y:var T=_.render;return _=_.displayName,_||(_=T.displayName||T.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case b:return T=_.displayName||null,T!==null?T:e(_.type)||"Memo";case R:T=_._payload,_=_._init;try{return e(_(T))}catch{}}return null}function t(_){return""+_}function n(_){try{t(_);var T=!1}catch{T=!0}if(T){T=console;var $=T.error,V=typeof Symbol=="function"&&Symbol.toStringTag&&_[Symbol.toStringTag]||_.constructor.name||"Object";return $.call(T,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",V),t(_)}}function r(_){if(_===p)return"<>";if(typeof _=="object"&&_!==null&&_.$$typeof===R)return"<...>";try{var T=e(_);return T?"<"+T+">":"<...>"}catch{return"<...>"}}function o(){var _=L.A;return _===null?null:_.getOwner()}function i(){return Error("react-stack-top-frame")}function s(_){if(z.call(_,"key")){var T=Object.getOwnPropertyDescriptor(_,"key").get;if(T&&T.isReactWarning)return!1}return _.key!==void 0}function c(_,T){function $(){P||(P=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",T))}$.isReactWarning=!0,Object.defineProperty(_,"key",{get:$,configurable:!0})}function u(){var _=e(this.type);return C[_]||(C[_]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),_=this.props.ref,_!==void 0?_:null}function l(_,T,$,V,Y,W,X,B){return $=W.ref,_={$$typeof:h,type:_,key:T,props:W,_owner:Y},($!==void 0?$:null)!==null?Object.defineProperty(_,"ref",{enumerable:!1,get:u}):Object.defineProperty(_,"ref",{enumerable:!1,value:null}),_._store={},Object.defineProperty(_._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(_,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(_,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:X}),Object.defineProperty(_,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:B}),Object.freeze&&(Object.freeze(_.props),Object.freeze(_)),_}function f(_,T,$,V,Y,W,X,B){var F=T.children;if(F!==void 0)if(V)if(H(F)){for(V=0;V<F.length;V++)d(F[V]);Object.freeze&&Object.freeze(F)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else d(F);if(z.call(T,"key")){F=e(_);var U=Object.keys(T).filter(function(K){return K!=="key"});V=0<U.length?"{key: someKey, "+U.join(": ..., ")+": ...}":"{key: someKey}",k[F+V]||(U=0<U.length?"{"+U.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,V,F,U,F),k[F+V]=!0)}if(F=null,$!==void 0&&(n($),F=""+$),s(T)&&(n(T.key),F=""+T.key),"key"in T){$={};for(var Q in T)Q!=="key"&&($[Q]=T[Q])}else $=T;return F&&c($,typeof _=="function"?_.displayName||_.name||"Unknown":_),l(_,F,W,Y,o(),$,X,B)}function d(_){typeof _=="object"&&_!==null&&_.$$typeof===h&&_._store&&(_._store.validated=1)}var a=A,h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.client.reference"),L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.prototype.hasOwnProperty,H=Array.isArray,v=console.createTask?console.createTask:function(){return null};a={"react-stack-bottom-frame":function(_){return _()}};var P,C={},M=a["react-stack-bottom-frame"].bind(a,i)(),I=v(r(i)),k={};Et.Fragment=p,Et.jsx=function(_,T,$,V,Y){var W=1e4>L.recentlyCreatedOwnerStacks++;return f(_,T,$,!1,V,Y,W?Error("react-stack-top-frame"):M,W?v(r(_)):I)},Et.jsxs=function(_,T,$,V,Y){var W=1e4>L.recentlyCreatedOwnerStacks++;return f(_,T,$,!0,V,Y,W?Error("react-stack-top-frame"):M,W?v(r(_)):I)}}()),Et}var So;function Nc(){return So||(So=1,process.env.NODE_ENV==="production"?en.exports=Sc():en.exports=Ec()),en.exports}var O=Nc(),he=function(){return he=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},he.apply(this,arguments)};function et(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;function Cc(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var kc=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Mc=Cc(function(e){return kc.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ne="-ms-",Nt="-moz-",ee="-webkit-",Eo="comm",tn="rule",cr="decl",Oc="@import",No="@keyframes",Ac="@layer",Co=Math.abs,ur=String.fromCharCode,lr=Object.assign;function Tc(e,t){return ce(e,0)^45?(((t<<2^ce(e,0))<<2^ce(e,1))<<2^ce(e,2))<<2^ce(e,3):0}function ko(e){return e.trim()}function ke(e,t){return(e=t.exec(e))?e[0]:e}function Z(e,t,n){return e.replace(t,n)}function nn(e,t,n){return e.indexOf(t,n)}function ce(e,t){return e.charCodeAt(t)|0}function tt(e,t,n){return e.slice(t,n)}function Ee(e){return e.length}function Mo(e){return e.length}function Ct(e,t){return t.push(e),e}function Pc(e,t){return e.map(t).join("")}function Oo(e,t){return e.filter(function(n){return!ke(n,t)})}var rn=1,nt=1,Ao=0,xe=0,se=0,rt="";function on(e,t,n,r,o,i,s,c){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:rn,column:nt,length:s,return:"",siblings:c}}function Re(e,t){return lr(on("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ot(e){for(;e.root;)e=Re(e.root,{children:[e]});Ct(e,e.siblings)}function Rc(){return se}function Ic(){return se=xe>0?ce(rt,--xe):0,nt--,se===10&&(nt=1,rn--),se}function we(){return se=xe<Ao?ce(rt,xe++):0,nt++,se===10&&(nt=1,rn++),se}function Be(){return ce(rt,xe)}function sn(){return xe}function an(e,t){return tt(rt,e,t)}function dr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dc(e){return rn=nt=1,Ao=Ee(rt=e),xe=0,[]}function $c(e){return rt="",e}function fr(e){return ko(an(xe-1,hr(e===91?e+2:e===40?e+1:e)))}function Lc(e){for(;(se=Be())&&se<33;)we();return dr(e)>2||dr(se)>3?"":" "}function jc(e,t){for(;--t&&we()&&!(se<48||se>102||se>57&&se<65||se>70&&se<97););return an(e,sn()+(t<6&&Be()==32&&we()==32))}function hr(e){for(;we();)switch(se){case e:return xe;case 34:case 39:e!==34&&e!==39&&hr(se);break;case 40:e===41&&hr(e);break;case 92:we();break}return xe}function zc(e,t){for(;we()&&e+se!==57;)if(e+se===84&&Be()===47)break;return"/*"+an(t,xe-1)+"*"+ur(e===47?e:we())}function Hc(e){for(;!dr(Be());)we();return an(e,xe)}function Vc(e){return $c(cn("",null,null,null,[""],e=Dc(e),0,[0],e))}function cn(e,t,n,r,o,i,s,c,u){for(var l=0,f=0,d=s,a=0,h=0,m=0,p=1,w=1,x=1,S=0,g="",y=o,N=i,E=r,b=g;w;)switch(m=S,S=we()){case 40:if(m!=108&&ce(b,d-1)==58){nn(b+=Z(fr(S),"&","&\f"),"&\f",Co(l?c[l-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:b+=fr(S);break;case 9:case 10:case 13:case 32:b+=Lc(m);break;case 92:b+=jc(sn()-1,7);continue;case 47:switch(Be()){case 42:case 47:Ct(Bc(zc(we(),sn()),t,n,u),u);break;default:b+="/"}break;case 123*p:c[l++]=Ee(b)*x;case 125*p:case 59:case 0:switch(S){case 0:case 125:w=0;case 59+f:x==-1&&(b=Z(b,/\f/g,"")),h>0&&Ee(b)-d&&Ct(h>32?Po(b+";",r,n,d-1,u):Po(Z(b," ","")+";",r,n,d-2,u),u);break;case 59:b+=";";default:if(Ct(E=To(b,t,n,l,f,o,c,g,y=[],N=[],d,i),i),S===123)if(f===0)cn(b,t,E,E,y,i,d,c,N);else switch(a===99&&ce(b,3)===110?100:a){case 100:case 108:case 109:case 115:cn(e,E,E,r&&Ct(To(e,E,E,0,0,o,c,g,o,y=[],d,N),N),o,N,d,c,r?y:N);break;default:cn(b,E,E,E,[""],N,0,c,N)}}l=f=h=0,p=x=1,g=b="",d=s;break;case 58:d=1+Ee(b),h=m;default:if(p<1){if(S==123)--p;else if(S==125&&p++==0&&Ic()==125)continue}switch(b+=ur(S),S*p){case 38:x=f>0?1:(b+="\f",-1);break;case 44:c[l++]=(Ee(b)-1)*x,x=1;break;case 64:Be()===45&&(b+=fr(we())),a=Be(),f=d=Ee(g=b+=Hc(sn())),S++;break;case 45:m===45&&Ee(b)==2&&(p=0)}}return i}function To(e,t,n,r,o,i,s,c,u,l,f,d){for(var a=o-1,h=o===0?i:[""],m=Mo(h),p=0,w=0,x=0;p<r;++p)for(var S=0,g=tt(e,a+1,a=Co(w=s[p])),y=e;S<m;++S)(y=ko(w>0?h[S]+" "+g:Z(g,/&\f/g,h[S])))&&(u[x++]=y);return on(e,t,n,o===0?tn:c,u,l,f,d)}function Bc(e,t,n,r){return on(e,t,n,Eo,ur(Rc()),tt(e,2,-2),0,r)}function Po(e,t,n,r,o){return on(e,t,n,cr,tt(e,0,r),tt(e,r+1,-1),r,o)}function Ro(e,t,n){switch(Tc(e,t)){case 5103:return ee+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ee+e+e;case 4789:return Nt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ee+e+Nt+e+ne+e+e;case 5936:switch(ce(e,t+11)){case 114:return ee+e+ne+Z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ee+e+ne+Z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ee+e+ne+Z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ee+e+ne+e+e;case 6165:return ee+e+ne+"flex-"+e+e;case 5187:return ee+e+Z(e,/(\w+).+(:[^]+)/,ee+"box-$1$2"+ne+"flex-$1$2")+e;case 5443:return ee+e+ne+"flex-item-"+Z(e,/flex-|-self/g,"")+(ke(e,/flex-|baseline/)?"":ne+"grid-row-"+Z(e,/flex-|-self/g,""))+e;case 4675:return ee+e+ne+"flex-line-pack"+Z(e,/align-content|flex-|-self/g,"")+e;case 5548:return ee+e+ne+Z(e,"shrink","negative")+e;case 5292:return ee+e+ne+Z(e,"basis","preferred-size")+e;case 6060:return ee+"box-"+Z(e,"-grow","")+ee+e+ne+Z(e,"grow","positive")+e;case 4554:return ee+Z(e,/([^-])(transform)/g,"$1"+ee+"$2")+e;case 6187:return Z(Z(Z(e,/(zoom-|grab)/,ee+"$1"),/(image-set)/,ee+"$1"),e,"")+e;case 5495:case 3959:return Z(e,/(image-set\([^]*)/,ee+"$1$`$1");case 4968:return Z(Z(e,/(.+:)(flex-)?(.*)/,ee+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ee+e+e;case 4200:if(!ke(e,/flex-|baseline/))return ne+"grid-column-align"+tt(e,t)+e;break;case 2592:case 3360:return ne+Z(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,ke(r.props,/grid-\w+-end/)})?~nn(e+(n=n[t].value),"span",0)?e:ne+Z(e,"-start","")+e+ne+"grid-row-span:"+(~nn(n,"span",0)?ke(n,/\d+/):+ke(n,/\d+/)-+ke(e,/\d+/))+";":ne+Z(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return ke(r.props,/grid-\w+-start/)})?e:ne+Z(Z(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Z(e,/(.+)-inline(.+)/,ee+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ee(e)-1-t>6)switch(ce(e,t+1)){case 109:if(ce(e,t+4)!==45)break;case 102:return Z(e,/(.+:)(.+)-([^]+)/,"$1"+ee+"$2-$3$1"+Nt+(ce(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nn(e,"stretch",0)?Ro(Z(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Z(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,c,u,l){return ne+o+":"+i+l+(s?ne+o+"-span:"+(c?u:+u-+i)+l:"")+e});case 4949:if(ce(e,t+6)===121)return Z(e,":",":"+ee)+e;break;case 6444:switch(ce(e,ce(e,14)===45?18:11)){case 120:return Z(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ee+(ce(e,14)===45?"inline-":"")+"box$3$1"+ee+"$2$3$1"+ne+"$2box$3")+e;case 100:return Z(e,":",":"+ne)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Z(e,"scroll-","scroll-snap-")+e}return e}function un(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Fc(e,t,n,r){switch(e.type){case Ac:if(e.children.length)break;case Oc:case cr:return e.return=e.return||e.value;case Eo:return"";case No:return e.return=e.value+"{"+un(e.children,r)+"}";case tn:if(!Ee(e.value=e.props.join(",")))return""}return Ee(n=un(e.children,r))?e.return=e.value+"{"+n+"}":""}function Yc(e){var t=Mo(e);return function(n,r,o,i){for(var s="",c=0;c<t;c++)s+=e[c](n,r,o,i)||"";return s}}function Wc(e){return function(t){t.root||(t=t.return)&&e(t)}}function Xc(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case cr:e.return=Ro(e.value,e.length,n);return;case No:return un([Re(e,{value:Z(e.value,"@","@"+ee)})],r);case tn:if(e.length)return Pc(n=e.props,function(o){switch(ke(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ot(Re(e,{props:[Z(o,/:(read-\w+)/,":"+Nt+"$1")]})),ot(Re(e,{props:[o]})),lr(e,{props:Oo(n,r)});break;case"::placeholder":ot(Re(e,{props:[Z(o,/:(plac\w+)/,":"+ee+"input-$1")]})),ot(Re(e,{props:[Z(o,/:(plac\w+)/,":"+Nt+"$1")]})),ot(Re(e,{props:[Z(o,/:(plac\w+)/,ne+"input-$1")]})),ot(Re(e,{props:[o]})),lr(e,{props:Oo(n,r)});break}return""})}}var Gc={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fe=typeof process<"u"&&process.env!==void 0&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Io="active",Do="data-styled-version",ln="6.1.17",pr=`/*!sc*/
`,dn=typeof window<"u"&&"HTMLElement"in window,qc=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:process.env.NODE_ENV!=="production"),$o=/invalid hook call/i,fn=new Set,Uc=function(e,t){if(process.env.NODE_ENV!=="production"){var n=t?' with the id of "'.concat(t,'"'):"",r="The component ".concat(e).concat(n,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.
See https://styled-components.com/docs/basics#define-styled-components-outside-of-the-render-method for more info.
`,o=console.error;try{var i=!0;console.error=function(s){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];$o.test(s)?(i=!1,fn.delete(r)):o.apply(void 0,et([s],c,!1))},A.useRef(),i&&!fn.has(r)&&(console.warn(r),fn.add(r))}catch(s){$o.test(s.message)&&fn.delete(r)}finally{console.error=o}}},hn=Object.freeze([]),it=Object.freeze({});function Kc(e,t,n){return n===void 0&&(n=it),e.theme!==n.theme&&e.theme||t||n.theme}var gr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Zc=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Qc=/(^-|-$)/g;function Lo(e){return e.replace(Zc,"-").replace(Qc,"")}var Jc=/(a)(d)/gi,pn=52,jo=function(e){return String.fromCharCode(e+(e>25?39:97))};function mr(e){var t,n="";for(t=Math.abs(e);t>pn;t=t/pn|0)n=jo(t%pn)+n;return(jo(t%pn)+n).replace(Jc,"$1-$2")}var yr,zo=5381,Ye=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ho=function(e){return Ye(zo,e)};function eu(e){return mr(Ho(e)>>>0)}function Vo(e){return process.env.NODE_ENV!=="production"&&typeof e=="string"&&e||e.displayName||e.name||"Component"}function xr(e){return typeof e=="string"&&(process.env.NODE_ENV==="production"||e.charAt(0)===e.charAt(0).toLowerCase())}var Bo=typeof Symbol=="function"&&Symbol.for,Fo=Bo?Symbol.for("react.memo"):60115,tu=Bo?Symbol.for("react.forward_ref"):60112,nu={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ru={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yo={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ou=((yr={})[tu]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yr[Fo]=Yo,yr);function Wo(e){return("type"in(t=e)&&t.type.$$typeof)===Fo?Yo:"$$typeof"in e?ou[e.$$typeof]:nu;var t}var iu=Object.defineProperty,su=Object.getOwnPropertyNames,Xo=Object.getOwnPropertySymbols,au=Object.getOwnPropertyDescriptor,cu=Object.getPrototypeOf,Go=Object.prototype;function qo(e,t,n){if(typeof t!="string"){if(Go){var r=cu(t);r&&r!==Go&&qo(e,r,n)}var o=su(t);Xo&&(o=o.concat(Xo(t)));for(var i=Wo(e),s=Wo(t),c=0;c<o.length;++c){var u=o[c];if(!(u in ru||n&&n[u]||s&&u in s||i&&u in i)){var l=au(t,u);try{iu(e,u,l)}catch{}}}}return e}function st(e){return typeof e=="function"}function wr(e){return typeof e=="object"&&"styledComponentId"in e}function We(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Uo(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function at(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function vr(e,t,n){if(n===void 0&&(n=!1),!n&&!at(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=vr(e[r],t[r]);else if(at(t))for(var r in t)e[r]=vr(e[r],t[r]);return e}function br(e,t){Object.defineProperty(e,"toString",{value:t})}var uu=process.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function lu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=[],o=1,i=e.length;o<i;o+=1)r.push(e[o]);return r.forEach(function(s){n=n.replace(/%[a-z]/,s)}),n}function ct(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return process.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error(lu.apply(void 0,et([uu[e]],t,!1)).trim())}var du=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw ct(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var c=this.indexOfGroup(t+1),u=(s=0,n.length);s<u;s++)this.tag.insertRule(c,n[s])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(pr);return n},e}(),fu=1<<30,gn=new Map,mn=new Map,yn=1,xn=function(e){if(gn.has(e))return gn.get(e);for(;mn.has(yn);)yn++;var t=yn++;if(process.env.NODE_ENV!=="production"&&((0|t)<0||t>fu))throw ct(16,"".concat(t));return gn.set(e,t),mn.set(t,e),t},hu=function(e,t){yn=t+1,gn.set(e,t),mn.set(t,e)},pu="style[".concat(Fe,"][").concat(Do,'="').concat(ln,'"]'),gu=new RegExp("^".concat(Fe,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),mu=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},yu=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(pr),o=[],i=0,s=r.length;i<s;i++){var c=r[i].trim();if(c){var u=c.match(gu);if(u){var l=0|parseInt(u[1],10),f=u[2];l!==0&&(hu(f,l),mu(e,f,u[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(c)}}},Ko=function(e){for(var t=document.querySelectorAll(pu),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Fe)!==Io&&(yu(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function xu(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Zo=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(c){var u=Array.from(c.querySelectorAll("style[".concat(Fe,"]")));return u[u.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Fe,Io),r.setAttribute(Do,ln);var s=xu();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},wu=function(){function e(t){this.element=Zo(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw ct(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),vu=function(){function e(t){this.element=Zo(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),bu=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Qo=dn,_u={isServer:!dn,useCSSOMInjection:!qc},Jo=function(){function e(t,n,r){t===void 0&&(t=it),n===void 0&&(n={});var o=this;this.options=he(he({},_u),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&dn&&Qo&&(Qo=!1,Ko(this)),br(this,function(){return function(i){for(var s=i.getTag(),c=s.length,u="",l=function(d){var a=function(x){return mn.get(x)}(d);if(a===void 0)return"continue";var h=i.names.get(a),m=s.getGroup(d);if(h===void 0||!h.size||m.length===0)return"continue";var p="".concat(Fe,".g").concat(d,'[id="').concat(a,'"]'),w="";h!==void 0&&h.forEach(function(x){x.length>0&&(w+="".concat(x,","))}),u+="".concat(m).concat(p,'{content:"').concat(w,'"}').concat(pr)},f=0;f<c;f++)l(f);return u}(o)})}return e.registerId=function(t){return xn(t)},e.prototype.rehydrate=function(){!this.server&&dn&&Ko(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(he(he({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new bu(o):r?new wu(o):new vu(o)}(this.options),new du(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(xn(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(xn(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(xn(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Su=/&/g,Eu=/^\s*\/\/.*$/gm;function ei(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ei(n.children,t)),n})}function Nu(e){var t,n,r,o=it,i=o.options,s=i===void 0?it:i,c=o.plugins,u=c===void 0?hn:c,l=function(a,h,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(t):a},f=u.slice();f.push(function(a){a.type===tn&&a.value.includes("&")&&(a.props[0]=a.props[0].replace(Su,n).replace(r,l))}),s.prefix&&f.push(Xc),f.push(Fc);var d=function(a,h,m,p){h===void 0&&(h=""),m===void 0&&(m=""),p===void 0&&(p="&"),t=p,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var w=a.replace(Eu,""),x=Vc(m||h?"".concat(m," ").concat(h," { ").concat(w," }"):w);s.namespace&&(x=ei(x,s.namespace));var S=[];return un(x,Yc(f.concat(Wc(function(g){return S.push(g)})))),S};return d.hash=u.length?u.reduce(function(a,h){return h.name||ct(15),Ye(a,h.name)},zo).toString():"",d}var Cu=new Jo,_r=Nu(),ti=A.createContext({shouldForwardProp:void 0,styleSheet:Cu,stylis:_r});ti.Consumer,A.createContext(void 0);function ni(){return A.useContext(ti)}var ri=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=_r);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,br(this,function(){throw ct(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=_r),this.name+t.hash},e}(),ku=function(e){return e>="A"&&e<="Z"};function oi(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;ku(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var ii=function(e){return e==null||e===!1||e===""},si=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!ii(i)&&(Array.isArray(i)&&i.isCss||st(i)?r.push("".concat(oi(o),":"),i,";"):at(i)?r.push.apply(r,et(et(["".concat(o," {")],si(i),!1),["}"],!1)):r.push("".concat(oi(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Gc||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Xe(e,t,n,r){if(ii(e))return[];if(wr(e))return[".".concat(e.styledComponentId)];if(st(e)){if(!st(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return process.env.NODE_ENV==="production"||typeof o!="object"||Array.isArray(o)||o instanceof ri||at(o)||o===null||console.error("".concat(Vo(e)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),Xe(o,t,n,r)}var i;return e instanceof ri?n?(e.inject(n,r),[e.getName(r)]):[e]:at(e)?si(e):Array.isArray(e)?Array.prototype.concat.apply(hn,e.map(function(s){return Xe(s,t,n,r)})):[e.toString()]}function Mu(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(st(n)&&!wr(n))return!1}return!0}var Ou=Ho(ln),Au=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=process.env.NODE_ENV==="production"&&(r===void 0||r.isStatic)&&Mu(t),this.componentId=n,this.baseHash=Ye(Ou,n),this.baseStyle=r,Jo.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=We(o,this.staticRulesId);else{var i=Uo(Xe(this.rules,t,n,r)),s=mr(Ye(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var c=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,c)}o=We(o,s),this.staticRulesId=s}else{for(var u=Ye(this.baseHash,r.hash),l="",f=0;f<this.rules.length;f++){var d=this.rules[f];if(typeof d=="string")l+=d,process.env.NODE_ENV!=="production"&&(u=Ye(u,d));else if(d){var a=Uo(Xe(d,t,n,r));u=Ye(u,a+f),l+=a}}if(l){var h=mr(u>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),o=We(o,h)}}return o},e}(),ai=A.createContext(void 0);ai.Consumer;var Sr={},ci=new Set;function Tu(e,t,n){var r=wr(e),o=e,i=!xr(e),s=t.attrs,c=s===void 0?hn:s,u=t.componentId,l=u===void 0?function(y,N){var E=typeof y!="string"?"sc":Lo(y);Sr[E]=(Sr[E]||0)+1;var b="".concat(E,"-").concat(eu(ln+E+Sr[E]));return N?"".concat(N,"-").concat(b):b}(t.displayName,t.parentComponentId):u,f=t.displayName,d=f===void 0?function(y){return xr(y)?"styled.".concat(y):"Styled(".concat(Vo(y),")")}(e):f,a=t.displayName&&t.componentId?"".concat(Lo(t.displayName),"-").concat(t.componentId):t.componentId||l,h=r&&o.attrs?o.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(r&&o.shouldForwardProp){var p=o.shouldForwardProp;if(t.shouldForwardProp){var w=t.shouldForwardProp;m=function(y,N){return p(y,N)&&w(y,N)}}else m=p}var x=new Au(n,a,r?o.componentStyle:void 0);function S(y,N){return function(E,b,R){var D=E.attrs,j=E.componentStyle,L=E.defaultProps,z=E.foldedComponentIds,H=E.styledComponentId,v=E.target,P=A.useContext(ai),C=ni(),M=E.shouldForwardProp||C.shouldForwardProp;process.env.NODE_ENV!=="production"&&A.useDebugValue(H);var I=Kc(b,P,L)||it,k=function(W,X,B){for(var F,U=he(he({},X),{className:void 0,theme:B}),Q=0;Q<W.length;Q+=1){var K=st(F=W[Q])?F(U):F;for(var G in K)U[G]=G==="className"?We(U[G],K[G]):G==="style"?he(he({},U[G]),K[G]):K[G]}return X.className&&(U.className=We(U.className,X.className)),U}(D,b,I),_=k.as||v,T={};for(var $ in k)k[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&k.theme===I||($==="forwardedAs"?T.as=k.forwardedAs:M&&!M($,_)||(T[$]=k[$],M||process.env.NODE_ENV!=="development"||Mc($)||ci.has($)||!gr.has(_)||(ci.add($),console.warn('styled-components: it looks like an unknown prop "'.concat($,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var V=function(W,X){var B=ni(),F=W.generateAndInjectStyles(X,B.styleSheet,B.stylis);return process.env.NODE_ENV!=="production"&&A.useDebugValue(F),F}(j,k);process.env.NODE_ENV!=="production"&&E.warnTooManyClasses&&E.warnTooManyClasses(V);var Y=We(z,H);return V&&(Y+=" "+V),k.className&&(Y+=" "+k.className),T[xr(_)&&!gr.has(_)?"class":"className"]=Y,R&&(T.ref=R),A.createElement(_,T)}(g,y,N)}S.displayName=d;var g=A.forwardRef(S);return g.attrs=h,g.componentStyle=x,g.displayName=d,g.shouldForwardProp=m,g.foldedComponentIds=r?We(o.foldedComponentIds,o.styledComponentId):"",g.styledComponentId=a,g.target=r?o.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?function(N){for(var E=[],b=1;b<arguments.length;b++)E[b-1]=arguments[b];for(var R=0,D=E;R<D.length;R++)vr(N,D[R],!0);return N}({},o.defaultProps,y):y}}),process.env.NODE_ENV!=="production"&&(Uc(d,a),g.warnTooManyClasses=function(y,N){var E={},b=!1;return function(R){if(!b&&(E[R]=!0,Object.keys(E).length>=200)){var D=N?' with the id of "'.concat(N,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(y).concat(D,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),b=!0,E={}}}}(d,a)),br(g,function(){return".".concat(g.styledComponentId)}),i&&qo(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function ui(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var li=function(e){return Object.assign(e,{isCss:!0})};function Pu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(st(e)||at(e))return li(Xe(ui(hn,et([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Xe(r):li(Xe(ui(r,t)))}function Er(e,t,n){if(n===void 0&&(n=it),!t)throw ct(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,Pu.apply(void 0,et([o],i,!1)))};return r.attrs=function(o){return Er(e,t,he(he({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Er(e,t,he(he({},n),o))},r}var di=function(e){return Er(Tu,e)},kt=di;gr.forEach(function(e){kt[e]=di(e)}),process.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var wn="__sc-".concat(Fe,"__");process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[wn]||(window[wn]=0),window[wn]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[wn]+=1);const Ru={SheetWrapper:kt.div`
  height: 100vh;
  width: 100%;
`};function ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ae(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Iu={value:()=>{}};function vn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bn(n)}function bn(e){this._=e}function Du(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bn.prototype=vn.prototype={constructor:bn,on:function(e,t){var n=this._,r=Du(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=$u(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=fi(n[o],e.name,t);else if(t==null)for(o in n)n[o]=fi(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function $u(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function fi(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Iu,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nr="http://www.w3.org/1999/xhtml";const hi={svg:"http://www.w3.org/2000/svg",xhtml:Nr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _n(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hi.hasOwnProperty(t)?{space:hi[t],local:e}:e}function Lu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nr&&t.documentElement.namespaceURI===Nr?t.createElement(e):t.createElementNS(n,e)}}function ju(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pi(e){var t=_n(e);return(t.local?ju:Lu)(t)}function zu(){}function Cr(e){return e==null?zu:function(){return this.querySelector(e)}}function Hu(e){typeof e!="function"&&(e=Cr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=new Array(s),u,l,f=0;f<s;++f)(u=i[f])&&(l=e.call(u,u.__data__,f,i))&&("__data__"in u&&(l.__data__=u.__data__),c[f]=l);return new ge(r,this._parents)}function Vu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bu(){return[]}function gi(e){return e==null?Bu:function(){return this.querySelectorAll(e)}}function Fu(e){return function(){return Vu(e.apply(this,arguments))}}function Yu(e){typeof e=="function"?e=Fu(e):e=gi(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],c=s.length,u,l=0;l<c;++l)(u=s[l])&&(r.push(e.call(u,u.__data__,l,s)),o.push(u));return new ge(r,o)}function mi(e){return function(){return this.matches(e)}}function yi(e){return function(t){return t.matches(e)}}var Wu=Array.prototype.find;function Xu(e){return function(){return Wu.call(this.children,e)}}function Gu(){return this.firstElementChild}function qu(e){return this.select(e==null?Gu:Xu(typeof e=="function"?e:yi(e)))}var Uu=Array.prototype.filter;function Ku(){return Array.from(this.children)}function Zu(e){return function(){return Uu.call(this.children,e)}}function Qu(e){return this.selectAll(e==null?Ku:Zu(typeof e=="function"?e:yi(e)))}function Ju(e){typeof e!="function"&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=[],u,l=0;l<s;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&c.push(u);return new ge(r,this._parents)}function xi(e){return new Array(e.length)}function el(){return new ge(this._enter||this._groups.map(xi),this._parents)}function Sn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sn.prototype={constructor:Sn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tl(e){return function(){return e}}function nl(e,t,n,r,o,i){for(var s=0,c,u=t.length,l=i.length;s<l;++s)(c=t[s])?(c.__data__=i[s],r[s]=c):n[s]=new Sn(e,i[s]);for(;s<u;++s)(c=t[s])&&(o[s]=c)}function rl(e,t,n,r,o,i,s){var c,u,l=new Map,f=t.length,d=i.length,a=new Array(f),h;for(c=0;c<f;++c)(u=t[c])&&(a[c]=h=s.call(u,u.__data__,c,t)+"",l.has(h)?o[c]=u:l.set(h,u));for(c=0;c<d;++c)h=s.call(e,i[c],c,i)+"",(u=l.get(h))?(r[c]=u,u.__data__=i[c],l.delete(h)):n[c]=new Sn(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&l.get(a[c])===u&&(o[c]=u)}function ol(e){return e.__data__}function il(e,t){if(!arguments.length)return Array.from(this,ol);var n=t?rl:nl,r=this._parents,o=this._groups;typeof e!="function"&&(e=tl(e));for(var i=o.length,s=new Array(i),c=new Array(i),u=new Array(i),l=0;l<i;++l){var f=r[l],d=o[l],a=d.length,h=sl(e.call(f,f&&f.__data__,l,r)),m=h.length,p=c[l]=new Array(m),w=s[l]=new Array(m),x=u[l]=new Array(a);n(f,d,p,w,x,h,t);for(var S=0,g=0,y,N;S<m;++S)if(y=p[S]){for(S>=g&&(g=S+1);!(N=w[g])&&++g<m;);y._next=N||null}}return s=new ge(s,r),s._enter=c,s._exit=u,s}function sl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function al(){return new ge(this._exit||this._groups.map(xi),this._parents)}function cl(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function ul(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),c=new Array(o),u=0;u<s;++u)for(var l=n[u],f=r[u],d=l.length,a=c[u]=new Array(d),h,m=0;m<d;++m)(h=l[m]||f[m])&&(a[m]=h);for(;u<o;++u)c[u]=n[u];return new ge(c,this._parents)}function ll(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function dl(e){e||(e=fl);function t(d,a){return d&&a?e(d.__data__,a.__data__):!d-!a}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],c=s.length,u=o[i]=new Array(c),l,f=0;f<c;++f)(l=s[f])&&(u[f]=l);u.sort(t)}return new ge(o,this._parents).order()}function fl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pl(){return Array.from(this)}function gl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function ml(){let e=0;for(const t of this)++e;return e}function yl(){return!this.node()}function xl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,c;i<s;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function wl(e){return function(){this.removeAttribute(e)}}function vl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bl(e,t){return function(){this.setAttribute(e,t)}}function _l(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function El(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Nl(e,t){var n=_n(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vl:wl:typeof t=="function"?n.local?El:Sl:n.local?_l:bl)(n,t))}function wi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cl(e){return function(){this.style.removeProperty(e)}}function kl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ml(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ol(e,t,n){return arguments.length>1?this.each((t==null?Cl:typeof t=="function"?Ml:kl)(e,t,n??"")):ut(this.node(),e)}function ut(e,t){return e.style.getPropertyValue(t)||wi(e).getComputedStyle(e,null).getPropertyValue(t)}function Al(e){return function(){delete this[e]}}function Tl(e,t){return function(){this[e]=t}}function Pl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Rl(e,t){return arguments.length>1?this.each((t==null?Al:typeof t=="function"?Pl:Tl)(e,t)):this.node()[e]}function vi(e){return e.trim().split(/^|\s+/)}function kr(e){return e.classList||new bi(e)}function bi(e){this._node=e,this._names=vi(e.getAttribute("class")||"")}bi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _i(e,t){for(var n=kr(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Si(e,t){for(var n=kr(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Il(e){return function(){_i(this,e)}}function Dl(e){return function(){Si(this,e)}}function $l(e,t){return function(){(t.apply(this,arguments)?_i:Si)(this,e)}}function Ll(e,t){var n=vi(e+"");if(arguments.length<2){for(var r=kr(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?$l:t?Il:Dl)(n,t))}function jl(){this.textContent=""}function zl(e){return function(){this.textContent=e}}function Hl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vl(e){return arguments.length?this.each(e==null?jl:(typeof e=="function"?Hl:zl)(e)):this.node().textContent}function Bl(){this.innerHTML=""}function Fl(e){return function(){this.innerHTML=e}}function Yl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Wl(e){return arguments.length?this.each(e==null?Bl:(typeof e=="function"?Yl:Fl)(e)):this.node().innerHTML}function Xl(){this.nextSibling&&this.parentNode.appendChild(this)}function Gl(){return this.each(Xl)}function ql(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ul(){return this.each(ql)}function Kl(e){var t=typeof e=="function"?e:pi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Zl(){return null}function Ql(e,t){var n=typeof e=="function"?e:pi(e),r=t==null?Zl:typeof t=="function"?t:Cr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jl(){var e=this.parentNode;e&&e.removeChild(this)}function ed(){return this.each(Jl)}function td(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rd(e){return this.select(e?nd:td)}function od(e){return arguments.length?this.property("__data__",e):this.node().__data__}function id(e){return function(t){e.call(this,t,this.__data__)}}function sd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ad(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function cd(e,t,n){return function(){var r=this.__on,o,i=id(t);if(r){for(var s=0,c=r.length;s<c;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ud(e,t,n){var r=sd(e+""),o,i=r.length,s;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,l=c.length,f;u<l;++u)for(o=0,f=c[u];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(c=t?cd:ad,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function Ei(e,t,n){var r=wi(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ld(e,t){return function(){return Ei(this,e,t)}}function dd(e,t){return function(){return Ei(this,e,t.apply(this,arguments))}}function fd(e,t){return this.each((typeof t=="function"?dd:ld)(e,t))}function*hd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Ni=[null];function ge(e,t){this._groups=e,this._parents=t}function Mt(){return new ge([[document.documentElement]],Ni)}function pd(){return this}ge.prototype=Mt.prototype={constructor:ge,select:Hu,selectAll:Yu,selectChild:qu,selectChildren:Qu,filter:Ju,data:il,enter:el,exit:al,join:cl,merge:ul,selection:pd,order:ll,sort:dl,call:hl,nodes:pl,node:gl,size:ml,empty:yl,each:xl,attr:Nl,style:Ol,property:Rl,classed:Ll,text:Vl,html:Wl,raise:Gl,lower:Ul,append:Kl,insert:Ql,remove:ed,clone:rd,datum:od,on:ud,dispatch:fd,[Symbol.iterator]:hd};function me(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],Ni)}function gd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ve(e,t){if(e=gd(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const md={passive:!1},Ot={capture:!0,passive:!1};function Mr(e){e.stopImmediatePropagation()}function lt(e){e.preventDefault(),e.stopImmediatePropagation()}function Ci(e){var t=e.document.documentElement,n=me(e).on("dragstart.drag",lt,Ot);"onselectstart"in t?n.on("selectstart.drag",lt,Ot):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ki(e,t){var n=e.document.documentElement,r=me(e).on("dragstart.drag",null);t&&(r.on("click.drag",lt,Ot),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const En=e=>()=>e;function Or(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:c,dx:u,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}Or.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function yd(e){return!e.ctrlKey&&!e.button}function xd(){return this.parentNode}function wd(e,t){return t??{x:e.x,y:e.y}}function vd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mi(){var e=yd,t=xd,n=wd,r=vd,o={},i=vn("start","drag","end"),s=0,c,u,l,f,d=0;function a(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",x,md).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,N){if(!(f||!e.call(this,y,N))){var E=g(this,t.call(this,y,N),y,N,"mouse");E&&(me(y.view).on("mousemove.drag",m,Ot).on("mouseup.drag",p,Ot),Ci(y.view),Mr(y),l=!1,c=y.clientX,u=y.clientY,E("start",y))}}function m(y){if(lt(y),!l){var N=y.clientX-c,E=y.clientY-u;l=N*N+E*E>d}o.mouse("drag",y)}function p(y){me(y.view).on("mousemove.drag mouseup.drag",null),ki(y.view,l),lt(y),o.mouse("end",y)}function w(y,N){if(e.call(this,y,N)){var E=y.changedTouches,b=t.call(this,y,N),R=E.length,D,j;for(D=0;D<R;++D)(j=g(this,b,y,N,E[D].identifier,E[D]))&&(Mr(y),j("start",y,E[D]))}}function x(y){var N=y.changedTouches,E=N.length,b,R;for(b=0;b<E;++b)(R=o[N[b].identifier])&&(lt(y),R("drag",y,N[b]))}function S(y){var N=y.changedTouches,E=N.length,b,R;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),b=0;b<E;++b)(R=o[N[b].identifier])&&(Mr(y),R("end",y,N[b]))}function g(y,N,E,b,R,D){var j=i.copy(),L=ve(D||E,N),z,H,v;if((v=n.call(y,new Or("beforestart",{sourceEvent:E,target:a,identifier:R,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:j}),b))!=null)return z=v.x-L[0]||0,H=v.y-L[1]||0,function P(C,M,I){var k=L,_;switch(C){case"start":o[R]=P,_=s++;break;case"end":delete o[R],--s;case"drag":L=ve(I||M,N),_=s;break}j.call(C,y,new Or(C,{sourceEvent:M,subject:v,target:a,identifier:R,active:_,x:L[0]+z,y:L[1]+H,dx:L[0]-k[0],dy:L[1]-k[1],dispatch:j}),b)}}return a.filter=function(y){return arguments.length?(e=typeof y=="function"?y:En(!!y),a):e},a.container=function(y){return arguments.length?(t=typeof y=="function"?y:En(y),a):t},a.subject=function(y){return arguments.length?(n=typeof y=="function"?y:En(y),a):n},a.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:En(!!y),a):r},a.on=function(){var y=i.on.apply(i,arguments);return y===i?a:y},a.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,a):Math.sqrt(d)},a}function Ar(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Oi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function At(){}var Tt=.7,Nn=1/Tt,dt="\\s*([+-]?\\d+)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bd=/^#([0-9a-f]{3,8})$/,_d=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),Sd=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),Ed=new RegExp(`^rgba\\(${dt},${dt},${dt},${Pt}\\)$`),Nd=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${Pt}\\)$`),Cd=new RegExp(`^hsl\\(${Pt},${Ne},${Ne}\\)$`),kd=new RegExp(`^hsla\\(${Pt},${Ne},${Ne},${Pt}\\)$`),Ai={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ar(At,Rt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ti,formatHex:Ti,formatHex8:Md,formatHsl:Od,formatRgb:Pi,toString:Pi});function Ti(){return this.rgb().formatHex()}function Md(){return this.rgb().formatHex8()}function Od(){return Li(this).formatHsl()}function Pi(){return this.rgb().formatRgb()}function Rt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ri(t):n===3?new pe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_d.exec(e))?new pe(t[1],t[2],t[3],1):(t=Sd.exec(e))?new pe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ed.exec(e))?Cn(t[1],t[2],t[3],t[4]):(t=Nd.exec(e))?Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cd.exec(e))?$i(t[1],t[2]/100,t[3]/100,1):(t=kd.exec(e))?$i(t[1],t[2]/100,t[3]/100,t[4]):Ai.hasOwnProperty(e)?Ri(Ai[e]):e==="transparent"?new pe(NaN,NaN,NaN,0):null}function Ri(e){return new pe(e>>16&255,e>>8&255,e&255,1)}function Cn(e,t,n,r){return r<=0&&(e=t=n=NaN),new pe(e,t,n,r)}function Ad(e){return e instanceof At||(e=Rt(e)),e?(e=e.rgb(),new pe(e.r,e.g,e.b,e.opacity)):new pe}function Tr(e,t,n,r){return arguments.length===1?Ad(e):new pe(e,t,n,r??1)}function pe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ar(pe,Tr,Oi(At,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tt:Math.pow(Tt,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pe(Ge(this.r),Ge(this.g),Ge(this.b),kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ii,formatHex:Ii,formatHex8:Td,formatRgb:Di,toString:Di}));function Ii(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function Td(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Di(){const e=kn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ge(this.r)}, ${Ge(this.g)}, ${Ge(this.b)}${e===1?")":`, ${e})`}`}function kn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ge(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=Ge(e),(e<16?"0":"")+e.toString(16)}function $i(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new be(e,t,n,r)}function Li(e){if(e instanceof be)return new be(e.h,e.s,e.l,e.opacity);if(e instanceof At||(e=Rt(e)),!e)return new be;if(e instanceof be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,c=i-o,u=(i+o)/2;return c?(t===i?s=(n-r)/c+(n<r)*6:n===i?s=(r-t)/c+2:s=(t-n)/c+4,c/=u<.5?i+o:2-i-o,s*=60):c=u>0&&u<1?0:s,new be(s,c,u,e.opacity)}function Pd(e,t,n,r){return arguments.length===1?Li(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ar(be,Pd,Oi(At,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tt:Math.pow(Tt,e),new be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new pe(Pr(e>=240?e-240:e+120,o,r),Pr(e,o,r),Pr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new be(ji(this.h),Mn(this.s),Mn(this.l),kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kn(this.opacity);return`${e===1?"hsl(":"hsla("}${ji(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ji(e){return e=(e||0)%360,e<0?e+360:e}function Mn(e){return Math.max(0,Math.min(1,e||0))}function Pr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zi=e=>()=>e;function Rd(e,t){return function(n){return e+n*t}}function Id(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dd(e){return(e=+e)==1?Hi:function(t,n){return n-t?Id(t,n,e):zi(isNaN(t)?n:t)}}function Hi(e,t){var n=t-e;return n?Rd(e,n):zi(isNaN(e)?t:e)}const Vi=function e(t){var n=Dd(t);function r(o,i){var s=n((o=Tr(o)).r,(i=Tr(i)).r),c=n(o.g,i.g),u=n(o.b,i.b),l=Hi(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=c(f),o.b=u(f),o.opacity=l(f),o+""}}return r.gamma=e,r}(1);function Ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ir=new RegExp(Rr.source,"g");function $d(e){return function(){return e}}function Ld(e){return function(t){return e(t)+""}}function jd(e,t){var n=Rr.lastIndex=Ir.lastIndex=0,r,o,i,s=-1,c=[],u=[];for(e=e+"",t=t+"";(r=Rr.exec(e))&&(o=Ir.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[s]?c[s]+=i:c[++s]=i),(r=r[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,u.push({i:s,x:Ie(r,o)})),n=Ir.lastIndex;return n<t.length&&(i=t.slice(n),c[s]?c[s]+=i:c[++s]=i),c.length<2?u[0]?Ld(u[0].x):$d(t):(t=u.length,function(l){for(var f=0,d;f<t;++f)c[(d=u[f]).i]=d.x(l);return c.join("")})}var Bi=180/Math.PI,Dr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fi(e,t,n,r,o,i){var s,c,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Bi,skewX:Math.atan(u)*Bi,scaleX:s,scaleY:c}}var On;function zd(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Dr:Fi(t.a,t.b,t.c,t.d,t.e,t.f)}function Hd(e){return e==null||(On||(On=document.createElementNS("http://www.w3.org/2000/svg","g")),On.setAttribute("transform",e),!(e=On.transform.baseVal.consolidate()))?Dr:(e=e.matrix,Fi(e.a,e.b,e.c,e.d,e.e,e.f))}function Yi(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,f,d,a,h,m){if(l!==d||f!==a){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Ie(l,d)},{i:p-2,x:Ie(f,a)})}else(d||a)&&h.push("translate("+d+t+a+n)}function s(l,f,d,a){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),a.push({i:d.push(o(d)+"rotate(",null,r)-2,x:Ie(l,f)})):f&&d.push(o(d)+"rotate("+f+r)}function c(l,f,d,a){l!==f?a.push({i:d.push(o(d)+"skewX(",null,r)-2,x:Ie(l,f)}):f&&d.push(o(d)+"skewX("+f+r)}function u(l,f,d,a,h,m){if(l!==d||f!==a){var p=h.push(o(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Ie(l,d)},{i:p-2,x:Ie(f,a)})}else(d!==1||a!==1)&&h.push(o(h)+"scale("+d+","+a+")")}return function(l,f){var d=[],a=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,d,a),s(l.rotate,f.rotate,d,a),c(l.skewX,f.skewX,d,a),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,d,a),l=f=null,function(h){for(var m=-1,p=a.length,w;++m<p;)d[(w=a[m]).i]=w.x(h);return d.join("")}}}var Vd=Yi(zd,"px, ","px)","deg)"),Bd=Yi(Hd,", ",")",")"),Fd=1e-12;function Wi(e){return((e=Math.exp(e))+1/e)/2}function Yd(e){return((e=Math.exp(e))-1/e)/2}function Wd(e){return((e=Math.exp(2*e))-1)/(e+1)}const Xd=function e(t,n,r){function o(i,s){var c=i[0],u=i[1],l=i[2],f=s[0],d=s[1],a=s[2],h=f-c,m=d-u,p=h*h+m*m,w,x;if(p<Fd)x=Math.log(a/l)/t,w=function(b){return[c+b*h,u+b*m,l*Math.exp(t*b*x)]};else{var S=Math.sqrt(p),g=(a*a-l*l+r*p)/(2*l*n*S),y=(a*a-l*l-r*p)/(2*a*n*S),N=Math.log(Math.sqrt(g*g+1)-g),E=Math.log(Math.sqrt(y*y+1)-y);x=(E-N)/t,w=function(b){var R=b*x,D=Wi(N),j=l/(n*S)*(D*Wd(t*R+N)-Yd(N));return[c+j*h,u+j*m,l*D/Wi(t*R+N)]}}return w.duration=x*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),c=s*s,u=c*c;return e(s,c,u)},o}(Math.SQRT2,2,4);var ft=0,It=0,Dt=0,Xi=1e3,An,$t,Tn=0,Ue=0,Pn=0,Lt=typeof performance=="object"&&performance.now?performance:Date,Gi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $r(){return Ue||(Gi(Gd),Ue=Lt.now()+Pn)}function Gd(){Ue=0}function Rn(){this._call=this._time=this._next=null}Rn.prototype=qi.prototype={constructor:Rn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$r():+n)+(t==null?0:+t),!this._next&&$t!==this&&($t?$t._next=this:An=this,$t=this),this._call=e,this._time=n,Lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lr())}};function qi(e,t,n){var r=new Rn;return r.restart(e,t,n),r}function qd(){$r(),++ft;for(var e=An,t;e;)(t=Ue-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ft}function Ui(){Ue=(Tn=Lt.now())+Pn,ft=It=0;try{qd()}finally{ft=0,Kd(),Ue=0}}function Ud(){var e=Lt.now(),t=e-Tn;t>Xi&&(Pn-=t,Tn=e)}function Kd(){for(var e,t=An,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:An=n);$t=e,Lr(r)}function Lr(e){if(!ft){It&&(It=clearTimeout(It));var t=e-Ue;t>24?(e<1/0&&(It=setTimeout(Ui,e-Lt.now()-Pn)),Dt&&(Dt=clearInterval(Dt))):(Dt||(Tn=Lt.now(),Dt=setInterval(Ud,Xi)),ft=1,Gi(Ui))}}function Ki(e,t,n){var r=new Rn;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Zd=vn("start","end","cancel","interrupt"),Qd=[],Zi=0,Qi=1,jr=2,In=3,Ji=4,zr=5,Dn=6;function $n(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Jd(e,n,{name:t,index:r,group:o,on:Zd,tween:Qd,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Zi})}function Hr(e,t){var n=_e(e,t);if(n.state>Zi)throw new Error("too late; already scheduled");return n}function Ce(e,t){var n=_e(e,t);if(n.state>In)throw new Error("too late; already running");return n}function _e(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Jd(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=qi(i,0,n.time);function i(l){n.state=Qi,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,d,a,h;if(n.state!==Qi)return u();for(f in r)if(h=r[f],h.name===n.name){if(h.state===In)return Ki(s);h.state===Ji?(h.state=Dn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=Dn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(Ki(function(){n.state===In&&(n.state=Ji,n.timer.restart(c,n.delay,n.time),c(l))}),n.state=jr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===jr){for(n.state=In,o=new Array(a=n.tween.length),f=0,d=-1;f<a;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function c(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=zr,1),d=-1,a=o.length;++d<a;)o[d].call(e,f);n.state===zr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Dn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Ln(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>jr&&r.state<zr,r.state=Dn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function ef(e){return this.each(function(){Ln(this,e)})}function tf(e,t){var n,r;return function(){var o=Ce(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,c=r.length;s<c;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function nf(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ce(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var c={name:t,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===t){o[u]=c;break}u===l&&o.push(c)}i.tween=o}}function rf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_e(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?tf:nf)(n,e,t))}function Vr(e,t,n){var r=e._id;return e.each(function(){var o=Ce(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return _e(o,r).value[t]}}function es(e,t){var n;return(typeof t=="number"?Ie:t instanceof Rt?Vi:(n=Rt(t))?(t=n,Vi):jd)(e,t)}function of(e){return function(){this.removeAttribute(e)}}function sf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function af(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function cf(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function uf(e,t,n){var r,o,i;return function(){var s,c=n(this),u;return c==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=c+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c)))}}function lf(e,t,n){var r,o,i;return function(){var s,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=c+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c)))}}function df(e,t){var n=_n(e),r=n==="transform"?Bd:es;return this.attrTween(e,typeof t=="function"?(n.local?lf:uf)(n,r,Vr(this,"attr."+e,t)):t==null?(n.local?sf:of)(n):(n.local?cf:af)(n,r,t))}function ff(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function hf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function pf(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&hf(e,i)),n}return o._value=t,o}function gf(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ff(e,i)),n}return o._value=t,o}function mf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=_n(e);return this.tween(n,(r.local?pf:gf)(r,t))}function yf(e,t){return function(){Hr(this,e).delay=+t.apply(this,arguments)}}function xf(e,t){return t=+t,function(){Hr(this,e).delay=t}}function wf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yf:xf)(t,e)):_e(this.node(),t).delay}function vf(e,t){return function(){Ce(this,e).duration=+t.apply(this,arguments)}}function bf(e,t){return t=+t,function(){Ce(this,e).duration=t}}function _f(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vf:bf)(t,e)):_e(this.node(),t).duration}function Sf(e,t){if(typeof t!="function")throw new Error;return function(){Ce(this,e).ease=t}}function Ef(e){var t=this._id;return arguments.length?this.each(Sf(t,e)):_e(this.node(),t).ease}function Nf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ce(this,e).ease=n}}function Cf(e){if(typeof e!="function")throw new Error;return this.each(Nf(this._id,e))}function kf(e){typeof e!="function"&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,c=r[o]=[],u,l=0;l<s;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&c.push(u);return new Me(r,this._parents,this._name,this._id)}function Mf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),c=0;c<i;++c)for(var u=t[c],l=n[c],f=u.length,d=s[c]=new Array(f),a,h=0;h<f;++h)(a=u[h]||l[h])&&(d[h]=a);for(;c<r;++c)s[c]=t[c];return new Me(s,this._parents,this._name,this._id)}function Of(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Af(e,t,n){var r,o,i=Of(t)?Hr:Ce;return function(){var s=i(this,e),c=s.on;c!==r&&(o=(r=c).copy()).on(t,n),s.on=o}}function Tf(e,t){var n=this._id;return arguments.length<2?_e(this.node(),n).on.on(e):this.each(Af(n,e,t))}function Pf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Rf(){return this.on("end.remove",Pf(this._id))}function If(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cr(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var c=r[s],u=c.length,l=i[s]=new Array(u),f,d,a=0;a<u;++a)(f=c[a])&&(d=e.call(f,f.__data__,a,c))&&("__data__"in f&&(d.__data__=f.__data__),l[a]=d,$n(l[a],t,n,a,l,_e(f,n)));return new Me(i,this._parents,t,n)}function Df(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gi(e));for(var r=this._groups,o=r.length,i=[],s=[],c=0;c<o;++c)for(var u=r[c],l=u.length,f,d=0;d<l;++d)if(f=u[d]){for(var a=e.call(f,f.__data__,d,u),h,m=_e(f,n),p=0,w=a.length;p<w;++p)(h=a[p])&&$n(h,t,n,p,a,m);i.push(a),s.push(f)}return new Me(i,s,t,n)}var $f=Mt.prototype.constructor;function Lf(){return new $f(this._groups,this._parents)}function jf(e,t){var n,r,o;return function(){var i=ut(this,e),s=(this.style.removeProperty(e),ut(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function ts(e){return function(){this.style.removeProperty(e)}}function zf(e,t,n){var r,o=n+"",i;return function(){var s=ut(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function Hf(e,t,n){var r,o,i;return function(){var s=ut(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),ut(this,e))),s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,c))}}function Vf(e,t){var n,r,o,i="style."+t,s="end."+i,c;return function(){var u=Ce(this,e),l=u.on,f=u.value[i]==null?c||(c=ts(t)):void 0;(l!==n||o!==f)&&(r=(n=l).copy()).on(s,o=f),u.on=r}}function Bf(e,t,n){var r=(e+="")=="transform"?Vd:es;return t==null?this.styleTween(e,jf(e,r)).on("end.style."+e,ts(e)):typeof t=="function"?this.styleTween(e,Hf(e,r,Vr(this,"style."+e,t))).each(Vf(this._id,e)):this.styleTween(e,zf(e,r,t),n).on("end.style."+e,null)}function Ff(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Yf(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&Ff(e,s,n)),r}return i._value=t,i}function Wf(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Yf(e,t,n??""))}function Xf(e){return function(){this.textContent=e}}function Gf(e){return function(){var t=e(this);this.textContent=t??""}}function qf(e){return this.tween("text",typeof e=="function"?Gf(Vr(this,"text",e)):Xf(e==null?"":e+""))}function Uf(e){return function(t){this.textContent=e.call(this,t)}}function Kf(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Uf(o)),t}return r._value=e,r}function Zf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Kf(e))}function Qf(){for(var e=this._name,t=this._id,n=ns(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],c=s.length,u,l=0;l<c;++l)if(u=s[l]){var f=_e(u,t);$n(u,e,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Me(r,this._parents,e,n)}function Jf(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var c={value:s},u={value:function(){--o===0&&i()}};n.each(function(){var l=Ce(this,r),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),l.on=t}),o===0&&i()})}var eh=0;function Me(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ns(){return++eh}var Oe=Mt.prototype;Me.prototype={constructor:Me,select:If,selectAll:Df,selectChild:Oe.selectChild,selectChildren:Oe.selectChildren,filter:kf,merge:Mf,selection:Lf,transition:Qf,call:Oe.call,nodes:Oe.nodes,node:Oe.node,size:Oe.size,empty:Oe.empty,each:Oe.each,on:Tf,attr:df,attrTween:mf,style:Bf,styleTween:Wf,text:qf,textTween:Zf,remove:Rf,tween:rf,delay:wf,duration:_f,ease:Ef,easeVarying:Cf,end:Jf,[Symbol.iterator]:Oe[Symbol.iterator]};function th(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var nh={time:null,delay:0,duration:250,ease:th};function rh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function oh(e){var t,n;e instanceof Me?(t=e._id,e=e._name):(t=ns(),(n=nh).time=$r(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],c=s.length,u,l=0;l<c;++l)(u=s[l])&&$n(u,e,t,l,s,n||rh(u,t));return new Me(r,this._parents,e,t)}Mt.prototype.interrupt=ef,Mt.prototype.transition=oh;const jn=e=>()=>e;function ih(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ae(e,t,n){this.k=e,this.x=t,this.y=n}Ae.prototype={constructor:Ae,scale:function(e){return e===1?this:new Ae(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ae(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zn=new Ae(1,0,0);rs.prototype=Ae.prototype;function rs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return zn;return e.__zoom}function Br(e){e.stopImmediatePropagation()}function jt(e){e.preventDefault(),e.stopImmediatePropagation()}function sh(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ah(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function os(){return this.__zoom||zn}function ch(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function uh(){return navigator.maxTouchPoints||"ontouchstart"in this}function lh(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function is(){var e=sh,t=ah,n=lh,r=ch,o=uh,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Xd,l=vn("start","zoom","end"),f,d,a,h=500,m=150,p=0,w=10;function x(v){v.property("__zoom",os).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",j).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(v,P,C,M){var I=v.selection?v.selection():v;I.property("__zoom",os),v!==I?N(v,P,C,M):I.interrupt().each(function(){E(this,arguments).event(M).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},x.scaleBy=function(v,P,C,M){x.scaleTo(v,function(){var I=this.__zoom.k,k=typeof P=="function"?P.apply(this,arguments):P;return I*k},C,M)},x.scaleTo=function(v,P,C,M){x.transform(v,function(){var I=t.apply(this,arguments),k=this.__zoom,_=C==null?y(I):typeof C=="function"?C.apply(this,arguments):C,T=k.invert(_),$=typeof P=="function"?P.apply(this,arguments):P;return n(g(S(k,$),_,T),I,s)},C,M)},x.translateBy=function(v,P,C,M){x.transform(v,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),s)},null,M)},x.translateTo=function(v,P,C,M,I){x.transform(v,function(){var k=t.apply(this,arguments),_=this.__zoom,T=M==null?y(k):typeof M=="function"?M.apply(this,arguments):M;return n(zn.translate(T[0],T[1]).scale(_.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof C=="function"?-C.apply(this,arguments):-C),k,s)},M,I)};function S(v,P){return P=Math.max(i[0],Math.min(i[1],P)),P===v.k?v:new Ae(P,v.x,v.y)}function g(v,P,C){var M=P[0]-C[0]*v.k,I=P[1]-C[1]*v.k;return M===v.x&&I===v.y?v:new Ae(v.k,M,I)}function y(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function N(v,P,C,M){v.on("start.zoom",function(){E(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(M).end()}).tween("zoom",function(){var I=this,k=arguments,_=E(I,k).event(M),T=t.apply(I,k),$=C==null?y(T):typeof C=="function"?C.apply(I,k):C,V=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),Y=I.__zoom,W=typeof P=="function"?P.apply(I,k):P,X=u(Y.invert($).concat(V/Y.k),W.invert($).concat(V/W.k));return function(B){if(B===1)B=W;else{var F=X(B),U=V/F[2];B=new Ae(U,$[0]-F[0]*U,$[1]-F[1]*U)}_.zoom(null,B)}})}function E(v,P,C){return!C&&v.__zooming||new b(v,P)}function b(v,P){this.that=v,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,P),this.taps=0}b.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,P){return this.mouse&&v!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var P=me(this.that).datum();l.call(v,this.that,new ih(v,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:l}),P)}};function R(v,...P){if(!e.apply(this,arguments))return;var C=E(this,P).event(v),M=this.__zoom,I=Math.max(i[0],Math.min(i[1],M.k*Math.pow(2,r.apply(this,arguments)))),k=ve(v);if(C.wheel)(C.mouse[0][0]!==k[0]||C.mouse[0][1]!==k[1])&&(C.mouse[1]=M.invert(C.mouse[0]=k)),clearTimeout(C.wheel);else{if(M.k===I)return;C.mouse=[k,M.invert(k)],Ln(this),C.start()}jt(v),C.wheel=setTimeout(_,m),C.zoom("mouse",n(g(S(M,I),C.mouse[0],C.mouse[1]),C.extent,s));function _(){C.wheel=null,C.end()}}function D(v,...P){if(a||!e.apply(this,arguments))return;var C=v.currentTarget,M=E(this,P,!0).event(v),I=me(v.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",V,!0),k=ve(v,C),_=v.clientX,T=v.clientY;Ci(v.view),Br(v),M.mouse=[k,this.__zoom.invert(k)],Ln(this),M.start();function $(Y){if(jt(Y),!M.moved){var W=Y.clientX-_,X=Y.clientY-T;M.moved=W*W+X*X>p}M.event(Y).zoom("mouse",n(g(M.that.__zoom,M.mouse[0]=ve(Y,C),M.mouse[1]),M.extent,s))}function V(Y){I.on("mousemove.zoom mouseup.zoom",null),ki(Y.view,M.moved),jt(Y),M.event(Y).end()}}function j(v,...P){if(e.apply(this,arguments)){var C=this.__zoom,M=ve(v.changedTouches?v.changedTouches[0]:v,this),I=C.invert(M),k=C.k*(v.shiftKey?.5:2),_=n(g(S(C,k),M,I),t.apply(this,P),s);jt(v),c>0?me(this).transition().duration(c).call(N,_,M,v):me(this).call(x.transform,_,M,v)}}function L(v,...P){if(e.apply(this,arguments)){var C=v.touches,M=C.length,I=E(this,P,v.changedTouches.length===M).event(v),k,_,T,$;for(Br(v),_=0;_<M;++_)T=C[_],$=ve(T,this),$=[$,this.__zoom.invert($),T.identifier],I.touch0?!I.touch1&&I.touch0[2]!==$[2]&&(I.touch1=$,I.taps=0):(I.touch0=$,k=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(I.taps<2&&(d=$[0],f=setTimeout(function(){f=null},h)),Ln(this),I.start())}}function z(v,...P){if(this.__zooming){var C=E(this,P).event(v),M=v.changedTouches,I=M.length,k,_,T,$;for(jt(v),k=0;k<I;++k)_=M[k],T=ve(_,this),C.touch0&&C.touch0[2]===_.identifier?C.touch0[0]=T:C.touch1&&C.touch1[2]===_.identifier&&(C.touch1[0]=T);if(_=C.that.__zoom,C.touch1){var V=C.touch0[0],Y=C.touch0[1],W=C.touch1[0],X=C.touch1[1],B=(B=W[0]-V[0])*B+(B=W[1]-V[1])*B,F=(F=X[0]-Y[0])*F+(F=X[1]-Y[1])*F;_=S(_,Math.sqrt(B/F)),T=[(V[0]+W[0])/2,(V[1]+W[1])/2],$=[(Y[0]+X[0])/2,(Y[1]+X[1])/2]}else if(C.touch0)T=C.touch0[0],$=C.touch0[1];else return;C.zoom("touch",n(g(_,T,$),C.extent,s))}}function H(v,...P){if(this.__zooming){var C=E(this,P).event(v),M=v.changedTouches,I=M.length,k,_;for(Br(v),a&&clearTimeout(a),a=setTimeout(function(){a=null},h),k=0;k<I;++k)_=M[k],C.touch0&&C.touch0[2]===_.identifier?delete C.touch0:C.touch1&&C.touch1[2]===_.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(_=ve(_,this),Math.hypot(d[0]-_[0],d[1]-_[1])<w)){var T=me(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return x.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:jn(+v),x):r},x.filter=function(v){return arguments.length?(e=typeof v=="function"?v:jn(!!v),x):e},x.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:jn(!!v),x):o},x.extent=function(v){return arguments.length?(t=typeof v=="function"?v:jn([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),x):t},x.scaleExtent=function(v){return arguments.length?(i[0]=+v[0],i[1]=+v[1],x):[i[0],i[1]]},x.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(v){return arguments.length?(n=v,x):n},x.duration=function(v){return arguments.length?(c=+v,x):c},x.interpolate=function(v){return arguments.length?(u=v,x):u},x.on=function(){var v=l.on.apply(l,arguments);return v===l?x:v},x.clickDistance=function(v){return arguments.length?(p=(v=+v)*v,x):Math.sqrt(p)},x.tapDistance=function(v){return arguments.length?(w=+v,x):w},x}const ye={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},zt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ss=["Enter"," ","Escape"];var Ke;(function(e){e.Strict="strict",e.Loose="loose"})(Ke||(Ke={}));var Ze;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ze||(Ze={}));var ht;(function(e){e.Partial="partial",e.Full="full"})(ht||(ht={}));const as={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var De;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(De||(De={}));var $e;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})($e||($e={}));var q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(q||(q={}));const cs={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top};function us(e){return e===null?null:e?"valid":"invalid"}const ls=e=>"id"in e&&"source"in e&&"target"in e,dh=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ht=(e,t=[0,0])=>{const{width:n,height:r}=Te(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},fh=(e,t={nodeOrigin:[0,0]})=>{if(process.env.NODE_ENV==="development"&&!t.nodeLookup&&console.warn("Please use `getNodesBounds` from `useReactFlow`/`useSvelteFlow` hook to ensure correct values for sub flows. If not possible, you have to provide a nodeLookup to support sub flows."),e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Fr(o)?o:t.nodeLookup.get(o.id));const c=s?Bn(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Hn(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vn(n)},Vt=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=Bn(r);n=Hn(n,o)}}),Vn(n)},ds=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const c={...Ft(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(const l of e.values()){const{measured:f,selectable:d=!0,hidden:a=!1}=l;if(s&&!d||a)continue;const h=f.width??l.width??l.initialWidth??null,m=f.height??l.height??l.initialHeight??null,p=Bt(c,gt(l)),w=(h??0)*(m??0),x=i&&p>0;(!l.internals.handleBounds||x||p>=w||l.dragging)&&u.push(l)}return u},hh=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function ph(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function gh({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const c=ph(e,s),u=Vt(c),l=Wr(u,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function fs({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),c=s.parentId?n.get(s.parentId):void 0,{x:u,y:l}=c?c.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let d=o;if(s.extent==="parent"&&!s.expandParent)if(!c)i==null||i("005",ye.error005());else{const h=c.measured.width,m=c.measured.height;h&&m&&(d=[[u,l],[u+h,l+m]])}else c&&yt(s.extent)&&(d=[[s.extent[0][0]+u,s.extent[0][1]+l],[s.extent[1][0]+u,s.extent[1][1]+l]]);const a=yt(d)?Qe(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",ye.error015())),{position:{x:a.x-u+(s.measured.width??0)*f[0],y:a.y-l+(s.measured.height??0)*f[1]},positionAbsolute:a}}async function mh({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(a=>a.id)),s=[];for(const a of n){if(a.deletable===!1)continue;const h=i.has(a.id),m=!h&&a.parentId&&s.find(p=>p.id===a.parentId);(h||m)&&s.push(a)}const c=new Set(t.map(a=>a.id)),u=r.filter(a=>a.deletable!==!1),f=hh(s,u);for(const a of u)c.has(a.id)&&!f.find(m=>m.id===a.id)&&f.push(a);if(!o)return{edges:f,nodes:s};const d=await o({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const pt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qe=(e={x:0,y:0},t,n)=>({x:pt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:pt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function hs(e,t,n){const{width:r,height:o}=Te(n),{x:i,y:s}=n.internals.positionAbsolute;return Qe(e,[[i,s],[i+r,s+o]],t)}const ps=(e,t,n)=>e<t?pt(Math.abs(e-t),1,t)/t:e>n?-pt(Math.abs(e-n),1,t)/t:0,gs=(e,t,n=15,r=40)=>{const o=ps(e.x,r,t.width-r)*n,i=ps(e.y,r,t.height-r)*n;return[o,i]},Hn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yr=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Vn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),gt=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fr(e)?e.internals.positionAbsolute:Ht(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Bn=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fr(e)?e.internals.positionAbsolute:Ht(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},ms=(e,t)=>Vn(Hn(Yr(e),Yr(t))),Bt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ys=e=>Se(e.width)&&Se(e.height)&&Se(e.x)&&Se(e.y),Se=e=>!isNaN(e)&&isFinite(e),xs=(e,t)=>{process.env.NODE_ENV==="development"&&console.warn(`[React Flow]: ${t} Help: https://reactflow.dev/error#${e}`)},Fn=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ft=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?Fn(c,s):c},Yn=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function mt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function yh(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=mt(e,n),o=mt(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=mt(e.top??e.y??0,n),o=mt(e.bottom??e.y??0,n),i=mt(e.left??e.x??0,t),s=mt(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function xh(e,t,n,r,o,i){const{x:s,y:c}=Yn(e,[t,n,r]),{x:u,y:l}=Yn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-u,d=i-l;return{left:Math.floor(s),top:Math.floor(c),right:Math.floor(f),bottom:Math.floor(d)}}const Wr=(e,t,n,r,o,i)=>{const s=yh(i,t,n),c=(t-s.x)/e.width,u=(n-s.y)/e.height,l=Math.min(c,u),f=pt(l,r,o),d=e.x+e.width/2,a=e.y+e.height/2,h=t/2-d*f,m=n/2-a*f,p=xh(e,h,m,f,t,n),w={left:Math.min(p.left-s.left,0),top:Math.min(p.top-s.top,0),right:Math.min(p.right-s.right,0),bottom:Math.min(p.bottom-s.bottom,0)};return{x:h-w.left+w.right,y:m-w.top+w.bottom,zoom:f}},Wn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function yt(e){return e!==void 0&&e!=="parent"}function Te(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ws(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function vs(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const c=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function bs(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function wh(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Yt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=Pe(e),c=Ft({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:u,y:l}=n?Fn(c,t):c;return{xSnapped:u,ySnapped:l,...c}}const Xr=e=>({width:e.offsetWidth,height:e.offsetHeight}),_s=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},vh=["INPUT","SELECT","TEXTAREA"];function Ss(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:vh.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Es=e=>"clientX"in e,Pe=(e,t)=>{var i,s;const n=Es(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ns=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const c=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...Xr(s)}})};function Cs({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:c}){const u=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+c*.375+r*.125,f=Math.abs(u-e),d=Math.abs(l-t);return[u,l,f,d]}function Xn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ks({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case q.Left:return[t-Xn(t-r,i),n];case q.Right:return[t+Xn(r-t,i),n];case q.Top:return[t,n-Xn(n-o,i)];case q.Bottom:return[t,n+Xn(o-n,i)]}}function Ms({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top,curvature:s=.25}){const[c,u]=ks({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,f]=ks({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[d,a,h,m]=Cs({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:u,targetControlX:l,targetControlY:f});return[`M${e},${t} C${c},${u} ${l},${f} ${r},${o}`,d,a,h,m]}function Os({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,c=r<t?r+s:r-s;return[i,c,o,s]}function bh({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?s:0)}function _h({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Hn(Bn(e),Bn(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Bt(s,Vn(i))>0}const Sh=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Eh=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),As=(e,t)=>{if(!e.source||!e.target)return xs("006",ye.error006()),t;let n;return ls(e)?n={...e}:n={...e,id:Sh(e)},Eh(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Gr({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,c]=Os({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,c]}const Ts={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}},Nh=({source:e,sourcePosition:t=q.Bottom,target:n})=>t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ps=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ch({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:r=q.Top,center:o,offset:i}){const s=Ts[t],c=Ts[r],u={x:e.x+s.x*i,y:e.y+s.y*i},l={x:n.x+c.x*i,y:n.y+c.y*i},f=Nh({source:u,sourcePosition:t,target:l}),d=f.x!==0?"x":"y",a=f[d];let h=[],m,p;const w={x:0,y:0},x={x:0,y:0},[S,g,y,N]=Os({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*c[d]===-1){m=o.x??S,p=o.y??g;const b=[{x:m,y:u.y},{x:m,y:l.y}],R=[{x:u.x,y:p},{x:l.x,y:p}];s[d]===a?h=d==="x"?b:R:h=d==="x"?R:b}else{const b=[{x:u.x,y:l.y}],R=[{x:l.x,y:u.y}];if(d==="x"?h=s.x===a?R:b:h=s.y===a?b:R,t===r){const H=Math.abs(e[d]-n[d]);if(H<=i){const v=Math.min(i-1,i-H);s[d]===a?w[d]=(u[d]>e[d]?-1:1)*v:x[d]=(l[d]>n[d]?-1:1)*v}}if(t!==r){const H=d==="x"?"y":"x",v=s[d]===c[H],P=u[H]>l[H],C=u[H]<l[H];(s[d]===1&&(!v&&P||v&&C)||s[d]!==1&&(!v&&C||v&&P))&&(h=d==="x"?b:R)}const D={x:u.x+w.x,y:u.y+w.y},j={x:l.x+x.x,y:l.y+x.y},L=Math.max(Math.abs(D.x-h[0].x),Math.abs(j.x-h[0].x)),z=Math.max(Math.abs(D.y-h[0].y),Math.abs(j.y-h[0].y));L>=z?(m=(D.x+j.x)/2,p=h[0].y):(m=h[0].x,p=(D.y+j.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...h,{x:l.x+x.x,y:l.y+x.y},n],m,p,y,N]}function kh(e,t,n,r){const o=Math.min(Ps(e,t)/2,Ps(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*f}`}const c=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${s+o*u}Q ${i},${s} ${i+o*c},${s}`}function qr({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top,borderRadius:s=5,centerX:c,centerY:u,offset:l=20}){const[f,d,a,h,m]=Ch({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:u},offset:l});return[f.reduce((w,x,S)=>{let g="";return S>0&&S<f.length-1?g=kh(f[S-1],x,f[S+1],s):g=`${S===0?"M":"L"}${x.x} ${x.y}`,w+=g,w},""),d,a,h,m]}function Rs(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Mh(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Rs(t)||!Rs(n))return null;const r=t.internals.handleBounds||Is(t.handles),o=n.internals.handleBounds||Is(n.handles),i=Ds((r==null?void 0:r.source)??[],e.sourceHandle),s=Ds(e.connectionMode===Ke.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(d=e.onError)==null||d.call(e,"008",ye.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||q.Bottom,u=(s==null?void 0:s.position)||q.Top,l=Wt(t,i,c),f=Wt(n,s,u);return{sourceX:l.x,sourceY:l.y,targetX:f.x,targetY:f.y,sourcePosition:c,targetPosition:u}}function Is(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Wt(e,t,n=q.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:c}=t??Te(e);if(r)return{x:o+s/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case q.Top:return{x:o+s/2,y:i};case q.Right:return{x:o+s,y:i+c/2};case q.Bottom:return{x:o+s/2,y:i+c};case q.Left:return{x:o,y:i+c/2}}}function Ds(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ur(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Oh(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,c)=>([c.markerStart||r,c.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const l=Ur(u,t);i.has(l)||(s.push({id:l,color:u.color||n,...u}),i.add(l))}}),s),[]).sort((s,c)=>s.id.localeCompare(c.id))}const Kr={nodeOrigin:[0,0],nodeExtent:zt,elevateNodesOnSelect:!0,defaults:{}},Ah={...Kr,checkEquality:!0};function Zr(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Th(e,t,n){const r=Zr(Kr,n);for(const o of e.values())if(o.parentId)Jr(o,e,t,r);else{const i=Ht(o,r.nodeOrigin),s=yt(o.extent)?o.extent:r.nodeExtent,c=Qe(i,s,Te(o));o.internals.positionAbsolute=c}}function Qr(e,t,n,r){var u,l;const o=Zr(Ah,r);let i=e.length>0;const s=new Map(t),c=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let d=s.get(f.id);if(o.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const a=Ht(f,o.nodeOrigin),h=yt(f.extent)?f.extent:o.nodeExtent,m=Qe(a,h,Te(f));d={...o.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(l=f.measured)==null?void 0:l.height},internals:{positionAbsolute:m,handleBounds:f.measured?d==null?void 0:d.internals.handleBounds:void 0,z:$s(f,c),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(i=!1),f.parentId&&Jr(d,t,n,r)}return i}function Ph(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Jr(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=Zr(Kr,r),c=e.parentId,u=t.get(c);if(!u){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Ph(e,n);const l=o?1e3:0,{x:f,y:d,z:a}=Rh(e,u,i,s,l),{positionAbsolute:h}=e.internals,m=f!==h.x||d!==h.y;(m||a!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:f,y:d}:h,z:a}})}function $s(e,t){return(Se(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Rh(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,c=Te(e),u=Ht(e,n),l=yt(e.extent)?Qe(u,e.extent,c):u;let f=Qe({x:i+l.x,y:s+l.y},r,c);e.extent==="parent"&&(f=hs(f,c,t));const d=$s(e,o),a=t.internals.z??0;return{x:f.x,y:f.y,z:a>d?a:d}}function eo(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const c of e){const u=t.get(c.parentId);if(!u)continue;const l=((s=i.get(c.parentId))==null?void 0:s.expandedRect)??gt(u),f=ms(l,c.rect);i.set(c.parentId,{expandedRect:f,parent:u})}return i.size>0&&i.forEach(({expandedRect:c,parent:u},l)=>{var g;const f=u.internals.positionAbsolute,d=Te(u),a=u.origin??r,h=c.x<f.x?Math.round(Math.abs(f.x-c.x)):0,m=c.y<f.y?Math.round(Math.abs(f.y-c.y)):0,p=Math.max(d.width,Math.round(c.width)),w=Math.max(d.height,Math.round(c.height)),x=(p-d.width)*a[0],S=(w-d.height)*a[1];(h>0||m>0||x||S)&&(o.push({id:l,type:"position",position:{x:u.position.x-h+x,y:u.position.y-m+S}}),(g=n.get(l))==null||g.forEach(y=>{e.some(N=>N.id===y.id)||o.push({id:y.id,type:"position",position:{x:y.position.x+h,y:y.position.y+m}})})),(d.width<c.width||d.height<c.height||h||m)&&o.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:p+(h?a[0]*h-x:0),height:w+(m?a[1]*m-S:0)}})}),o}function Ih(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!s)return{changes:[],updatedInternals:c};const u=[],l=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(l.transform),d=[];for(const a of e.values()){const h=t.get(a.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),c=!0;continue}const m=Xr(a.nodeElement),p=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(p||!h.internals.handleBounds||a.force))){const x=a.nodeElement.getBoundingClientRect(),S=yt(h.extent)?h.extent:i;let{positionAbsolute:g}=h.internals;h.parentId&&h.extent==="parent"?g=hs(g,m,t.get(h.parentId)):S&&(g=Qe(g,S,m));const y={...h,measured:m,internals:{...h.internals,positionAbsolute:g,handleBounds:{source:Ns("source",a.nodeElement,x,f,h.id),target:Ns("target",a.nodeElement,x,f,h.id)}}};t.set(h.id,y),h.parentId&&Jr(y,t,n,{nodeOrigin:o}),c=!0,p&&(u.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:gt(y,o)}))}}if(d.length>0){const a=eo(d,t,n,o);u.push(...a)}return{changes:u,updatedInternals:c}}async function Dh({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(c)}function Ls(e,t,n,r,o,i){let s=o;const c=r.get(s)||new Map;r.set(s,c.set(n,t)),s=`${o}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),i){s=`${o}-${e}-${i}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function js(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:c=null}=r,u={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:c},l=`${o}-${s}--${i}-${c}`,f=`${i}-${c}--${o}-${s}`;Ls("source",u,f,e,o,s),Ls("target",u,l,e,i,c),t.set(r.id,r)}}function zs(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:zs(n,t):!1}function Hs(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function $h(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!zs(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function to({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,c,u;const o=[];for(const[l,f]of t){const d=(s=n.get(l))==null?void 0:s.internals.userNode;d&&o.push({...d,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:o[0],o]}function Lh({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,c=new Map,u=!1,l={x:0,y:0},f=null,d=!1,a=null,h=!1;function m({noDragClassName:w,handleSelector:x,domNode:S,isSelectable:g,nodeId:y,nodeClickDistance:N=0}){a=me(S);function E({x:j,y:L},z){const{nodeLookup:H,nodeExtent:v,snapGrid:P,snapToGrid:C,nodeOrigin:M,onNodeDrag:I,onSelectionDrag:k,onError:_,updateNodePositions:T}=t();i={x:j,y:L};let $=!1,V={x:0,y:0,x2:0,y2:0};if(c.size>1&&v){const Y=Vt(c);V=Yr(Y)}for(const[Y,W]of c){if(!H.has(Y))continue;let X={x:j-W.distance.x,y:L-W.distance.y};C&&(X=Fn(X,P));let B=[[v[0][0],v[0][1]],[v[1][0],v[1][1]]];if(c.size>1&&v&&!W.extent){const{positionAbsolute:Q}=W.internals,K=Q.x-V.x+v[0][0],G=Q.x+W.measured.width-V.x2+v[1][0],ie=Q.y-V.y+v[0][1],te=Q.y+W.measured.height-V.y2+v[1][1];B=[[K,ie],[G,te]]}const{position:F,positionAbsolute:U}=fs({nodeId:Y,nextPosition:X,nodeLookup:H,nodeExtent:B,nodeOrigin:M,onError:_});$=$||W.position.x!==F.x||W.position.y!==F.y,W.position=F,W.internals.positionAbsolute=U}if($&&(T(c,!0),z&&(r||I||!y&&k))){const[Y,W]=to({nodeId:y,dragItems:c,nodeLookup:H});r==null||r(z,c,Y,W),I==null||I(z,Y,W),y||k==null||k(z,W)}}async function b(){if(!f)return;const{transform:j,panBy:L,autoPanSpeed:z,autoPanOnNodeDrag:H}=t();if(!H){u=!1,cancelAnimationFrame(s);return}const[v,P]=gs(l,f,z);(v!==0||P!==0)&&(i.x=(i.x??0)-v/j[2],i.y=(i.y??0)-P/j[2],await L({x:v,y:P})&&E(i,null)),s=requestAnimationFrame(b)}function R(j){var $;const{nodeLookup:L,multiSelectionActive:z,nodesDraggable:H,transform:v,snapGrid:P,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:I,onSelectionDragStart:k,unselectNodesAndEdges:_}=t();d=!0,(!M||!g)&&!z&&y&&(($=L.get(y))!=null&&$.selected||_()),g&&M&&y&&(e==null||e(y));const T=Yt(j.sourceEvent,{transform:v,snapGrid:P,snapToGrid:C,containerBounds:f});if(i=T,c=$h(L,H,T,y),c.size>0&&(n||I||!y&&k)){const[V,Y]=to({nodeId:y,dragItems:c,nodeLookup:L});n==null||n(j.sourceEvent,c,V,Y),I==null||I(j.sourceEvent,V,Y),y||k==null||k(j.sourceEvent,Y)}}const D=Mi().clickDistance(N).on("start",j=>{const{domNode:L,nodeDragThreshold:z,transform:H,snapGrid:v,snapToGrid:P}=t();f=(L==null?void 0:L.getBoundingClientRect())||null,h=!1,z===0&&R(j),i=Yt(j.sourceEvent,{transform:H,snapGrid:v,snapToGrid:P,containerBounds:f}),l=Pe(j.sourceEvent,f)}).on("drag",j=>{const{autoPanOnNodeDrag:L,transform:z,snapGrid:H,snapToGrid:v,nodeDragThreshold:P,nodeLookup:C}=t(),M=Yt(j.sourceEvent,{transform:z,snapGrid:H,snapToGrid:v,containerBounds:f});if((j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||y&&!C.has(y))&&(h=!0),!h){if(!u&&L&&d&&(u=!0,b()),!d){const I=M.xSnapped-(i.x??0),k=M.ySnapped-(i.y??0);Math.sqrt(I*I+k*k)>P&&R(j)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&c&&d&&(l=Pe(j.sourceEvent,f),E(M,j.sourceEvent))}}).on("end",j=>{if(!(!d||h)&&(u=!1,d=!1,cancelAnimationFrame(s),c.size>0)){const{nodeLookup:L,updateNodePositions:z,onNodeDragStop:H,onSelectionDragStop:v}=t();if(z(c,!1),o||H||!y&&v){const[P,C]=to({nodeId:y,dragItems:c,nodeLookup:L,dragging:!1});o==null||o(j.sourceEvent,c,P,C),H==null||H(j.sourceEvent,P,C),y||v==null||v(j.sourceEvent,C)}}}).filter(j=>{const L=j.target;return!j.button&&(!w||!Hs(L,`.${w}`,S))&&(!x||Hs(L,x,S))});a.call(D)}function p(){a==null||a.on(".drag",null)}return{update:m,destroy:p}}function jh(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Bt(o,gt(i))>0&&r.push(i);return r}const zh=250;function Hh(e,t,n,r){var c,u;let o=[],i=1/0;const s=jh(e,n,t+zh);for(const l of s){const f=[...((c=l.internals.handleBounds)==null?void 0:c.source)??[],...((u=l.internals.handleBounds)==null?void 0:u.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:a,y:h}=Wt(l,d,d.position,!0),m=Math.sqrt(Math.pow(a-e.x,2)+Math.pow(h-e.y,2));m>t||(m<i?(o=[{...d,x:a,y:h}],i=m):m===i&&o.push({...d,x:a,y:h}))}}if(!o.length)return null;if(o.length>1){const l=r.type==="source"?"target":"source";return o.find(f=>f.type===l)??o[0]}return o[0]}function Vs(e,t,n,r,o,i=!1){var l,f,d;const s=r.get(e);if(!s)return null;const c=o==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],u=(n?c==null?void 0:c.find(a=>a.id===n):c==null?void 0:c[0])??null;return u&&i?{...u,...Wt(s,u,u.position,!0)}:u}function Bs(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Vh(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Fs=()=>!0;function Bh(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:c,nodeLookup:u,lib:l,autoPanOnConnect:f,flowId:d,panBy:a,cancelConnection:h,onConnectStart:m,onConnect:p,onConnectEnd:w,isValidConnection:x=Fs,onReconnectEnd:S,updateConnection:g,getTransform:y,getFromHandle:N,autoPanSpeed:E}){const b=_s(e.target);let R=0,D;const{x:j,y:L}=Pe(e),z=b==null?void 0:b.elementFromPoint(j,L),H=Bs(i,z),v=c==null?void 0:c.getBoundingClientRect();if(!v||!H)return;const P=Vs(o,H,r,u,t);if(!P)return;let C=Pe(e,v),M=!1,I=null,k=!1,_=null;function T(){if(!f||!v)return;const[U,Q]=gs(C,v,E);a({x:U,y:Q}),R=requestAnimationFrame(T)}const $={...P,nodeId:o,type:H,position:P.position},V=u.get(o),W={inProgress:!0,isValid:null,from:Wt(V,$,q.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:V,to:C,toHandle:null,toPosition:cs[$.position],toNode:null};g(W);let X=W;m==null||m(e,{nodeId:o,handleId:r,handleType:H});function B(U){if(!N()||!$){F(U);return}const Q=y();C=Pe(U,v),D=Hh(Ft(C,Q,!1,[1,1]),n,u,$),M||(T(),M=!0);const K=Ys(U,{handle:D,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:x,doc:b,lib:l,flowId:d,nodeLookup:u});_=K.handleDomNode,I=K.connection,k=Vh(!!D,K.isValid);const G={...X,isValid:k,to:D&&k?Yn({x:D.x,y:D.y},Q):C,toHandle:K.toHandle,toPosition:k&&K.toHandle?K.toHandle.position:cs[$.position],toNode:K.toHandle?u.get(K.toHandle.nodeId):null};k&&D&&X.toHandle&&G.toHandle&&X.toHandle.type===G.toHandle.type&&X.toHandle.nodeId===G.toHandle.nodeId&&X.toHandle.id===G.toHandle.id&&X.to.x===G.to.x&&X.to.y===G.to.y||(g(G),X=G)}function F(U){(D||_)&&I&&k&&(p==null||p(I));const{inProgress:Q,...K}=X,G={...K,toPosition:X.toHandle?X.toPosition:null};w==null||w(U,G),i&&(S==null||S(U,G)),h(),cancelAnimationFrame(R),M=!1,k=!1,I=null,_=null,b.removeEventListener("mousemove",B),b.removeEventListener("mouseup",F),b.removeEventListener("touchmove",B),b.removeEventListener("touchend",F)}b.addEventListener("mousemove",B),b.addEventListener("mouseup",F),b.addEventListener("touchmove",B),b.addEventListener("touchend",F)}function Ys(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:c,flowId:u,isValidConnection:l=Fs,nodeLookup:f}){const d=i==="target",a=t?s.querySelector(`.${c}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:m}=Pe(e),p=s.elementFromPoint(h,m),w=p!=null&&p.classList.contains(`${c}-flow__handle`)?p:a,x={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const S=Bs(void 0,w),g=w.getAttribute("data-nodeid"),y=w.getAttribute("data-handleid"),N=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!g||!S)return x;const b={source:d?g:r,sourceHandle:d?y:o,target:d?r:g,targetHandle:d?o:y};x.connection=b;const D=N&&E&&(n===Ke.Strict?d&&S==="source"||!d&&S==="target":g!==r||y!==o);x.isValid=D&&l(b),x.toHandle=Vs(g,S,y,f,n,!1)}return x}const no={onPointerDown:Bh,isValid:Ys};function Fh({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=me(e);function i({translateExtent:c,width:u,height:l,zoomStep:f=10,pannable:d=!0,zoomable:a=!0,inversePan:h=!1}){const m=g=>{const y=n();if(g.sourceEvent.type!=="wheel"||!t)return;const N=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*f,E=y[2]*Math.pow(2,N);t.scaleTo(E)};let p=[0,0];const w=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(p=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},x=g=>{const y=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const N=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],E=[N[0]-p[0],N[1]-p[1]];p=N;const b=r()*Math.max(y[2],Math.log(y[2]))*(h?-1:1),R={x:y[0]-E[0]*b,y:y[1]-E[1]*b},D=[[0,0],[u,l]];t.setViewportConstrained({x:R.x,y:R.y,zoom:y[2]},D,c)},S=is().on("start",w).on("zoom",d?x:null).on("zoom.wheel",a?m:null);o.call(S,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:ve}}const Yh=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Gn=e=>({x:e.x,y:e.y,zoom:e.k}),ro=({x:e,y:t,zoom:n})=>zn.translate(e,t).scale(n),xt=(e,t)=>e.target.closest(`.${t}`),Ws=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),oo=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Xs=e=>{const t=e.ctrlKey&&Wn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Wh({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:l}){return f=>{if(xt(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=ve(f),x=Xs(f),S=d*Math.pow(2,x);r.scaleTo(n,S,w,f);return}const a=f.deltaMode===1?20:1;let h=o===Ze.Vertical?0:f.deltaX*a,m=o===Ze.Horizontal?0:f.deltaY*a;!Wn()&&f.shiftKey&&o!==Ze.Vertical&&(h=f.deltaY*a,m=0),r.translateBy(n,-(h/d)*i,-(m/d)*i,{internal:!0});const p=Gn(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c==null||c(f,p)),e.isPanScrolling&&(u==null||u(f,p),e.panScrollTimeout=setTimeout(()=>{l==null||l(f,p),e.isPanScrolling=!1},150))}}function Xh({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,c=xt(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),s||c)return null;r.preventDefault(),n.call(this,r,o)}}function Gh({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Gn(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function qh({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,c;e.usedRightMouseButton=!!(n&&Ws(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,Gn(i.transform)))}}function Uh({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var c;if(!((c=s.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&Ws(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&Yh(e.prevViewport,s.transform))){const u=Gn(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function Kh({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:c,noPanClassName:u,lib:l}){return f=>{var m;const d=e||t,a=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(xt(f,`${l}-flow__node`)||xt(f,`${l}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||xt(f,c)&&f.type==="wheel"||xt(f,u)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!a&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Zh({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:c,onPanZoomEnd:u,onDraggingChange:l}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),a=is().clickDistance(!Se(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=me(e).call(a);g({x:i.x,y:i.y,zoom:pt(i.zoom,t,n)},[[0,0],[d.width,d.height]],o);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");a.wheelDelta(Xs);function w(z,H){return h?new Promise(v=>{a==null||a.transform(oo(h,H==null?void 0:H.duration,()=>v(!0)),z)}):Promise.resolve(!1)}function x({noWheelClassName:z,noPanClassName:H,onPaneContextMenu:v,userSelectionActive:P,panOnScroll:C,panOnDrag:M,panOnScrollMode:I,panOnScrollSpeed:k,preventScrolling:_,zoomOnPinch:T,zoomOnScroll:$,zoomOnDoubleClick:V,zoomActivationKeyPressed:Y,lib:W,onTransformChange:X}){P&&!f.isZoomingOrPanning&&S();const F=C&&!Y&&!P?Wh({zoomPanValues:f,noWheelClassName:z,d3Selection:h,d3Zoom:a,panOnScrollMode:I,panOnScrollSpeed:k,zoomOnPinch:T,onPanZoomStart:c,onPanZoom:s,onPanZoomEnd:u}):Xh({noWheelClassName:z,preventScrolling:_,d3ZoomHandler:m});if(h.on("wheel.zoom",F,{passive:!1}),!P){const Q=Gh({zoomPanValues:f,onDraggingChange:l,onPanZoomStart:c});a.on("start",Q);const K=qh({zoomPanValues:f,panOnDrag:M,onPaneContextMenu:!!v,onPanZoom:s,onTransformChange:X});a.on("zoom",K);const G=Uh({zoomPanValues:f,panOnDrag:M,panOnScroll:C,onPaneContextMenu:v,onPanZoomEnd:u,onDraggingChange:l});a.on("end",G)}const U=Kh({zoomActivationKeyPressed:Y,panOnDrag:M,zoomOnScroll:$,panOnScroll:C,zoomOnDoubleClick:V,zoomOnPinch:T,userSelectionActive:P,noPanClassName:H,noWheelClassName:z,lib:W});a.filter(U),V?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function S(){a.on("zoom",null)}async function g(z,H,v){const P=ro(z),C=a==null?void 0:a.constrain()(P,H,v);return C&&await w(C),new Promise(M=>M(C))}async function y(z,H){const v=ro(z);return await w(v,H),new Promise(P=>P(v))}function N(z){if(h){const H=ro(z),v=h.property("__zoom");(v.k!==z.zoom||v.x!==z.x||v.y!==z.y)&&(a==null||a.transform(h,H,null,{sync:!0}))}}function E(){const z=h?rs(h.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function b(z,H){return h?new Promise(v=>{a==null||a.scaleTo(oo(h,H==null?void 0:H.duration,()=>v(!0)),z)}):Promise.resolve(!1)}function R(z,H){return h?new Promise(v=>{a==null||a.scaleBy(oo(h,H==null?void 0:H.duration,()=>v(!0)),z)}):Promise.resolve(!1)}function D(z){a==null||a.scaleExtent(z)}function j(z){a==null||a.translateExtent(z)}function L(z){const H=!Se(z)||z<0?0:z;a==null||a.clickDistance(H)}return{update:x,destroy:S,setViewport:y,setViewportConstrained:g,getViewport:E,scaleTo:b,scaleBy:R,setScaleExtent:D,setTranslateExtent:j,syncViewport:N,setClickDistance:L}}var Xt;(function(e){e.Line="line",e.Handle="handle"})(Xt||(Xt={}));function Qh({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,c=n-r,u=[s>0?1:s<0?-1:0,c>0?1:c<0?-1:0];return s&&o&&(u[0]=u[0]*-1),c&&i&&(u[1]=u[1]*-1),u}function Jh(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Le(e,t){return Math.max(0,t-e)}function je(e,t){return Math.max(0,e-t)}function qn(e,t,n){return Math.max(0,t-e,e-n)}function Gs(e,t){return e?!t:t}function ep(e,t,n,r,o,i,s,c){let{affectsX:u,affectsY:l}=t;const{isHorizontal:f,isVertical:d}=t,a=f&&d,{xSnapped:h,ySnapped:m}=n,{minWidth:p,maxWidth:w,minHeight:x,maxHeight:S}=r,{x:g,y,width:N,height:E,aspectRatio:b}=e;let R=Math.floor(f?h-e.pointerX:0),D=Math.floor(d?m-e.pointerY:0);const j=N+(u?-R:R),L=E+(l?-D:D),z=-i[0]*N,H=-i[1]*E;let v=qn(j,p,w),P=qn(L,x,S);if(s){let I=0,k=0;u&&R<0?I=Le(g+R+z,s[0][0]):!u&&R>0&&(I=je(g+j+z,s[1][0])),l&&D<0?k=Le(y+D+H,s[0][1]):!l&&D>0&&(k=je(y+L+H,s[1][1])),v=Math.max(v,I),P=Math.max(P,k)}if(c){let I=0,k=0;u&&R>0?I=je(g+R,c[0][0]):!u&&R<0&&(I=Le(g+j,c[1][0])),l&&D>0?k=je(y+D,c[0][1]):!l&&D<0&&(k=Le(y+L,c[1][1])),v=Math.max(v,I),P=Math.max(P,k)}if(o){if(f){const I=qn(j/b,x,S)*b;if(v=Math.max(v,I),s){let k=0;!u&&!l||u&&!l&&a?k=je(y+H+j/b,s[1][1])*b:k=Le(y+H+(u?R:-R)/b,s[0][1])*b,v=Math.max(v,k)}if(c){let k=0;!u&&!l||u&&!l&&a?k=Le(y+j/b,c[1][1])*b:k=je(y+(u?R:-R)/b,c[0][1])*b,v=Math.max(v,k)}}if(d){const I=qn(L*b,p,w)/b;if(P=Math.max(P,I),s){let k=0;!u&&!l||l&&!u&&a?k=je(g+L*b+z,s[1][0])/b:k=Le(g+(l?D:-D)*b+z,s[0][0])/b,P=Math.max(P,k)}if(c){let k=0;!u&&!l||l&&!u&&a?k=Le(g+L*b,c[1][0])/b:k=je(g+(l?D:-D)*b,c[0][0])/b,P=Math.max(P,k)}}}D=D+(D<0?P:-P),R=R+(R<0?v:-v),o&&(a?j>L*b?D=(Gs(u,l)?-R:R)/b:R=(Gs(u,l)?-D:D)*b:f?(D=R/b,l=u):(R=D*b,u=l));const C=u?g+R:g,M=l?y+D:y;return{width:N+(u?-R:R),height:E+(l?-D:D),x:i[0]*R*(u?-1:1)+C,y:i[1]*D*(l?-1:1)+M}}const qs={width:0,height:0,x:0,y:0},tp={...qs,pointerX:0,pointerY:0,aspectRatio:1};function np(e){return[[0,0],[e.measured.width,e.measured.height]]}function rp(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,c=n[0]*i,u=n[1]*s;return[[r-c,o-u],[r+i-c,o+s-u]]}function op({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=me(e);function s({controlPosition:u,boundaries:l,keepAspectRatio:f,resizeDirection:d,onResizeStart:a,onResize:h,onResizeEnd:m,shouldResize:p}){let w={...qs},x={...tp};const S=Jh(u);let g,y=null,N=[],E,b,R;const D=Mi().on("start",j=>{const{nodeLookup:L,transform:z,snapGrid:H,snapToGrid:v,nodeOrigin:P,paneDomNode:C}=n();if(g=L.get(t),!g)return;y=(C==null?void 0:C.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:I}=Yt(j.sourceEvent,{transform:z,snapGrid:H,snapToGrid:v,containerBounds:y});w={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},x={...w,pointerX:M,pointerY:I,aspectRatio:w.width/w.height},E=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(E=L.get(g.parentId),b=E&&g.extent==="parent"?np(E):void 0),N=[],R=void 0;for(const[k,_]of L)if(_.parentId===t&&(N.push({id:k,position:{..._.position},extent:_.extent}),_.extent==="parent"||_.expandParent)){const T=rp(_,g,_.origin??P);R?R=[[Math.min(T[0][0],R[0][0]),Math.min(T[0][1],R[0][1])],[Math.max(T[1][0],R[1][0]),Math.max(T[1][1],R[1][1])]]:R=T}a==null||a(j,{...w})}).on("drag",j=>{const{transform:L,snapGrid:z,snapToGrid:H,nodeOrigin:v}=n(),P=Yt(j.sourceEvent,{transform:L,snapGrid:z,snapToGrid:H,containerBounds:y}),C=[];if(!g)return;const{x:M,y:I,width:k,height:_}=w,T={},$=g.origin??v,{width:V,height:Y,x:W,y:X}=ep(x,S,P,l,f,$,b,R),B=V!==k,F=Y!==_,U=W!==M&&B,Q=X!==I&&F;if(!U&&!Q&&!B&&!F)return;if((U||Q||$[0]===1||$[1]===1)&&(T.x=U?W:w.x,T.y=Q?X:w.y,w.x=T.x,w.y=T.y,N.length>0)){const te=W-M,ue=X-I;for(const fe of N)fe.position={x:fe.position.x-te+$[0]*(V-k),y:fe.position.y-ue+$[1]*(Y-_)},C.push(fe)}if((B||F)&&(T.width=B&&(!d||d==="horizontal")?V:w.width,T.height=F&&(!d||d==="vertical")?Y:w.height,w.width=T.width,w.height=T.height),E&&g.expandParent){const te=$[0]*(T.width??0);T.x&&T.x<te&&(w.x=te,x.x=x.x-(T.x-te));const ue=$[1]*(T.height??0);T.y&&T.y<ue&&(w.y=ue,x.y=x.y-(T.y-ue))}const K=Qh({width:w.width,prevWidth:k,height:w.height,prevHeight:_,affectsX:S.affectsX,affectsY:S.affectsY}),G={...w,direction:K};(p==null?void 0:p(j,G))!==!1&&(h==null||h(j,G),r(T,C))}).on("end",j=>{m==null||m(j,{...w}),o==null||o({...w})});i.call(D)}function c(){i.on(".drag",null)}return{update:s,destroy:c}}var Un={exports:{}},io={},Kn={exports:{}},so={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us;function ip(){if(Us)return so;Us=1;var e=A;function t(d,a){return d===a&&(d!==0||1/d===1/a)||d!==d&&a!==a}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function c(d,a){var h=a(),m=r({inst:{value:h,getSnapshot:a}}),p=m[0].inst,w=m[1];return i(function(){p.value=h,p.getSnapshot=a,u(p)&&w({inst:p})},[d,h,a]),o(function(){return u(p)&&w({inst:p}),d(function(){u(p)&&w({inst:p})})},[d]),s(h),h}function u(d){var a=d.getSnapshot;d=d.value;try{var h=a();return!n(d,h)}catch{return!0}}function l(d,a){return a()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return so.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,so}var ao={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks;function sp(){return Ks||(Ks=1,process.env.NODE_ENV!=="production"&&function(){function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}function t(h,m){f||o.startTransition===void 0||(f=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var p=m();if(!d){var w=m();i(p,w)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),d=!0)}w=s({inst:{value:p,getSnapshot:m}});var x=w[0].inst,S=w[1];return u(function(){x.value=p,x.getSnapshot=m,n(x)&&S({inst:x})},[h,p,m]),c(function(){return n(x)&&S({inst:x}),h(function(){n(x)&&S({inst:x})})},[h]),l(p),p}function n(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!i(h,p)}catch{return!0}}function r(h,m){return m()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var o=A,i=typeof Object.is=="function"?Object.is:e,s=o.useState,c=o.useEffect,u=o.useLayoutEffect,l=o.useDebugValue,f=!1,d=!1,a=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:t;ao.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:a,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),ao}var Zs;function Qs(){return Zs||(Zs=1,process.env.NODE_ENV==="production"?Kn.exports=ip():Kn.exports=sp()),Kn.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js;function ap(){if(Js)return io;Js=1;var e=A,t=Qs();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return io.useSyncExternalStoreWithSelector=function(l,f,d,a,h){var m=i(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=c(function(){function x(E){if(!S){if(S=!0,g=E,E=a(E),h!==void 0&&p.hasValue){var b=p.value;if(h(b,E))return y=b}return y=E}if(b=y,r(g,E))return b;var R=a(E);return h!==void 0&&h(b,R)?(g=E,b):(g=E,y=R)}var S=!1,g,y,N=d===void 0?null:d;return[function(){return x(f())},N===null?void 0:function(){return x(N())}]},[f,d,a,h]);var w=o(l,m[0],m[1]);return s(function(){p.hasValue=!0,p.value=w},[w]),u(w),w},io}var co={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea;function cp(){return ea||(ea=1,process.env.NODE_ENV!=="production"&&function(){function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=A,n=Qs(),r=typeof Object.is=="function"?Object.is:e,o=n.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;co.useSyncExternalStoreWithSelector=function(l,f,d,a,h){var m=i(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=c(function(){function x(E){if(!S){if(S=!0,g=E,E=a(E),h!==void 0&&p.hasValue){var b=p.value;if(h(b,E))return y=b}return y=E}if(b=y,r(g,E))return b;var R=a(E);return h!==void 0&&h(b,R)?(g=E,b):(g=E,y=R)}var S=!1,g,y,N=d===void 0?null:d;return[function(){return x(f())},N===null?void 0:function(){return x(N())}]},[f,d,a,h]);var w=o(l,m[0],m[1]);return s(function(){p.hasValue=!0,p.value=w},[w]),u(w),w},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),co}var ta;function up(){return ta||(ta=1,process.env.NODE_ENV==="production"?Un.exports=ap():Un.exports=cp()),Un.exports}var lp=up();const dp=_c(lp),fp={},na=e=>{let t;const n=new Set,r=(f,d)=>{const a=typeof f=="function"?f(t):f;if(!Object.is(a,t)){const h=t;t=d??(typeof a!="object"||a===null)?a:Object.assign({},t,a),n.forEach(m=>m(t,h))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>l,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(fp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,u);return u},hp=e=>e?na(e):na,{useDebugValue:pp}=A,{useSyncExternalStoreWithSelector:gp}=dp,mp=e=>e;function ra(e,t=mp,n){const r=gp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return pp(r),r}const oa=(e,t)=>{const n=hp(e),r=(o,i=t)=>ra(n,o,i);return Object.assign(r,n),r},yp=(e,t)=>e?oa(e,t):oa;function oe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Zn={exports:{}},le={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia;function xp(){if(ia)return le;ia=1;var e=A;function t(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(u,l,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:u,containerInfo:l,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,le.createPortal=function(u,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(t(299));return i(u,l,null,f)},le.flushSync=function(u){var l=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=l,r.p=f,r.d.f()}},le.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(u,l))},le.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},le.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var f=l.as,d=c(f,l.crossOrigin),a=typeof l.integrity=="string"?l.integrity:void 0,h=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;f==="style"?r.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:a,fetchPriority:h}):f==="script"&&r.d.X(u,{crossOrigin:d,integrity:a,fetchPriority:h,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},le.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var f=c(l.as,l.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(u)},le.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var f=l.as,d=c(f,l.crossOrigin);r.d.L(u,f,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},le.preloadModule=function(u,l){if(typeof u=="string")if(l){var f=c(l.as,l.crossOrigin);r.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(u)},le.requestFormReset=function(u){r.d.r(u)},le.unstable_batchedUpdates=function(u,l){return u(l)},le.useFormState=function(u,l,f){return s.H.useFormState(u,l,f)},le.useFormStatus=function(){return s.H.useHostTransitionStatus()},le.version="19.1.0",le}var de={};/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa;function wp(){return sa||(sa=1,process.env.NODE_ENV!=="production"&&function(){function e(){}function t(d){return""+d}function n(d,a,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{t(m);var p=!1}catch{p=!0}return p&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol=="function"&&Symbol.toStringTag&&m[Symbol.toStringTag]||m.constructor.name||"Object"),t(m)),{$$typeof:l,key:m==null?null:""+m,children:d,containerInfo:a,implementation:h}}function r(d,a){if(d==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}function o(d){return d===null?"`null`":d===void 0?"`undefined`":d===""?"an empty string":'something with type "'+typeof d+'"'}function i(d){return d===null?"`null`":d===void 0?"`undefined`":d===""?"an empty string":typeof d=="string"?JSON.stringify(d):typeof d=="number"?"`"+d+"`":'something with type "'+typeof d+'"'}function s(){var d=f.H;return d===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),d}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var c=A,u={d:{f:e,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal"),f=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),de.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,de.createPortal=function(d,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error("Target container is not a DOM element.");return n(d,a,null,h)},de.flushSync=function(d){var a=f.T,h=u.p;try{if(f.T=null,u.p=2,d)return d()}finally{f.T=a,u.p=h,u.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},de.preconnect=function(d,a){typeof d=="string"&&d?a!=null&&typeof a!="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",i(a)):a!=null&&typeof a.crossOrigin!="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",o(a.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(d)),typeof d=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,u.d.C(d,a))},de.prefetchDNS=function(d){if(typeof d!="string"||!d)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(d));else if(1<arguments.length){var a=arguments[1];typeof a=="object"&&a.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(a)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(a))}typeof d=="string"&&u.d.D(d)},de.preinit=function(d,a){if(typeof d=="string"&&d?a==null||typeof a!="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",i(a)):a.as!=="style"&&a.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',i(a.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",o(d)),typeof d=="string"&&a&&typeof a.as=="string"){var h=a.as,m=r(h,a.crossOrigin),p=typeof a.integrity=="string"?a.integrity:void 0,w=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;h==="style"?u.d.S(d,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:w}):h==="script"&&u.d.X(d,{crossOrigin:m,integrity:p,fetchPriority:w,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},de.preinitModule=function(d,a){var h="";if(typeof d=="string"&&d||(h+=" The `href` argument encountered was "+o(d)+"."),a!==void 0&&typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":a&&"as"in a&&a.as!=="script"&&(h+=" The `as` option encountered was "+i(a.as)+"."),h)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",h);else switch(h=a&&typeof a.as=="string"?a.as:"script",h){case"script":break;default:h=i(h),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',h,d)}typeof d=="string"&&(typeof a=="object"&&a!==null?(a.as==null||a.as==="script")&&(h=r(a.as,a.crossOrigin),u.d.M(d,{crossOrigin:h,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})):a==null&&u.d.M(d))},de.preload=function(d,a){var h="";if(typeof d=="string"&&d||(h+=" The `href` argument encountered was "+o(d)+"."),a==null||typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":typeof a.as=="string"&&a.as||(h+=" The `as` option encountered was "+o(a.as)+"."),h&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',h),typeof d=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){h=a.as;var m=r(h,a.crossOrigin);u.d.L(d,h,{crossOrigin:m,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},de.preloadModule=function(d,a){var h="";typeof d=="string"&&d||(h+=" The `href` argument encountered was "+o(d)+"."),a!==void 0&&typeof a!="object"?h+=" The `options` argument encountered was "+o(a)+".":a&&"as"in a&&typeof a.as!="string"&&(h+=" The `as` option encountered was "+o(a.as)+"."),h&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',h),typeof d=="string"&&(a?(h=r(a.as,a.crossOrigin),u.d.m(d,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:h,integrity:typeof a.integrity=="string"?a.integrity:void 0})):u.d.m(d))},de.requestFormReset=function(d){u.d.r(d)},de.unstable_batchedUpdates=function(d,a){return d(a)},de.useFormState=function(d,a,h){return s().useFormState(d,a,h)},de.useFormStatus=function(){return s().useHostTransitionStatus()},de.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),de}var aa;function vp(){if(aa)return Zn.exports;aa=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function")){if(process.env.NODE_ENV!=="production")throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}return process.env.NODE_ENV==="production"?(e(),Zn.exports=xp()):Zn.exports=wp(),Zn.exports}vp();const Qn=A.createContext(null),bp=Qn.Provider,ca=ye.error001();function J(e,t){const n=A.useContext(Qn);if(n===null)throw new Error(ca);return ra(n,e,t)}function re(){const e=A.useContext(Qn);if(e===null)throw new Error(ca);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ua={display:"none"},_p={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},la="react-flow__node-desc",da="react-flow__edge-desc",Sp="react-flow__aria-live",Ep=e=>e.ariaLiveMessage;function Np({rfId:e}){const t=J(Ep);return O.jsx("div",{id:`${Sp}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:_p,children:t})}function Cp({rfId:e,disableKeyboardA11y:t}){return O.jsxs(O.Fragment,{children:[O.jsxs("div",{id:`${la}-${e}`,style:ua,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),O.jsx("div",{id:`${da}-${e}`,style:ua,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&O.jsx(Np,{rfId:e})]})}const kp=e=>e.userSelectionActive?"none":"all",Jn=A.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=J(kp),c=`${e}`.split("-");return O.jsx("div",{className:ae(["react-flow__panel",n,...c]),style:{...r,pointerEvents:s},ref:i,...o,children:t})});Jn.displayName="Panel";function Mp({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:O.jsx(Jn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:O.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Op=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},er=e=>e.id;function Ap(e,t){return oe(e.selectedNodes.map(er),t.selectedNodes.map(er))&&oe(e.selectedEdges.map(er),t.selectedEdges.map(er))}function Tp({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:r}=J(Op,Ap);return A.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Pp=e=>!!e.onSelectionChangeHandlers;function Rp({onSelectionChange:e}){const t=J(Pp);return e||t?O.jsx(Tp,{onSelectionChange:e}):null}const fa=[0,0],Ip={x:0,y:0,zoom:1},ha=[...["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],"rfId"],Dp=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),pa={translateExtent:zt,nodeOrigin:fa,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function $p(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:c,setDefaultNodesAndEdges:u,setPaneClickDistance:l}=J(Dp,oe),f=re();A.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=pa,c()}),[]);const d=A.useRef(pa);return A.useEffect(()=>{for(const a of ha){const h=e[a],m=d.current[a];h!==m&&(typeof e[a]>"u"||(a==="nodes"?t(h):a==="edges"?n(h):a==="minZoom"?r(h):a==="maxZoom"?o(h):a==="translateExtent"?i(h):a==="nodeExtent"?s(h):a==="paneClickDistance"?l(h):a==="fitView"?f.setState({fitViewQueued:h}):a==="fitViewOptions"?f.setState({fitViewOptions:h}):f.setState({[a]:h})))}d.current=e},ha.map(a=>e[a])),null}function ga(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Lp(e){var r;const[t,n]=A.useState(e==="system"?null:e);return A.useEffect(()=>{if(e!=="system"){n(e);return}const o=ga(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=ga())!=null&&r.matches?"dark":"light"}const ma=typeof document<"u"?document:null;function Gt(e=null,t={target:ma,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),o=A.useRef(!1),i=A.useRef(new Set([])),[s,c]=A.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=l.reduce((d,a)=>d.concat(...a),[]);return[l,f]}return[[],[]]},[e]);return A.useEffect(()=>{const u=(t==null?void 0:t.target)||ma;if(e!==null){const l=a=>{var p,w;if(o.current=a.ctrlKey||a.metaKey||a.shiftKey||a.altKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ss(a))return!1;const m=xa(a.code,c);if(i.current.add(a[m]),ya(s,i.current,!1)){const x=((w=(p=a.composedPath)==null?void 0:p.call(a))==null?void 0:w[0])||a.target,S=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(o.current||!S)&&a.preventDefault(),r(!0)}},f=a=>{const h=xa(a.code,c);ya(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(a[h]),a.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",l),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{u==null||u.removeEventListener("keydown",l),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function ya(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function xa(e,t){return t.includes(e)?"code":"key"}const jp=()=>{const e=re();return A.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:i,maxZoom:s,panZoom:c}=e.getState(),u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,l=o/2-t*u,f=i/2-n*u;return c?(await c.setViewport({x:l,y:f,zoom:u},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:c}=e.getState(),u=Wr(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(u,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:c,y:u}=s.getBoundingClientRect(),l={x:t.x-c,y:t.y-u},f=n.snapGrid??o,d=n.snapToGrid??i;return Ft(l,r,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Yn(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function wa(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const c={...i};for(const u of s)zp(u,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function zp(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function va(e,t){return wa(e,t)}function ba(e,t){return wa(e,t)}function Je(e,t){return{id:e,type:"select",selected:t}}function wt(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Je(i.id,s)))}return r}function _a({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const c=t.get(s.id),u=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Sa(e){return{id:e.id,type:"remove"}}const Ea=e=>dh(e),Hp=e=>ls(e);function Na(e){return A.forwardRef(e)}const Vp=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ca(e){const[t,n]=A.useState(BigInt(0)),[r]=A.useState(()=>Bp(()=>n(o=>o+BigInt(1))));return Vp(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function Bp(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ka=A.createContext(null);function Fp({children:e}){const t=re(),n=A.useCallback(c=>{const{nodes:u=[],setNodes:l,hasDefaultNodes:f,onNodesChange:d,nodeLookup:a,fitViewQueued:h}=t.getState();let m=u;for(const p of c)m=typeof p=="function"?p(m):p;if(f)l(m);else{const p=_a({items:m,lookup:a});p.length>0?d==null||d(p):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:x,setNodes:S}=t.getState();w&&S(x)})}},[]),r=Ca(n),o=A.useCallback(c=>{const{edges:u=[],setEdges:l,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:a}=t.getState();let h=u;for(const m of c)h=typeof m=="function"?m(h):m;f?l(h):d&&d(_a({items:h,lookup:a}))},[]),i=Ca(o),s=A.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return O.jsx(ka.Provider,{value:s,children:e})}function Yp(){const e=A.useContext(ka);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Wp=e=>!!e.panZoom;function uo(){const e=jp(),t=re(),n=Yp(),r=J(Wp),o=A.useMemo(()=>{const i=d=>t.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},c=d=>{n.edgeQueue.push(d)},u=d=>{var x,S;const{nodeLookup:a,nodeOrigin:h}=t.getState(),m=Ea(d)?d:a.get(d.id),p=m.parentId?vs(m.position,m.measured,m.parentId,a,h):m.position,w={...m,position:p,width:((x=m.measured)==null?void 0:x.width)??m.width,height:((S=m.measured)==null?void 0:S.height)??m.height};return gt(w)},l=(d,a,h={replace:!1})=>{s(m=>m.map(p=>{if(p.id===d){const w=typeof a=="function"?a(p):a;return h.replace&&Ea(w)?w:{...p,...w}}return p}))},f=(d,a,h={replace:!1})=>{c(m=>m.map(p=>{if(p.id===d){const w=typeof a=="function"?a(p):a;return h.replace&&Hp(w)?w:{...p,...w}}return p}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var a;return(a=i(d))==null?void 0:a.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(a=>({...a}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:s,setEdges:c,addNodes:d=>{const a=Array.isArray(d)?d:[d];n.nodeQueue.push(h=>[...h,...a])},addEdges:d=>{const a=Array.isArray(d)?d:[d];n.edgeQueue.push(h=>[...h,...a])},toObject:()=>{const{nodes:d=[],edges:a=[],transform:h}=t.getState(),[m,p,w]=h;return{nodes:d.map(x=>({...x})),edges:a.map(x=>({...x})),viewport:{x:m,y:p,zoom:w}}},deleteElements:async({nodes:d=[],edges:a=[]})=>{const{nodes:h,edges:m,onNodesDelete:p,onEdgesDelete:w,triggerNodeChanges:x,triggerEdgeChanges:S,onDelete:g,onBeforeDelete:y}=t.getState(),{nodes:N,edges:E}=await mh({nodesToRemove:d,edgesToRemove:a,nodes:h,edges:m,onBeforeDelete:y}),b=E.length>0,R=N.length>0;if(b){const D=E.map(Sa);w==null||w(E),S(D)}if(R){const D=N.map(Sa);p==null||p(N),x(D)}return(R||b)&&(g==null||g({nodes:N,edges:E})),{deletedNodes:N,deletedEdges:E}},getIntersectingNodes:(d,a=!0,h)=>{const m=ys(d),p=m?d:u(d),w=h!==void 0;return p?(h||t.getState().nodes).filter(x=>{const S=t.getState().nodeLookup.get(x.id);if(S&&!m&&(x.id===d.id||!S.internals.positionAbsolute))return!1;const g=gt(w?x:S),y=Bt(g,p);return a&&y>0||y>=p.width*p.height}):[]},isNodeIntersecting:(d,a,h=!0)=>{const p=ys(d)?d:u(d);if(!p)return!1;const w=Bt(p,a);return h&&w>0||w>=p.width*p.height},updateNode:l,updateNodeData:(d,a,h={replace:!1})=>{l(d,m=>{const p=typeof a=="function"?a(m):a;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},updateEdge:f,updateEdgeData:(d,a,h={replace:!1})=>{f(d,m=>{const p=typeof a=="function"?a(m):a;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},getNodesBounds:d=>{const{nodeLookup:a,nodeOrigin:h}=t.getState();return fh(d,{nodeLookup:a,nodeOrigin:h})},getHandleConnections:({type:d,id:a,nodeId:h})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${h}-${d}${a?`-${a}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:a,nodeId:h})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${h}${d?a?`-${d}-${a}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const a=t.getState().fitViewResolver??wh();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:a}),n.nodeQueue.push(h=>[...h]),a.promise}}},[]);return A.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Ma=e=>e.selected,Xp={actInsideInputWithModifier:!1},Gp=typeof window<"u"?window:void 0;function qp({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:r}=uo(),o=Gt(e,Xp),i=Gt(t,{target:Gp});A.useEffect(()=>{if(o){const{edges:s,nodes:c}=n.getState();r({nodes:c.filter(Ma),edges:s.filter(Ma)}),n.setState({nodesSelectionActive:!1})}},[o]),A.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Up(e){const t=re();A.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Xr(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",ye.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const tr={position:"absolute",width:"100%",height:"100%",top:0,left:0},Kp=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Zp({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Ze.Free,zoomOnDoubleClick:s=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:l,minZoom:f,maxZoom:d,zoomActivationKeyCode:a,preventScrolling:h=!0,children:m,noWheelClassName:p,noPanClassName:w,onViewportChange:x,isControlledViewport:S,paneClickDistance:g}){const y=re(),N=A.useRef(null),{userSelectionActive:E,lib:b}=J(Kp,oe),R=Gt(a),D=A.useRef();Up(N);const j=A.useCallback(L=>{x==null||x({x:L[0],y:L[1],zoom:L[2]}),S||y.setState({transform:L})},[x,S]);return A.useEffect(()=>{if(N.current){D.current=Zh({domNode:N.current,minZoom:f,maxZoom:d,translateExtent:l,viewport:u,paneClickDistance:g,onDraggingChange:v=>y.setState({paneDragging:v}),onPanZoomStart:(v,P)=>{const{onViewportChangeStart:C,onMoveStart:M}=y.getState();M==null||M(v,P),C==null||C(P)},onPanZoom:(v,P)=>{const{onViewportChange:C,onMove:M}=y.getState();M==null||M(v,P),C==null||C(P)},onPanZoomEnd:(v,P)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=y.getState();M==null||M(v,P),C==null||C(P)}});const{x:L,y:z,zoom:H}=D.current.getViewport();return y.setState({panZoom:D.current,transform:[L,z,H],domNode:N.current.closest(".react-flow")}),()=>{var v;(v=D.current)==null||v.destroy()}}},[]),A.useEffect(()=>{var L;(L=D.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:c,zoomActivationKeyPressed:R,preventScrolling:h,noPanClassName:w,userSelectionActive:E,noWheelClassName:p,lib:b,onTransformChange:j})},[e,t,n,r,o,i,s,c,R,h,w,E,p,b,j]),O.jsx("div",{className:"react-flow__renderer",ref:N,style:tr,children:m})}const Qp=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Jp(){const{userSelectionActive:e,userSelectionRect:t}=J(Qp,oe);return e&&t?O.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const lo=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},eg=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function tg({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ht.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:a,children:h}){const m=re(),{userSelectionActive:p,elementsSelectable:w,dragging:x,connectionInProgress:S}=J(eg,oe),g=w&&(e||p),y=A.useRef(null),N=A.useRef(),E=A.useRef(new Set),b=A.useRef(new Set),R=A.useRef(!1),D=A.useRef(!1),j=M=>{if(R.current||S){R.current=!1;return}c==null||c(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},L=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}u==null||u(M)},z=l?M=>l(M):void 0,H=M=>{var $,V;const{resetSelectedElements:I,domNode:k}=m.getState();if(N.current=k==null?void 0:k.getBoundingClientRect(),!w||!e||M.button!==0||M.target!==y.current||!N.current)return;(V=($=M.target)==null?void 0:$.setPointerCapture)==null||V.call($,M.pointerId),D.current=!0,R.current=!1;const{x:_,y:T}=Pe(M.nativeEvent,N.current);I(),m.setState({userSelectionRect:{width:0,height:0,startX:_,startY:T,x:_,y:T}}),i==null||i(M)},v=M=>{const{userSelectionRect:I,transform:k,nodeLookup:_,edgeLookup:T,connectionLookup:$,triggerNodeChanges:V,triggerEdgeChanges:Y,defaultEdgeOptions:W}=m.getState();if(!N.current||!I)return;R.current=!0;const{x:X,y:B}=Pe(M.nativeEvent,N.current),{startX:F,startY:U}=I,Q={startX:F,startY:U,x:X<F?X:F,y:B<U?B:U,width:Math.abs(X-F),height:Math.abs(B-U)},K=E.current,G=b.current;E.current=new Set(ds(_,Q,k,n===ht.Partial,!0).map(te=>te.id)),b.current=new Set;const ie=(W==null?void 0:W.selectable)??!0;for(const te of E.current){const ue=$.get(te);if(ue)for(const{edgeId:fe}of ue.values()){const vt=T.get(fe);vt&&(vt.selectable??ie)&&b.current.add(fe)}}if(!bs(K,E.current)){const te=wt(_,E.current,!0);V(te)}if(!bs(G,b.current)){const te=wt(T,b.current);Y(te)}m.setState({userSelectionRect:Q,userSelectionActive:!0,nodesSelectionActive:!1})},P=M=>{var k,_;if(M.button!==0||!D.current)return;(_=(k=M.target)==null?void 0:k.releasePointerCapture)==null||_.call(k,M.pointerId);const{userSelectionRect:I}=m.getState();!p&&I&&M.target===y.current&&(j==null||j(M)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),s==null||s(M),(t||o)&&(R.current=!1),D.current=!1},C=r===!0||Array.isArray(r)&&r.includes(0);return O.jsxs("div",{className:ae(["react-flow__pane",{draggable:C,dragging:x,selection:e}]),onClick:g?void 0:lo(j,y),onContextMenu:lo(L,y),onWheel:lo(z,y),onPointerEnter:g?void 0:f,onPointerDown:g?H:d,onPointerMove:g?v:d,onPointerUp:g?P:void 0,onPointerLeave:a,ref:y,style:tr,children:[h,O.jsx(Jp,{})]})}function fo({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:c,onError:u}=t.getState(),l=c.get(e);if(!l){u==null||u("012",ye.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function Oa({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const c=re(),[u,l]=A.useState(!1),f=A.useRef();return A.useEffect(()=>{f.current=Lh({getStoreItems:()=>c.getState(),onNodeMouseDown:d=>{fo({id:d,store:c,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),A.useEffect(()=>{var d,a;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(a=f.current)==null||a.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=f.current)==null||h.destroy()}},[n,r,t,i,e,o]),u}const ng=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Aa(){const e=re();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:c,updateNodePositions:u,nodeLookup:l,nodeOrigin:f}=e.getState(),d=new Map,a=ng(s),h=o?i[0]:5,m=o?i[1]:5,p=n.direction.x*h*n.factor,w=n.direction.y*m*n.factor;for(const[,x]of l){if(!a(x))continue;let S={x:x.internals.positionAbsolute.x+p,y:x.internals.positionAbsolute.y+w};o&&(S=Fn(S,i));const{position:g,positionAbsolute:y}=fs({nodeId:x.id,nextPosition:S,nodeLookup:l,nodeExtent:r,nodeOrigin:f,onError:c});x.position=g,x.internals.positionAbsolute=y,d.set(x.id,x)}u(d)},[])}const ho=A.createContext(null),rg=ho.Provider;ho.Consumer;const Ta=()=>A.useContext(ho),og=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ig=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:c,toHandle:u,isValid:l}=s,f=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Ke.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:f&&l}};function sg({type:e="source",position:t=q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:c,children:u,className:l,onMouseDown:f,onTouchStart:d,...a},h){var P,C;const m=s||null,p=e==="target",w=re(),x=Ta(),{connectOnClick:S,noPanClassName:g,rfId:y}=J(og,oe),{connectingFrom:N,connectingTo:E,clickConnecting:b,isPossibleEndHandle:R,connectionInProcess:D,clickConnectionInProcess:j,valid:L}=J(ig(x,m,e),oe);x||(C=(P=w.getState()).onError)==null||C.call(P,"010",ye.error010());const z=M=>{const{defaultEdgeOptions:I,onConnect:k,hasDefaultEdges:_}=w.getState(),T={...I,...M};if(_){const{edges:$,setEdges:V}=w.getState();V(As(T,$))}k==null||k(T),c==null||c(T)},H=M=>{if(!x)return;const I=Es(M.nativeEvent);if(o&&(I&&M.button===0||!I)){const k=w.getState();no.onPointerDown(M.nativeEvent,{autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:p,handleId:m,nodeId:x,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:z,isValidConnection:n||k.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed})}I?f==null||f(M):d==null||d(M)},v=M=>{const{onClickConnectStart:I,onClickConnectEnd:k,connectionClickStartHandle:_,connectionMode:T,isValidConnection:$,lib:V,rfId:Y,nodeLookup:W,connection:X}=w.getState();if(!x||!_&&!o)return;if(!_){I==null||I(M.nativeEvent,{nodeId:x,handleId:m,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:x,type:e,id:m}});return}const B=_s(M.target),F=n||$,{connection:U,isValid:Q}=no.isValid(M.nativeEvent,{handle:{nodeId:x,id:m,type:e},connectionMode:T,fromNodeId:_.nodeId,fromHandleId:_.id||null,fromType:_.type,isValidConnection:F,flowId:Y,doc:B,lib:V,nodeLookup:W});Q&&U&&z(U);const K=structuredClone(X);delete K.inProgress,K.toPosition=K.toHandle?K.toHandle.position:null,k==null||k(M,K),w.setState({connectionClickStartHandle:null})};return O.jsx("div",{"data-handleid":m,"data-nodeid":x,"data-handlepos":t,"data-id":`${y}-${x}-${m}-${e}`,className:ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,l,{source:!p,target:p,connectable:r,connectablestart:o,connectableend:i,clickconnecting:b,connectingfrom:N,connectingto:E,valid:L,connectionindicator:r&&(!D||R)&&(D||j?i:o)}]),onMouseDown:H,onTouchStart:H,onClick:S?v:void 0,ref:h,...a,children:u})}const ze=A.memo(Na(sg));function ag({data:e,isConnectable:t,sourcePosition:n=q.Bottom}){return O.jsxs(O.Fragment,{children:[e==null?void 0:e.label,O.jsx(ze,{type:"source",position:n,isConnectable:t})]})}function cg({data:e,isConnectable:t,targetPosition:n=q.Top,sourcePosition:r=q.Bottom}){return O.jsxs(O.Fragment,{children:[O.jsx(ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,O.jsx(ze,{type:"source",position:r,isConnectable:t})]})}function ug(){return null}function lg({data:e,isConnectable:t,targetPosition:n=q.Top}){return O.jsxs(O.Fragment,{children:[O.jsx(ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const nr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Pa={input:ag,default:cg,output:lg,group:ug};function dg(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const fg=e=>{const{width:t,height:n,x:r,y:o}=Vt(e.nodeLookup,{filter:i=>!!i.selected});return{width:Se(t)?t:null,height:Se(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function hg({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=re(),{width:o,height:i,transformString:s,userSelectionActive:c}=J(fg,oe),u=Aa(),l=A.useRef(null);if(A.useEffect(()=>{var a;n||(a=l.current)==null||a.focus({preventScroll:!0})},[n]),Oa({nodeRef:l}),c||!o||!i)return null;const f=e?a=>{const h=r.getState().nodes.filter(m=>m.selected);e(a,h)}:void 0,d=a=>{Object.prototype.hasOwnProperty.call(nr,a.key)&&(a.preventDefault(),u({direction:nr[a.key],factor:a.shiftKey?4:1}))};return O.jsx("div",{className:ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:O.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:o,height:i}})})}const Ra=typeof window<"u"?window:void 0,pg=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Ia({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:l,selectionOnDrag:f,selectionMode:d,onSelectionStart:a,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:p,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:g,panOnScroll:y,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:b,panOnDrag:R,defaultViewport:D,translateExtent:j,minZoom:L,maxZoom:z,preventScrolling:H,onSelectionContextMenu:v,noWheelClassName:P,noPanClassName:C,disableKeyboardA11y:M,onViewportChange:I,isControlledViewport:k}){const{nodesSelectionActive:_,userSelectionActive:T}=J(pg),$=Gt(l,{target:Ra}),V=Gt(p,{target:Ra}),Y=V||R,W=V||y,X=f&&Y!==!0,B=$||T||X;return qp({deleteKeyCode:u,multiSelectionKeyCode:m}),O.jsx(Zp,{onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:g,panOnScroll:W,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:b,panOnDrag:!$&&Y,defaultViewport:D,translateExtent:j,minZoom:L,maxZoom:z,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:P,noPanClassName:C,onViewportChange:I,isControlledViewport:k,paneClickDistance:c,children:O.jsxs(tg,{onSelectionStart:a,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!B,selectionMode:d,selectionKeyPressed:$,selectionOnDrag:X,children:[e,_&&O.jsx(hg,{onSelectionContextMenu:v,noPanClassName:C,disableKeyboardA11y:M})]})})}Ia.displayName="FlowRenderer";const gg=A.memo(Ia),mg=e=>t=>e?ds(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function yg(e){return J(A.useCallback(mg(e),[e]),oe)}const xg=e=>e.updateNodeInternals;function wg(){const e=J(xg),[t]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return A.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function vg({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=re(),i=A.useRef(null),s=A.useRef(null),c=A.useRef(e.sourcePosition),u=A.useRef(e.targetPosition),l=A.useRef(t),f=n&&!!e.internals.handleBounds;return A.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),A.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),A.useEffect(()=>{if(i.current){const d=l.current!==t,a=c.current!==e.sourcePosition,h=u.current!==e.targetPosition;(d||a||h)&&(l.current=t,c.current=e.sourcePosition,u.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function bg({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:c,elementsSelectable:u,nodesConnectable:l,nodesFocusable:f,resizeObserver:d,noDragClassName:a,noPanClassName:h,disableKeyboardA11y:m,rfId:p,nodeTypes:w,nodeClickDistance:x,onError:S}){const{node:g,internals:y,isParent:N}=J(B=>{const F=B.nodeLookup.get(e),U=B.parentLookup.has(e);return{node:F,internals:F.internals,isParent:U}},oe);let E=g.type||"default",b=(w==null?void 0:w[E])||Pa[E];b===void 0&&(S==null||S("003",ye.error003(E)),E="default",b=Pa.default);const R=!!(g.draggable||c&&typeof g.draggable>"u"),D=!!(g.selectable||u&&typeof g.selectable>"u"),j=!!(g.connectable||l&&typeof g.connectable>"u"),L=!!(g.focusable||f&&typeof g.focusable>"u"),z=re(),H=ws(g),v=vg({node:g,nodeType:E,hasDimensions:H,resizeObserver:d}),P=Oa({nodeRef:v,disabled:g.hidden||!R,noDragClassName:a,handleSelector:g.dragHandle,nodeId:e,isSelectable:D,nodeClickDistance:x}),C=Aa();if(g.hidden)return null;const M=Te(g),I=dg(g),k=D||R||t||n||r||o,_=n?B=>n(B,{...y.userNode}):void 0,T=r?B=>r(B,{...y.userNode}):void 0,$=o?B=>o(B,{...y.userNode}):void 0,V=i?B=>i(B,{...y.userNode}):void 0,Y=s?B=>s(B,{...y.userNode}):void 0,W=B=>{const{selectNodesOnDrag:F,nodeDragThreshold:U}=z.getState();D&&(!F||!R||U>0)&&fo({id:e,store:z,nodeRef:v}),t&&t(B,{...y.userNode})},X=B=>{if(!(Ss(B.nativeEvent)||m))if(ss.includes(B.key)&&D){const F=B.key==="Escape";fo({id:e,store:z,unselect:F,nodeRef:v})}else R&&g.selected&&Object.prototype.hasOwnProperty.call(nr,B.key)&&(B.preventDefault(),z.setState({ariaLiveMessage:`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~y.positionAbsolute.x}, y: ${~~y.positionAbsolute.y}`}),C({direction:nr[B.key],factor:B.shiftKey?4:1}))};return O.jsx("div",{className:ae(["react-flow__node",`react-flow__node-${E}`,{[h]:R},g.className,{selected:g.selected,selectable:D,parent:N,draggable:R,dragging:P}]),ref:v,style:{zIndex:y.z,transform:`translate(${y.positionAbsolute.x}px,${y.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:H?"visible":"hidden",...g.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:_,onMouseMove:T,onMouseLeave:$,onContextMenu:V,onClick:W,onDoubleClick:Y,onKeyDown:L?X:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":m?void 0:`${la}-${p}`,"aria-label":g.ariaLabel,children:O.jsx(rg,{value:e,children:O.jsx(b,{id:e,data:g.data,type:E,positionAbsoluteX:y.positionAbsolute.x,positionAbsoluteY:y.positionAbsolute.y,selected:g.selected??!1,selectable:D,draggable:R,deletable:g.deletable??!0,isConnectable:j,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:P,dragHandle:g.dragHandle,zIndex:y.z,parentId:g.parentId,...M})})})}const _g=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Da(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=J(_g,oe),s=yg(e.onlyRenderVisibleElements),c=wg();return O.jsx("div",{className:"react-flow__nodes",style:tr,children:s.map(u=>O.jsx(bg,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}Da.displayName="NodeRenderer";const Sg=A.memo(Da);function Eg(e){return J(A.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&_h({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),oe)}const Ng=({color:e="none",strokeWidth:t=1})=>O.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Cg=({color:e="none",strokeWidth:t=1})=>O.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$a={[$e.Arrow]:Ng,[$e.ArrowClosed]:Cg};function kg(e){const t=re();return A.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call($a,e)?$a[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",ye.error009(e)),null)},[e])}const Mg=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:c="auto-start-reverse"})=>{const u=kg(t);return u?O.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:O.jsx(u,{color:n,strokeWidth:s})}):null},La=({defaultColor:e,rfId:t})=>{const n=J(i=>i.edges),r=J(i=>i.defaultEdgeOptions),o=A.useMemo(()=>Oh(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?O.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:O.jsx("defs",{children:o.map(i=>O.jsx(Mg,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};La.displayName="MarkerDefinitions";var Og=A.memo(La);function ja({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:c=2,children:u,className:l,...f}){const[d,a]=A.useState({x:1,y:0,width:0,height:0}),h=ae(["react-flow__edge-textwrapper",l]),m=A.useRef(null);return A.useEffect(()=>{if(m.current){const p=m.current.getBBox();a({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?O.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:h,visibility:d.width?"visible":"hidden",...f,children:[o&&O.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),O.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),u]}):null}ja.displayName="EdgeText";const Ag=A.memo(ja);function qt({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:l=20,...f}){return O.jsxs(O.Fragment,{children:[O.jsx("path",{...f,d:e,fill:"none",className:ae(["react-flow__edge-path",f.className])}),l&&O.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}),r&&Se(t)&&Se(n)?O.jsx(Ag,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function za({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===q.Left||e===q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Ha({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top}){const[s,c]=za({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,l]=za({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,d,a,h]=Cs({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:l});return[`M${e},${t} C${s},${c} ${u},${l} ${r},${o}`,f,d,a,h]}function Va(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:c,label:u,labelStyle:l,labelShowBg:f,labelBgStyle:d,labelBgPadding:a,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:w,interactionWidth:x})=>{const[S,g,y]=Ha({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:c}),N=e.isInternal?void 0:t;return O.jsx(qt,{id:N,path:S,labelX:g,labelY:y,label:u,labelStyle:l,labelShowBg:f,labelBgStyle:d,labelBgPadding:a,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:w,interactionWidth:x})})}const Tg=Va({isInternal:!1}),Ba=Va({isInternal:!0});Tg.displayName="SimpleBezierEdge",Ba.displayName="SimpleBezierEdgeInternal";function Fa(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:d,style:a,sourcePosition:h=q.Bottom,targetPosition:m=q.Top,markerEnd:p,markerStart:w,pathOptions:x,interactionWidth:S})=>{const[g,y,N]=qr({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:m,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),E=e.isInternal?void 0:t;return O.jsx(qt,{id:E,path:g,labelX:y,labelY:N,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:d,style:a,markerEnd:p,markerStart:w,interactionWidth:S})})}const Ya=Fa({isInternal:!1}),Wa=Fa({isInternal:!0});Ya.displayName="SmoothStepEdge",Wa.displayName="SmoothStepEdgeInternal";function Xa(e){return A.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return O.jsx(Ya,{...n,id:r,pathOptions:A.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const Pg=Xa({isInternal:!1}),Ga=Xa({isInternal:!0});Pg.displayName="StepEdge",Ga.displayName="StepEdgeInternal";function qa(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:d,style:a,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[w,x,S]=Gr({sourceX:n,sourceY:r,targetX:o,targetY:i}),g=e.isInternal?void 0:t;return O.jsx(qt,{id:g,path:w,labelX:x,labelY:S,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:f,labelBgBorderRadius:d,style:a,markerEnd:h,markerStart:m,interactionWidth:p})})}const Rg=qa({isInternal:!1}),Ua=qa({isInternal:!0});Rg.displayName="StraightEdge",Ua.displayName="StraightEdgeInternal";function Ka(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=q.Bottom,targetPosition:c=q.Top,label:u,labelStyle:l,labelShowBg:f,labelBgStyle:d,labelBgPadding:a,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:w,pathOptions:x,interactionWidth:S})=>{const[g,y,N]=Ms({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:c,curvature:x==null?void 0:x.curvature}),E=e.isInternal?void 0:t;return O.jsx(qt,{id:E,path:g,labelX:y,labelY:N,label:u,labelStyle:l,labelShowBg:f,labelBgStyle:d,labelBgPadding:a,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:w,interactionWidth:S})})}const Ig=Ka({isInternal:!1}),Za=Ka({isInternal:!0});Ig.displayName="BezierEdge",Za.displayName="BezierEdgeInternal";const Qa={default:Za,straight:Ua,step:Ga,smoothstep:Wa,simplebezier:Ba},Ja={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Dg=(e,t,n)=>n===q.Left?e-t:n===q.Right?e+t:e,$g=(e,t,n)=>n===q.Top?e-t:n===q.Bottom?e+t:e,ec="react-flow__edgeupdater";function tc({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:c}){return O.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:ae([ec,`${ec}-${c}`]),cx:Dg(t,r,e),cy:$g(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Lg({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:c,targetPosition:u,onReconnect:l,onReconnectStart:f,onReconnectEnd:d,setReconnecting:a,setUpdateHover:h}){const m=re(),p=(y,N)=>{if(y.button!==0)return;const{autoPanOnConnect:E,domNode:b,isValidConnection:R,connectionMode:D,connectionRadius:j,lib:L,onConnectStart:z,onConnectEnd:H,cancelConnection:v,nodeLookup:P,rfId:C,panBy:M,updateConnection:I}=m.getState(),k=N.type==="target";a(!0),f==null||f(y,n,N.type);const _=($,V)=>{a(!1),d==null||d($,n,N.type,V)},T=$=>l==null?void 0:l(n,$);no.onPointerDown(y.nativeEvent,{autoPanOnConnect:E,connectionMode:D,connectionRadius:j,domNode:b,handleId:N.id,nodeId:N.nodeId,nodeLookup:P,isTarget:k,edgeUpdaterType:N.type,lib:L,flowId:C,cancelConnection:v,panBy:M,isValidConnection:R,onConnect:T,onConnectStart:z,onConnectEnd:H,onReconnectEnd:_,updateConnection:I,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},w=y=>p(y,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=y=>p(y,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),S=()=>h(!0),g=()=>h(!1);return O.jsxs(O.Fragment,{children:[(e===!0||e==="source")&&O.jsx(tc,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:S,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&O.jsx(tc,{position:u,centerX:i,centerY:s,radius:t,onMouseDown:x,onMouseEnter:S,onMouseOut:g,type:"target"})]})}function jg({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:l,reconnectRadius:f,onReconnect:d,onReconnectStart:a,onReconnectEnd:h,rfId:m,edgeTypes:p,noPanClassName:w,onError:x,disableKeyboardA11y:S}){let g=J(G=>G.edgeLookup.get(e));const y=J(G=>G.defaultEdgeOptions);g=y?{...y,...g}:g;let N=g.type||"default",E=(p==null?void 0:p[N])||Qa[N];E===void 0&&(x==null||x("011",ye.error011(N)),N="default",E=Qa.default);const b=!!(g.focusable||t&&typeof g.focusable>"u"),R=typeof d<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),D=!!(g.selectable||r&&typeof g.selectable>"u"),j=A.useRef(null),[L,z]=A.useState(!1),[H,v]=A.useState(!1),P=re(),{zIndex:C,sourceX:M,sourceY:I,targetX:k,targetY:_,sourcePosition:T,targetPosition:$}=J(A.useCallback(G=>{const ie=G.nodeLookup.get(g.source),te=G.nodeLookup.get(g.target);if(!ie||!te)return{zIndex:g.zIndex,...Ja};const ue=Mh({id:e,sourceNode:ie,targetNode:te,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:G.connectionMode,onError:x});return{zIndex:bh({selected:g.selected,zIndex:g.zIndex,sourceNode:ie,targetNode:te,elevateOnSelect:G.elevateEdgesOnSelect}),...ue||Ja}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),oe),V=A.useMemo(()=>g.markerStart?`url('#${Ur(g.markerStart,m)}')`:void 0,[g.markerStart,m]),Y=A.useMemo(()=>g.markerEnd?`url('#${Ur(g.markerEnd,m)}')`:void 0,[g.markerEnd,m]);if(g.hidden||M===null||I===null||k===null||_===null)return null;const W=G=>{var fe;const{addSelectedEdges:ie,unselectNodesAndEdges:te,multiSelectionActive:ue}=P.getState();D&&(P.setState({nodesSelectionActive:!1}),g.selected&&ue?(te({nodes:[],edges:[g]}),(fe=j.current)==null||fe.blur()):ie([e])),o&&o(G,g)},X=i?G=>{i(G,{...g})}:void 0,B=s?G=>{s(G,{...g})}:void 0,F=c?G=>{c(G,{...g})}:void 0,U=u?G=>{u(G,{...g})}:void 0,Q=l?G=>{l(G,{...g})}:void 0,K=G=>{var ie;if(!S&&ss.includes(G.key)&&D){const{unselectNodesAndEdges:te,addSelectedEdges:ue}=P.getState();G.key==="Escape"?((ie=j.current)==null||ie.blur(),te({edges:[g]})):ue([e])}};return O.jsx("svg",{style:{zIndex:C},children:O.jsxs("g",{className:ae(["react-flow__edge",`react-flow__edge-${N}`,g.className,w,{selected:g.selected,animated:g.animated,inactive:!D&&!o,updating:L,selectable:D}]),onClick:W,onDoubleClick:X,onContextMenu:B,onMouseEnter:F,onMouseMove:U,onMouseLeave:Q,onKeyDown:b?K:void 0,tabIndex:b?0:void 0,role:b?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":b?`${da}-${m}`:void 0,ref:j,children:[!H&&O.jsx(E,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:D,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:M,sourceY:I,targetX:k,targetY:_,sourcePosition:T,targetPosition:$,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:V,markerEnd:Y,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),R&&O.jsx(Lg,{edge:g,isReconnectable:R,reconnectRadius:f,onReconnect:d,onReconnectStart:a,onReconnectEnd:h,sourceX:M,sourceY:I,targetX:k,targetY:_,sourcePosition:T,targetPosition:$,setUpdateHover:z,setReconnecting:v})]})})}const zg=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function nc({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:a,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:p}){const{edgesFocusable:w,edgesReconnectable:x,elementsSelectable:S,onError:g}=J(zg,oe),y=Eg(t);return O.jsxs("div",{className:"react-flow__edges",children:[O.jsx(Og,{defaultColor:e,rfId:n}),y.map(N=>O.jsx(jg,{id:N,edgesFocusable:w,edgesReconnectable:x,elementsSelectable:S,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:l,onClick:f,reconnectRadius:d,onDoubleClick:a,onReconnectStart:h,onReconnectEnd:m,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:p},N))]})}nc.displayName="EdgeRenderer";const Hg=A.memo(nc),Vg=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Bg({children:e}){const t=J(Vg);return O.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Fg(e){const t=uo(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Yg=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Wg(e){const t=J(Yg),n=re();return A.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Xg(e){return e.connection.inProgress?{...e.connection,to:Ft(e.connection.to,e.transform)}:{...e.connection}}function Gg(e){return Xg}function qg(e){const t=Gg();return J(t,oe)}const Ug=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Kg({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:c,inProgress:u}=J(Ug,oe);return!(i&&o&&u)?null:O.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:O.jsx("g",{className:ae(["react-flow__connection",us(c)]),children:O.jsx(rc,{style:t,type:n,CustomComponent:r,isValid:c})})})}const rc=({style:e,type:t=De.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:c,fromPosition:u,to:l,toNode:f,toHandle:d,toPosition:a}=qg();if(!o)return;if(n)return O.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:c,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:u,toPosition:a,connectionStatus:us(r),toNode:f,toHandle:d});let h="";const m={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:l.x,targetY:l.y,targetPosition:a};switch(t){case De.Bezier:[h]=Ms(m);break;case De.SimpleBezier:[h]=Ha(m);break;case De.Step:[h]=qr({...m,borderRadius:0});break;case De.SmoothStep:[h]=qr(m);break;default:[h]=Gr(m)}return O.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};rc.displayName="ConnectionLine";const Zg={};function oc(e=Zg){const t=A.useRef(e),n=re();A.useEffect(()=>{var r,o;if(process.env.NODE_ENV==="development"){const i=new Set([...Object.keys(t.current),...Object.keys(e)]);for(const s of i)if(t.current[s]!==e[s]){(o=(r=n.getState()).onError)==null||o.call(r,"002",ye.error002());break}t.current=e}},[e])}function Qg(){const e=re(),t=A.useRef(!1);A.useEffect(()=>{var n,r;if(process.env.NODE_ENV==="development"&&!t.current){const o=document.querySelector(".react-flow__pane");o&&window.getComputedStyle(o).zIndex!=="1"&&((r=(n=e.getState()).onError)==null||r.call(n,"013",ye.error013("react"))),t.current=!0}},[])}function ic({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:a,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:p,connectionLineComponent:w,connectionLineContainerStyle:x,selectionKeyCode:S,selectionOnDrag:g,selectionMode:y,multiSelectionKeyCode:N,panActivationKeyCode:E,zoomActivationKeyCode:b,deleteKeyCode:R,onlyRenderVisibleElements:D,elementsSelectable:j,defaultViewport:L,translateExtent:z,minZoom:H,maxZoom:v,preventScrolling:P,defaultMarkerColor:C,zoomOnScroll:M,zoomOnPinch:I,panOnScroll:k,panOnScrollSpeed:_,panOnScrollMode:T,zoomOnDoubleClick:$,panOnDrag:V,onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:X,onPaneMouseLeave:B,onPaneScroll:F,onPaneContextMenu:U,paneClickDistance:Q,nodeClickDistance:K,onEdgeContextMenu:G,onEdgeMouseEnter:ie,onEdgeMouseMove:te,onEdgeMouseLeave:ue,reconnectRadius:fe,onReconnect:vt,onReconnectStart:go,onReconnectEnd:mo,noDragClassName:Zt,noWheelClassName:yo,noPanClassName:Qt,disableKeyboardA11y:Jt,nodeExtent:xo,rfId:bt,viewport:_t,onViewportChange:sr}){return oc(e),oc(t),Qg(),Fg(n),Wg(_t),O.jsx(gg,{onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:X,onPaneMouseLeave:B,onPaneContextMenu:U,onPaneScroll:F,paneClickDistance:Q,deleteKeyCode:R,selectionKeyCode:S,selectionOnDrag:g,selectionMode:y,onSelectionStart:a,onSelectionEnd:h,multiSelectionKeyCode:N,panActivationKeyCode:E,zoomActivationKeyCode:b,elementsSelectable:j,zoomOnScroll:M,zoomOnPinch:I,zoomOnDoubleClick:$,panOnScroll:k,panOnScrollSpeed:_,panOnScrollMode:T,panOnDrag:V,defaultViewport:L,translateExtent:z,minZoom:H,maxZoom:v,onSelectionContextMenu:d,preventScrolling:P,noDragClassName:Zt,noWheelClassName:yo,noPanClassName:Qt,disableKeyboardA11y:Jt,onViewportChange:sr,isControlledViewport:!!_t,children:O.jsxs(Bg,{children:[O.jsx(Hg,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:vt,onReconnectStart:go,onReconnectEnd:mo,onlyRenderVisibleElements:D,onEdgeContextMenu:G,onEdgeMouseEnter:ie,onEdgeMouseMove:te,onEdgeMouseLeave:ue,reconnectRadius:fe,defaultMarkerColor:C,noPanClassName:Qt,disableKeyboardA11y:Jt,rfId:bt}),O.jsx(Kg,{style:p,type:m,component:w,containerStyle:x}),O.jsx("div",{className:"react-flow__edgelabel-renderer"}),O.jsx(Sg,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:f,nodeClickDistance:K,onlyRenderVisibleElements:D,noPanClassName:Qt,noDragClassName:Zt,disableKeyboardA11y:Jt,nodeExtent:xo,rfId:bt}),O.jsx("div",{className:"react-flow__viewport-portal"})]})})}ic.displayName="GraphView";const Jg=A.memo(ic),sc=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u=.5,maxZoom:l=2,nodeOrigin:f,nodeExtent:d}={})=>{const a=new Map,h=new Map,m=new Map,p=new Map,w=r??t??[],x=n??e??[],S=f??[0,0],g=d??zt;js(m,p,w);const y=Qr(x,a,h,{nodeOrigin:S,nodeExtent:g,elevateNodesOnSelect:!1});let N=[0,0,1];if(s&&o&&i){const E=Vt(a,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:b,y:R,zoom:D}=Wr(E,o,i,u,l,(c==null?void 0:c.padding)??.1);N=[b,R,D]}return{rfId:"1",width:0,height:0,transform:N,nodes:x,nodesInitialized:y,nodeLookup:a,parentLookup:h,edges:w,edgeLookup:p,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:l,translateExtent:zt,nodeExtent:g,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ke.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:c,fitViewResolver:null,connection:{...as},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:xs,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},em=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u,maxZoom:l,nodeOrigin:f,nodeExtent:d})=>yp((a,h)=>{async function m(){const{nodeLookup:p,panZoom:w,fitViewOptions:x,fitViewResolver:S,width:g,height:y,minZoom:N,maxZoom:E}=h();w&&(await gh({nodes:p,width:g,height:y,panZoom:w,minZoom:N,maxZoom:E},x),S==null||S.resolve(!0),a({fitViewResolver:null}))}return{...sc({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:c,minZoom:u,maxZoom:l,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:w,parentLookup:x,nodeOrigin:S,elevateNodesOnSelect:g,fitViewQueued:y}=h(),N=Qr(p,w,x,{nodeOrigin:S,nodeExtent:d,elevateNodesOnSelect:g,checkEquality:!0});y&&N?(m(),a({nodes:p,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):a({nodes:p,nodesInitialized:N})},setEdges:p=>{const{connectionLookup:w,edgeLookup:x}=h();js(w,x,p),a({edges:p})},setDefaultNodesAndEdges:(p,w)=>{if(p){const{setNodes:x}=h();x(p),a({hasDefaultNodes:!0})}if(w){const{setEdges:x}=h();x(w),a({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:w,nodeLookup:x,parentLookup:S,domNode:g,nodeOrigin:y,nodeExtent:N,debug:E,fitViewQueued:b}=h(),{changes:R,updatedInternals:D}=Ih(p,x,S,g,y,N);D&&(Th(x,S,{nodeOrigin:y,nodeExtent:N}),b?(m(),a({fitViewQueued:!1,fitViewOptions:void 0})):a({}),(R==null?void 0:R.length)>0&&(E&&console.log("React Flow: trigger node changes",R),w==null||w(R)))},updateNodePositions:(p,w=!1)=>{const x=[],S=[],{nodeLookup:g,triggerNodeChanges:y}=h();for(const[N,E]of p){const b=g.get(N),R=!!(b!=null&&b.expandParent&&(b!=null&&b.parentId)&&(E!=null&&E.position)),D={id:N,type:"position",position:R?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};R&&b.parentId&&x.push({id:N,parentId:b.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),S.push(D)}if(x.length>0){const{parentLookup:N,nodeOrigin:E}=h(),b=eo(x,g,N,E);S.push(...b)}y(S)},triggerNodeChanges:p=>{const{onNodesChange:w,setNodes:x,nodes:S,hasDefaultNodes:g,debug:y}=h();if(p!=null&&p.length){if(g){const N=va(p,S);x(N)}y&&console.log("React Flow: trigger node changes",p),w==null||w(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:w,setEdges:x,edges:S,hasDefaultEdges:g,debug:y}=h();if(p!=null&&p.length){if(g){const N=ba(p,S);x(N)}y&&console.log("React Flow: trigger edge changes",p),w==null||w(p)}},addSelectedNodes:p=>{const{multiSelectionActive:w,edgeLookup:x,nodeLookup:S,triggerNodeChanges:g,triggerEdgeChanges:y}=h();if(w){const N=p.map(E=>Je(E,!0));g(N);return}g(wt(S,new Set([...p]),!0)),y(wt(x))},addSelectedEdges:p=>{const{multiSelectionActive:w,edgeLookup:x,nodeLookup:S,triggerNodeChanges:g,triggerEdgeChanges:y}=h();if(w){const N=p.map(E=>Je(E,!0));y(N);return}y(wt(x,new Set([...p]))),g(wt(S,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:w}={})=>{const{edges:x,nodes:S,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:N}=h(),E=p||S,b=w||x,R=E.map(j=>{const L=g.get(j.id);return L&&(L.selected=!1),Je(j.id,!1)}),D=b.map(j=>Je(j.id,!1));y(R),N(D)},setMinZoom:p=>{const{panZoom:w,maxZoom:x}=h();w==null||w.setScaleExtent([p,x]),a({minZoom:p})},setMaxZoom:p=>{const{panZoom:w,minZoom:x}=h();w==null||w.setScaleExtent([x,p]),a({maxZoom:p})},setTranslateExtent:p=>{var w;(w=h().panZoom)==null||w.setTranslateExtent(p),a({translateExtent:p})},setPaneClickDistance:p=>{var w;(w=h().panZoom)==null||w.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:w,triggerNodeChanges:x,triggerEdgeChanges:S,elementsSelectable:g}=h();if(!g)return;const y=w.reduce((E,b)=>b.selected?[...E,Je(b.id,!1)]:E,[]),N=p.reduce((E,b)=>b.selected?[...E,Je(b.id,!1)]:E,[]);x(y),S(N)},setNodeExtent:p=>{const{nodes:w,nodeLookup:x,parentLookup:S,nodeOrigin:g,elevateNodesOnSelect:y,nodeExtent:N}=h();p[0][0]===N[0][0]&&p[0][1]===N[0][1]&&p[1][0]===N[1][0]&&p[1][1]===N[1][1]||(Qr(w,x,S,{nodeOrigin:g,nodeExtent:p,elevateNodesOnSelect:y,checkEquality:!1}),a({nodeExtent:p}))},panBy:p=>{const{transform:w,width:x,height:S,panZoom:g,translateExtent:y}=h();return Dh({delta:p,panZoom:g,transform:w,translateExtent:y,width:x,height:S})},cancelConnection:()=>{a({connection:{...as}})},updateConnection:p=>{a({connection:p})},reset:()=>a({...sc()})}},Object.is);function tm({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:c,initialFitViewOptions:u,fitView:l,nodeOrigin:f,nodeExtent:d,children:a}){const[h]=A.useState(()=>em({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,minZoom:s,maxZoom:c,fitViewOptions:u,nodeOrigin:f,nodeExtent:d}));return O.jsx(bp,{value:h,children:O.jsx(Fp,{children:a})})}function nm({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:c,fitViewOptions:u,minZoom:l,maxZoom:f,nodeOrigin:d,nodeExtent:a}){return A.useContext(Qn)?O.jsx(O.Fragment,{children:e}):O.jsx(tm,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:c,initialFitViewOptions:u,initialMinZoom:l,initialMaxZoom:f,nodeOrigin:d,nodeExtent:a,children:e})}const rm={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function om({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:c,onEdgeClick:u,onInit:l,onMove:f,onMoveStart:d,onMoveEnd:a,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:w,onClickConnectEnd:x,onNodeMouseEnter:S,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:N,onNodeDoubleClick:E,onNodeDragStart:b,onNodeDrag:R,onNodeDragStop:D,onNodesDelete:j,onEdgesDelete:L,onDelete:z,onSelectionChange:H,onSelectionDragStart:v,onSelectionDrag:P,onSelectionDragStop:C,onSelectionContextMenu:M,onSelectionStart:I,onSelectionEnd:k,onBeforeDelete:_,connectionMode:T,connectionLineType:$=De.Bezier,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:W,deleteKeyCode:X="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:F=!1,selectionMode:U=ht.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:K=Wn()?"Meta":"Control",zoomActivationKeyCode:G=Wn()?"Meta":"Control",snapToGrid:ie,snapGrid:te,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:fe,nodesDraggable:vt,nodesConnectable:go,nodesFocusable:mo,nodeOrigin:Zt=fa,edgesFocusable:yo,edgesReconnectable:Qt,elementsSelectable:Jt=!0,defaultViewport:xo=Ip,minZoom:bt=.5,maxZoom:_t=2,translateExtent:sr=zt,preventScrolling:ty=!0,nodeExtent:wo,defaultMarkerColor:ny="#b1b1b7",zoomOnScroll:ry=!0,zoomOnPinch:oy=!0,panOnScroll:iy=!1,panOnScrollSpeed:sy=.5,panOnScrollMode:ay=Ze.Free,zoomOnDoubleClick:cy=!0,panOnDrag:uy=!0,onPaneClick:ly,onPaneMouseEnter:dy,onPaneMouseMove:fy,onPaneMouseLeave:hy,onPaneScroll:py,onPaneContextMenu:gy,paneClickDistance:gc=0,nodeClickDistance:my=0,children:yy,onReconnect:xy,onReconnectStart:wy,onReconnectEnd:vy,onEdgeContextMenu:by,onEdgeDoubleClick:_y,onEdgeMouseEnter:Sy,onEdgeMouseMove:Ey,onEdgeMouseLeave:Ny,reconnectRadius:Cy=10,onNodesChange:ky,onEdgesChange:My,noDragClassName:Oy="nodrag",noWheelClassName:Ay="nowheel",noPanClassName:mc="nopan",fitView:yc,fitViewOptions:xc,connectOnClick:Ty,attributionPosition:Py,proOptions:Ry,defaultEdgeOptions:Iy,elevateNodesOnSelect:Dy,elevateEdgesOnSelect:$y,disableKeyboardA11y:wc=!1,autoPanOnConnect:Ly,autoPanOnNodeDrag:jy,autoPanSpeed:zy,connectionRadius:Hy,isValidConnection:Vy,onError:By,style:Fy,id:vc,nodeDragThreshold:Yy,viewport:Wy,onViewportChange:Xy,width:Gy,height:qy,colorMode:Uy="light",debug:Ky,onScroll:ar,...Zy},Qy){const vo=vc||"1",Jy=Lp(Uy),e0=A.useCallback(bc=>{bc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ar==null||ar(bc)},[ar]);return O.jsx("div",{"data-testid":"rf__wrapper",...Zy,onScroll:e0,style:{...Fy,...rm},ref:Qy,className:ae(["react-flow",o,Jy]),id:vc,children:O.jsxs(nm,{nodes:e,edges:t,width:Gy,height:qy,fitView:yc,fitViewOptions:xc,minZoom:bt,maxZoom:_t,nodeOrigin:Zt,nodeExtent:wo,children:[O.jsx(Jg,{onInit:l,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:S,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:N,onNodeDoubleClick:E,nodeTypes:i,edgeTypes:s,connectionLineType:$,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:W,selectionKeyCode:B,selectionOnDrag:F,selectionMode:U,deleteKeyCode:X,multiSelectionKeyCode:K,panActivationKeyCode:Q,zoomActivationKeyCode:G,onlyRenderVisibleElements:ue,defaultViewport:xo,translateExtent:sr,minZoom:bt,maxZoom:_t,preventScrolling:ty,zoomOnScroll:ry,zoomOnPinch:oy,zoomOnDoubleClick:cy,panOnScroll:iy,panOnScrollSpeed:sy,panOnScrollMode:ay,panOnDrag:uy,onPaneClick:ly,onPaneMouseEnter:dy,onPaneMouseMove:fy,onPaneMouseLeave:hy,onPaneScroll:py,onPaneContextMenu:gy,paneClickDistance:gc,nodeClickDistance:my,onSelectionContextMenu:M,onSelectionStart:I,onSelectionEnd:k,onReconnect:xy,onReconnectStart:wy,onReconnectEnd:vy,onEdgeContextMenu:by,onEdgeDoubleClick:_y,onEdgeMouseEnter:Sy,onEdgeMouseMove:Ey,onEdgeMouseLeave:Ny,reconnectRadius:Cy,defaultMarkerColor:ny,noDragClassName:Oy,noWheelClassName:Ay,noPanClassName:mc,rfId:vo,disableKeyboardA11y:wc,nodeExtent:wo,viewport:Wy,onViewportChange:Xy}),O.jsx($p,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:w,onClickConnectEnd:x,nodesDraggable:vt,nodesConnectable:go,nodesFocusable:mo,edgesFocusable:yo,edgesReconnectable:Qt,elementsSelectable:Jt,elevateNodesOnSelect:Dy,elevateEdgesOnSelect:$y,minZoom:bt,maxZoom:_t,nodeExtent:wo,onNodesChange:ky,onEdgesChange:My,snapToGrid:ie,snapGrid:te,connectionMode:T,translateExtent:sr,connectOnClick:Ty,defaultEdgeOptions:Iy,fitView:yc,fitViewOptions:xc,onNodesDelete:j,onEdgesDelete:L,onDelete:z,onNodeDragStart:b,onNodeDrag:R,onNodeDragStop:D,onSelectionDrag:P,onSelectionDragStart:v,onSelectionDragStop:C,onMove:f,onMoveStart:d,onMoveEnd:a,noPanClassName:mc,nodeOrigin:Zt,rfId:vo,autoPanOnConnect:Ly,autoPanOnNodeDrag:jy,autoPanSpeed:zy,onError:By,connectionRadius:Hy,isValidConnection:Vy,selectNodesOnDrag:fe,nodeDragThreshold:Yy,onBeforeDelete:_,paneClickDistance:gc,debug:Ky}),O.jsx(Rp,{onSelectionChange:H}),yy,O.jsx(Mp,{proOptions:Ry,position:Py}),O.jsx(Cp,{rfId:vo,disableKeyboardA11y:wc})]})})}var im=Na(om);function sm(e){const[t,n]=A.useState(e),r=A.useCallback(o=>n(i=>va(o,i)),[]);return[t,n,r]}function am(e){const[t,n]=A.useState(e),r=A.useCallback(o=>n(i=>ba(o,i)),[]);return[t,n,r]}function cm({dimensions:e,lineWidth:t,variant:n,className:r}){return O.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ae(["react-flow__background-pattern",n,r])})}function um({radius:e,className:t}){return O.jsx("circle",{cx:e,cy:e,r:e,className:ae(["react-flow__background-pattern","dots",t])})}var He;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(He||(He={}));const lm={[He.Dots]:1,[He.Lines]:1,[He.Cross]:6},dm=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ac({id:e,variant:t=He.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:c,style:u,className:l,patternClassName:f}){const d=A.useRef(null),{transform:a,patternId:h}=J(dm,oe),m=r||lm[t],p=t===He.Dots,w=t===He.Cross,x=Array.isArray(n)?n:[n,n],S=[x[0]*a[2]||1,x[1]*a[2]||1],g=m*a[2],y=Array.isArray(i)?i:[i,i],N=w?[g,g]:S,E=[y[0]*a[2]||1+N[0]/2,y[1]*a[2]||1+N[1]/2],b=`${h}${e||""}`;return O.jsxs("svg",{className:ae(["react-flow__background",l]),style:{...u,...tr,"--xy-background-color-props":c,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[O.jsx("pattern",{id:b,x:a[0]%S[0],y:a[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:p?O.jsx(um,{radius:g/2,className:f}):O.jsx(cm,{dimensions:N,lineWidth:o,variant:t,className:f})}),O.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}ac.displayName="Background";const fm=A.memo(ac);function hm(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:O.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function pm(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:O.jsx("path",{d:"M0 0h32v4.2H0z"})})}function gm(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:O.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function mm(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ym(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function rr({children:e,className:t,...n}){return O.jsx("button",{type:"button",className:ae(["react-flow__controls-button",t]),...n,children:e})}const xm=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function cc({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:c,onInteractiveChange:u,className:l,children:f,position:d="bottom-left",orientation:a="vertical","aria-label":h="React Flow controls"}){const m=re(),{isInteractive:p,minZoomReached:w,maxZoomReached:x}=J(xm,oe),{zoomIn:S,zoomOut:g,fitView:y}=uo(),N=()=>{S(),i==null||i()},E=()=>{g(),s==null||s()},b=()=>{y(o),c==null||c()},R=()=>{m.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),u==null||u(!p)},D=a==="horizontal"?"horizontal":"vertical";return O.jsxs(Jn,{className:ae(["react-flow__controls",D,l]),position:d,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&O.jsxs(O.Fragment,{children:[O.jsx(rr,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:O.jsx(hm,{})}),O.jsx(rr,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:O.jsx(pm,{})})]}),n&&O.jsx(rr,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view",children:O.jsx(gm,{})}),r&&O.jsx(rr,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity",children:p?O.jsx(ym,{}):O.jsx(mm,{})}),f]})}cc.displayName="Controls",A.memo(cc);function wm({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:c,strokeWidth:u,className:l,borderRadius:f,shapeRendering:d,selected:a,onClick:h}){const{background:m,backgroundColor:p}=i||{},w=s||m||p;return O.jsx("rect",{className:ae(["react-flow__minimap-node",{selected:a},l]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:w,stroke:c,strokeWidth:u},shapeRendering:d,onClick:h?x=>h(x,e):void 0})}const vm=A.memo(wm),bm=e=>e.nodes.map(t=>t.id),po=e=>e instanceof Function?e:()=>e;function _m({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=vm,onClick:s}){const c=J(bm,oe),u=po(t),l=po(e),f=po(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.jsx(O.Fragment,{children:c.map(a=>O.jsx(Em,{id:a,nodeColorFunc:u,nodeStrokeColorFunc:l,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:d},a))})}function Sm({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:c,onClick:u}){const{node:l,x:f,y:d,width:a,height:h}=J(m=>{const{internals:p}=m.nodeLookup.get(e),w=p.userNode,{x,y:S}=p.positionAbsolute,{width:g,height:y}=Te(w);return{node:w,x,y:S,width:g,height:y}},oe);return!l||l.hidden||!ws(l)?null:O.jsx(c,{x:f,y:d,width:a,height:h,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:o,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:u,id:l.id})}const Em=A.memo(Sm);var Nm=A.memo(_m);const Cm=200,km=150,Mm=e=>!e.hidden,Om=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ms(Vt(e.nodeLookup,{filter:Mm}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},Am="react-flow__minimap-desc";function uc({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:c,bgColor:u,maskColor:l,maskStrokeColor:f,maskStrokeWidth:d,position:a="bottom-right",onClick:h,onNodeClick:m,pannable:p=!1,zoomable:w=!1,ariaLabel:x="React Flow mini map",inversePan:S,zoomStep:g=10,offsetScale:y=5}){const N=re(),E=A.useRef(null),{boundingRect:b,viewBB:R,rfId:D,panZoom:j,translateExtent:L,flowWidth:z,flowHeight:H}=J(Om,oe),v=(e==null?void 0:e.width)??Cm,P=(e==null?void 0:e.height)??km,C=b.width/v,M=b.height/P,I=Math.max(C,M),k=I*v,_=I*P,T=y*I,$=b.x-(k-b.width)/2-T,V=b.y-(_-b.height)/2-T,Y=k+T*2,W=_+T*2,X=`${Am}-${D}`,B=A.useRef(0),F=A.useRef();B.current=I,A.useEffect(()=>{if(E.current&&j)return F.current=Fh({domNode:E.current,panZoom:j,getTransform:()=>N.getState().transform,getViewScale:()=>B.current}),()=>{var K;(K=F.current)==null||K.destroy()}},[j]),A.useEffect(()=>{var K;(K=F.current)==null||K.update({translateExtent:L,width:z,height:H,inversePan:S,pannable:p,zoomStep:g,zoomable:w})},[p,w,S,g,L,z,H]);const U=h?K=>{var te;const[G,ie]=((te=F.current)==null?void 0:te.pointer(K))||[0,0];h(K,{x:G,y:ie})}:void 0,Q=m?A.useCallback((K,G)=>{const ie=N.getState().nodeLookup.get(G).internals.userNode;m(K,ie)},[]):void 0;return O.jsx(Jn,{position:a,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ae(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:O.jsxs("svg",{width:v,height:P,viewBox:`${$} ${V} ${Y} ${W}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":X,ref:E,onClick:U,children:[x&&O.jsx("title",{id:X,children:x}),O.jsx(Nm,{onClick:Q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:c}),O.jsx("path",{className:"react-flow__minimap-mask",d:`M${$-T},${V-T}h${Y+T*2}v${W+T*2}h${-Y-T*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uc.displayName="MiniMap",A.memo(uc);function Tm({nodeId:e,position:t,variant:n=Xt.Handle,className:r,style:o={},children:i,color:s,minWidth:c=10,minHeight:u=10,maxWidth:l=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:a,shouldResize:h,onResizeStart:m,onResize:p,onResizeEnd:w}){const x=Ta(),S=typeof e=="string"?e:x,g=re(),y=A.useRef(null),N=n===Xt.Line?"right":"bottom-right",E=t??N,b=A.useRef(null);A.useEffect(()=>{if(!(!y.current||!S))return b.current||(b.current=op({domNode:y.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:L,transform:z,snapGrid:H,snapToGrid:v,nodeOrigin:P,domNode:C}=g.getState();return{nodeLookup:L,transform:z,snapGrid:H,snapToGrid:v,nodeOrigin:P,paneDomNode:C}},onChange:(L,z)=>{const{triggerNodeChanges:H,nodeLookup:v,parentLookup:P,nodeOrigin:C}=g.getState(),M=[],I={x:L.x,y:L.y},k=v.get(S);if(k&&k.expandParent&&k.parentId){const _=k.origin??C,T=L.width??k.measured.width??0,$=L.height??k.measured.height??0,V={id:k.id,parentId:k.parentId,rect:{width:T,height:$,...vs({x:L.x??k.position.x,y:L.y??k.position.y},{width:T,height:$},k.parentId,v,_)}},Y=eo([V],v,P,C);M.push(...Y),I.x=L.x?Math.max(_[0]*T,L.x):void 0,I.y=L.y?Math.max(_[1]*$,L.y):void 0}if(I.x!==void 0&&I.y!==void 0){const _={id:S,type:"position",position:{...I}};M.push(_)}if(L.width!==void 0&&L.height!==void 0){const T={id:S,type:"dimensions",resizing:!0,setAttributes:a?a==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};M.push(T)}for(const _ of z){const T={..._,type:"position"};M.push(T)}H(M)},onEnd:({width:L,height:z})=>{const H={id:S,type:"dimensions",resizing:!1,dimensions:{width:L,height:z}};g.getState().triggerNodeChanges([H])}})),b.current.update({controlPosition:E,boundaries:{minWidth:c,minHeight:u,maxWidth:l,maxHeight:f},keepAspectRatio:d,resizeDirection:a,onResizeStart:m,onResize:p,onResizeEnd:w,shouldResize:h}),()=>{var L;(L=b.current)==null||L.destroy()}},[E,c,u,l,f,d,m,p,w,h]);const R=E.split("-"),D=n===Xt.Line?"borderColor":"backgroundColor",j=s?{...o,[D]:s}:o;return O.jsx("div",{className:ae(["react-flow__resize-control","nodrag",...R,n,r]),ref:y,style:j,children:i})}A.memo(Tm);const Pm=kt.div`
  width: 60px;
  max-width: 130px;
  background-color: ${e=>e.$bgColor?e.$bgColor:"white"};
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  padding: 5px 10px;
  color:rgb(112, 111, 111);
  font-size: 12px;
  border-radius: 3px;
  box-shadow: 0px 0px 2px 0px rgba(95, 95, 95, 0.75);
  gap: 2px;

  .react-flow__node.selected & {
    outline: 1px solid rgb(112, 111, 111);
  }

  .react-flow__handle {
    background-color: lightblue;
    border-color: lightblue;
    min-height: 4px;
    height: 4px;
    min-width: 4px;
    width: 4px;
    visibility: hidden;
  }


  &:hover {
    .react-flow__handle {
      visibility: visible;
    }
  }
`,Rm=kt.div`
  margin: 0;
  font-size: 12px;
  line-height: 1;
`,Im=kt.p`
  font-size: 8px;
  margin: 0;
  text-align: center;
  line-height: 1;
`,Ut={NodeContainer:Pm,NodeIcon:Rm,NodeLabel:Im};var lc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dc=A.createContext&&A.createContext(lc),Dm=["attr","size","title"];function $m(e,t){if(e==null)return{};var n=Lm(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lm(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fc(Object(n),!0).forEach(function(r){jm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jm(e,t,n){return t=zm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zm(e){var t=Hm(e,"string");return typeof t=="symbol"?t:t+""}function Hm(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(e){return e&&e.map((t,n)=>A.createElement(t.tag,ir({key:n},t.attr),hc(t.child)))}function Kt(e){return t=>A.createElement(Vm,or({attr:ir({},e.attr)},t),hc(e.child))}function Vm(e){var t=n=>{var{attr:r,size:o,title:i}=e,s=$m(e,Dm),c=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),A.createElement("svg",or({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:ir(ir({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&A.createElement("title",null,i),e.children)};return dc!==void 0?A.createElement(dc.Consumer,null,n=>t(n)):t(lc)}function Bm(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m18 16 4-4-4-4"},child:[]},{tag:"path",attr:{d:"m6 8-4 4 4 4"},child:[]},{tag:"path",attr:{d:"m14.5 4-5 16"},child:[]}]})(e)}function Fm(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M3 5V19A9 3 0 0 0 21 19V5"},child:[]},{tag:"path",attr:{d:"M3 12A9 3 0 0 0 21 12"},child:[]}]})(e)}function pc(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"},child:[]},{tag:"path",attr:{d:"M14 2v4a2 2 0 0 0 2 2h4"},child:[]}]})(e)}function Ym(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function Wm(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"},child:[]}]})(e)}function Xm(e){const t={LuDatabase:O.jsx(Fm,{}),LuFile:O.jsx(pc,{}),LuCodeXml:O.jsx(Bm,{}),LuStar:O.jsx(Wm,{}),LuInbox:O.jsx(Ym,{})};return t[e]?t[e]:O.jsx(pc,{})}function Gm({data:e}){return!e.label||!e.id?O.jsx(Ut.NodeContainer,{children:O.jsx(Ut.NodeLabel,{children:"Wrong created node"})}):O.jsxs(Ut.NodeContainer,{$bgColor:e.bgColor,children:[O.jsx(ze,{type:"source",position:q.Top,id:`${e.id}-top`}),e.icon&&O.jsx(Ut.NodeIcon,{children:Xm(e.icon)}),O.jsx(Ut.NodeLabel,{children:e.label}),O.jsx(ze,{type:"source",position:q.Bottom,id:`${e.id}-bottom`}),O.jsx(ze,{type:"source",position:q.Left,id:`${e.id}-left`}),O.jsx(ze,{type:"source",position:q.Right,id:`${e.id}-right`})]})}function qm({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,markerEnd:i}){const[s]=Gr({sourceX:t,sourceY:n,targetX:r,targetY:o+2});return O.jsx(O.Fragment,{children:O.jsx(qt,{id:e,path:s,markerEnd:i})})}const Um=[{id:"1",position:{x:0,y:0},data:{label:"obj 1",id:"1",icon:"LuDatabase"},type:"custom-node"},{id:"2",position:{x:0,y:100},data:{label:"obj 2",id:"2",icon:"LuFile"},type:"custom-node"},{id:"3",position:{x:200,y:150},data:{label:"obj 3",id:"3",icon:"LuCodeXml"},type:"custom-node"},{id:"4",position:{x:200,y:250},data:{label:"obj 4",id:"4",icon:"LuStar"},type:"custom-node"},{id:"5",position:{x:300,y:350},data:{label:"obj 5",id:"5",icon:"LuInbox"},type:"custom-node"}],Km=[{id:"e1-2",source:"1",target:"2",sourceHandle:"1-bottom",targetHandle:"2-top",type:"straight-arrow",markerEnd:{type:$e.Arrow}},{id:"e1-3",source:"1",sourceHandle:"1-right",target:"3",type:"straight-arrow",markerEnd:{type:$e.Arrow}}],Zm=[1,2],Qm={"custom-node":Gm},Jm={"straight-arrow":qm};function ey({nodeColor:e,importedJSON:t,setCurrentJSON:n}){const[r,o,i]=sm(Um),[s,c,u]=am(Km);A.useEffect(()=>{if(!n)return;const f=JSON.parse(JSON.stringify(s)),d={elements:r,connections:f.map(a=>(delete a.markerEnd,a))};n(JSON.stringify(d))},[r,s,n]),A.useEffect(()=>{e&&o(f=>f.map(a=>({...a,data:{...a.data,bgColor:e}})))},[e,o]),A.useEffect(()=>{if(!t)return;const f=JSON.parse(JSON.parse(t));if(Array.isArray(f.connections)&&Array.isArray(f.elements)){const d=f.connections.map(a=>(a.markerEnd={type:$e.Arrow},a));o(f.elements),c(d)}else alert("Wrong file, structure or format. Should be JSON and contain 2 arrays of objects: 'elements' & 'connections'.")},[t,c,o]);const l=A.useCallback(f=>{const d={...f,type:"straight-arrow",markerEnd:{type:$e.Arrow}};c(a=>As(d,a))},[c]);return O.jsx(Ru.SheetWrapper,{children:O.jsx(im,{nodes:r,edges:s,onNodesChange:i,onEdgesChange:u,onConnect:l,nodeTypes:Qm,edgeTypes:Jm,fitView:!0,panOnScroll:!0,selectionOnDrag:!0,panOnDrag:Zm,selectionMode:ht.Partial,connectionMode:Ke.Loose,deleteKeyCode:["Delete","Backspace"],children:O.jsx(fm,{id:"1",color:"#f7f7f7",bgColor:"#f7f7f7"})})})}Ve.DiagramSheet=ey,Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"})});
